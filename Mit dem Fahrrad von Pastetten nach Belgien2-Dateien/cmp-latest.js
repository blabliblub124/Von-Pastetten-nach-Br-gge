/*! For license information please see cmp-latest.js.LICENSE.txt */
(()=>{var e,t={2638:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});class n{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const s=this.deepClone(this[t]);void 0!==s&&(e[t]=s)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const s of e)t.push(this.deepClone(s));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const s in e)e.hasOwnProperty(s)&&(t[s]=this.deepClone(e[s]));return t}}}}},5476:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var n=s(2638),o=s(3411),r=s(5012),i=s(6026);class a extends n.F{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new i.Rs;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new o.Xr("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;dataCategories;lang_;cacheLang_;isLatest=!1;constructor(e,t){super();let s=a.baseUrl,n=null==t?void 0:t.language;if(n)try{n=a.consentLanguages.parseLanguage(n)}catch(e){throw new o.Xr("Error during parsing the language: "+e.message)}if(this.lang_=n||a.DEFAULT_LANGUAGE,this.cacheLang_=n||a.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!s)throw new o.Xr("must specify GVL.baseUrl before loading GVL json");if(e>0){const t=e;a.CACHE.has(t)?(this.populate(a.CACHE.get(t)),this.readyPromise=Promise.resolve()):(s+=a.versionedFilename.replace("[VERSION]",String(t)),this.readyPromise=this.fetchJson(s))}else a.CACHE.has(a.LATEST_CACHE_KEY)?(this.populate(a.CACHE.get(a.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(s+a.latestFilename))}}static emptyLanguageCache(e){let t=!1;return null==e&&a.LANGUAGE_CACHE.size>0?(a.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(a.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(a.CACHE.delete(e),t=!0):void 0===e&&(a.CACHE=new Map,t=!0),t}cacheLanguage(){a.LANGUAGE_CACHE.has(this.cacheLang_)||a.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}async fetchJson(e){try{this.populate(await r.P.fetch(e))}catch(e){throw new o.Xr(e.message)}}getJson(){return{gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks(),...this.dataCategories?{dataCategories:this.cloneDataCategories()}:{},vendors:this.cloneVendors()}}cloneSpecialFeatures(){const e={};for(const t of Object.keys(this.specialFeatures))e[t]=a.cloneFeature(this.specialFeatures[t]);return e}cloneFeatures(){const e={};for(const t of Object.keys(this.features))e[t]=a.cloneFeature(this.features[t]);return e}cloneStacks(){const e={};for(const t of Object.keys(this.stacks))e[t]=a.cloneStack(this.stacks[t]);return e}cloneDataCategories(){const e={};for(const t of Object.keys(this.dataCategories))e[t]=a.cloneDataCategory(this.dataCategories[t]);return e}cloneSpecialPurposes(){const e={};for(const t of Object.keys(this.specialPurposes))e[t]=a.clonePurpose(this.specialPurposes[t]);return e}clonePurposes(){const e={};for(const t of Object.keys(this.purposes))e[t]=a.clonePurpose(this.purposes[t]);return e}static clonePurpose(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneFeature(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneDataCategory(e){return{id:e.id,name:e.name,description:e.description}}static cloneStack(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}static cloneDataRetention(e){return{..."number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{},purposes:{...e.purposes},specialPurposes:{...e.specialPurposes}}}static cloneVendorUrls(e){return e.map((e=>({langId:e.langId,privacy:e.privacy,...e.legIntClaim?{legIntClaim:e.legIntClaim}:{}})))}static cloneVendor(e){return{id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures),...e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{},..."number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{},...void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{},...e.policyUrl?{policyUrl:e.policyUrl}:{},...void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{},...void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{},...e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{},...e.urls?{urls:this.cloneVendorUrls(e.urls)}:{},...e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{},...e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{},...e.deletedDate?{deletedDate:e.deletedDate}:{}}}cloneVendors(){const e={};for(const t of Object.keys(this.fullVendorList))e[t]=a.cloneVendor(this.fullVendorList[t]);return e}async changeLanguage(e){let t=e;try{t=a.consentLanguages.parseLanguage(e)}catch(e){throw new o.Xr("Error during parsing the language: "+e.message)}const s=e.toUpperCase();if((t.toLowerCase()!==a.DEFAULT_LANGUAGE.toLowerCase()||a.LANGUAGE_CACHE.has(s))&&t!==this.lang_)if(this.lang_=t,a.LANGUAGE_CACHE.has(s)){const e=a.LANGUAGE_CACHE.get(s);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const e=a.baseUrl+a.languageFilename.replace("[LANG]",this.lang_.toLowerCase());try{await this.fetchJson(e),this.cacheLang_=s,this.cacheLanguage()}catch(e){throw new o.Xr("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&a.CACHE.set(a.LATEST_CACHE_KEY,this.getJson()),a.CACHE.has(this.vendorListVersion)||a.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const s=this.vendors_[String(t)];return s&&void 0===s.deletedDate&&(s.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),s.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),s.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),s.flexiblePurposes&&s.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),s.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),s.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=s),e}),{})}getFilteredVendors(e,t,s,n){const o=e.charAt(0).toUpperCase()+e.slice(1);let r;const i={};return r="purpose"===e&&s?this["by"+o+"VendorMap"][String(t)][s]:this["by"+(n?"Special":"")+o+"VendorMap"][String(t)],r.forEach((e=>{i[String(e)]=this.vendors[String(e)]})),i}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new a(this.getJson());return this.lang_!==a.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}},5012:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});class n{static absCall(e,t,s,n){return new Promise(((o,r)=>{const i=new XMLHttpRequest;i.withCredentials=s,i.addEventListener("load",(()=>{if(i.readyState==XMLHttpRequest.DONE)if(i.status>=200&&i.status<300){let e=i.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else r(new Error(`HTTP Status: ${i.status} response type: ${i.responseType}`))})),i.addEventListener("error",(()=>{r(new Error("error"))})),i.addEventListener("abort",(()=>{r(new Error("aborted"))})),null===t?i.open("GET",e,!0):i.open("POST",e,!0),i.responseType="json",i.timeout=n,i.ontimeout=()=>{r(new Error("Timeout "+n+"ms "+e))},i.send(t)}))}static post(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),s,n)}static fetch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,s)}}},932:(e,t,s)=>{"use strict";s.d(t,{g:()=>a});var n=s(2638),o=s(3411),r=s(5476),i=s(6026);class a extends n.F{static consentLanguages=r.E.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardTexts_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=5;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new i.OW;purposeConsents=new i.OW;purposeLegitimateInterests=new i.OW;publisherConsents=new i.OW;publisherLegitimateInterests=new i.OW;publisherCustomConsents=new i.OW;publisherCustomLegitimateInterests=new i.OW;customPurposes;vendorConsents=new i.OW;vendorLegitimateInterests=new i.OW;vendorsDisclosed=new i.OW;vendorsAllowed=new i.OW;publisherRestrictions=new i.S3;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){r.E.isInstanceOf(e)||(e=new r.E(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new o.vP("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new o.vP("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new o.vP("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new o.vP("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new o.vP("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new o.vP("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardTexts(e){this.useNonStandardTexts_=e}get useNonStandardTexts(){return this.useNonStandardTexts_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new o.vP("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}},6345:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var n=s(6323),o=s(6026),r=s(1485),i=s(932);class a{static encode(e,t){let s,o="";return e=n.em.process(e,t),s=Array.isArray(null==t?void 0:t.segments)?t.segments:new n.YU(e,t)[""+e.version],s.forEach(((t,r)=>{let i="";r<s.length-1&&(i="."),o+=n.nT.encode(e,t)+i})),o}static decode(e,t){const s=e.split("."),a=s.length;t||(t=new i.g);for(let e=0;e<a;e++){const i=s[e],a=n.O0.decode(i.charAt(0)).substr(0,n._V.segmentType),c=o.hK.ID_TO_KEY[r.i.decode(a,n._V.segmentType).toString()];n.nT.decode(i,t,c)}return t}}},7581:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var n=s(3411);class o{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new n.wj("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let s="";for(let t=0;t<e.length;t+=this.BASIS)s+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return s}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new n.LB("Invalidly encoded Base64URL string");let t="";for(let s=0;s<e.length;s++){const n=this.REVERSE_DICT.get(e[s]).toString(2);t+="0".repeat(this.BASIS-n.length)+n}return t}}},9482:(e,t,s)=>{"use strict";s.d(t,{_:()=>o});var n=s(6026);class o{static[n.Iv.cmpId]=12;static[n.Iv.cmpVersion]=12;static[n.Iv.consentLanguage]=12;static[n.Iv.consentScreen]=6;static[n.Iv.created]=36;static[n.Iv.isServiceSpecific]=1;static[n.Iv.lastUpdated]=36;static[n.Iv.policyVersion]=6;static[n.Iv.publisherCountryCode]=12;static[n.Iv.publisherLegitimateInterests]=24;static[n.Iv.publisherConsents]=24;static[n.Iv.purposeConsents]=24;static[n.Iv.purposeLegitimateInterests]=24;static[n.Iv.purposeOneTreatment]=1;static[n.Iv.specialFeatureOptins]=12;static[n.Iv.useNonStandardTexts]=1;static[n.Iv.vendorListVersion]=12;static[n.Iv.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}},2878:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var n=s(7581),o=s(9482),r=s(7893),i=s(1045),a=s(3411),c=s(5721),l=s(6026);class u{static fieldSequence=new i.M;static encode(e,t){let s;try{s=this.fieldSequence[String(e.version)][t]}catch(s){throw new a.wj(`Unable to encode version: ${e.version}, segment: ${t}`)}let i="";t!==l.XX.CORE&&(i=r.iV.encode(l.hK.KEY_TO_ID[t],o._.segmentType));const u=(0,r.BE)();return s.forEach((s=>{const n=e[s],r=u[s];let l=o._[s];void 0===l&&this.isPublisherCustom(s)&&(l=Number(e[c.I.numCustomPurposes]));try{i+=r.encode(n,l)}catch(e){throw new a.wj(`Error encoding ${t}->${s}: ${e.message}`)}})),n.O.encode(i)}static decode(e,t,s){const i=n.O.decode(e);let u=0;s===l.XX.CORE&&(t.version=r.iV.decode(i.substr(u,o._[c.I.version]),o._[c.I.version])),s!==l.XX.CORE&&(u+=o._.segmentType);const d=this.fieldSequence[String(t.version)][s],h=(0,r.BE)();return d.forEach((e=>{const s=h[e];let n=o._[e];if(void 0===n&&this.isPublisherCustom(e)&&(n=Number(t[c.I.numCustomPurposes])),0!==n){const o=i.substr(u,n);if(s===r.N7?t[e]=s.decode(o,t.version):t[e]=s.decode(o,n),Number.isInteger(n))u+=n;else{if(!Number.isInteger(t[e].bitLength))throw new a.LB(e);u+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}},8146:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var n=s(3411),o=s(6026);class r{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);const s=new Map;return s.set("legIntPurposes",e.vendorLegitimateInterests),s.set("purposes",e.vendorConsents),s.forEach(((s,n)=>{s.forEach(((r,i)=>{if(r){const r=t.vendors[i];if(!r||r.deletedDate)s.unset(i);else if(0===r[n].length)if("legIntPurposes"===n&&0===r.purposes.length&&0===r.legIntPurposes.length&&r.specialPurposes.length>0)s.set(i);else if("legIntPurposes"===n&&r.purposes.length>0&&0===r.legIntPurposes.length&&r.specialPurposes.length>0)s.set(i);else if(e.isServiceSpecific)if(0===r.flexiblePurposes.length)s.unset(i);else{const t=e.publisherRestrictions.getRestrictions(i);let r=!1;for(let e=0,s=t.length;e<s&&!r;e++)r=t[e].restrictionType===o.cQ.REQUIRE_CONSENT&&"purposes"===n||t[e].restrictionType===o.cQ.REQUIRE_LI&&"legIntPurposes"===n;r||s.unset(i)}else s.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const s=e.gvl;if(!s)throw new n.wj("Unable to encode TCModel without a GVL");if(!s.isReady)throw new n.wj("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=s.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;const o=e.version-1;if(!this.processor[o])throw new n.wj(`Invalid version: ${e.version}`);return this.processor[o](e,s)}}},9250:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});class n{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}},8285:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(1485),o=s(3411);class r{static encode(e,t){return n.i.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new o.LB("invalid bit length");const s=new Date;return s.setTime(100*n.i.decode(e,t)),s}}},4375:(e,t,s)=>{"use strict";s.d(t,{B:()=>d});var n=s(6026),o=s(9250),r=s(8285),i=s(3722),a=s(1485),c=s(3802),l=s(8139),u=s(7191);function d(){return{[n.Iv.version]:a.i,[n.Iv.created]:r.A,[n.Iv.lastUpdated]:r.A,[n.Iv.cmpId]:a.i,[n.Iv.cmpVersion]:a.i,[n.Iv.consentScreen]:a.i,[n.Iv.consentLanguage]:c._,[n.Iv.vendorListVersion]:a.i,[n.Iv.policyVersion]:a.i,[n.Iv.isServiceSpecific]:o.t,[n.Iv.useNonStandardTexts]:o.t,[n.Iv.specialFeatureOptins]:i.D,[n.Iv.purposeConsents]:i.D,[n.Iv.purposeLegitimateInterests]:i.D,[n.Iv.purposeOneTreatment]:o.t,[n.Iv.publisherCountryCode]:c._,[n.Iv.vendorConsents]:u.N,[n.Iv.vendorLegitimateInterests]:u.N,[n.Iv.publisherRestrictions]:l.C,segmentType:a.i,[n.Iv.vendorsDisclosed]:u.N,[n.Iv.vendorsAllowed]:u.N,[n.Iv.publisherConsents]:i.D,[n.Iv.publisherLegitimateInterests]:i.D,[n.Iv.numCustomPurposes]:a.i,[n.Iv.publisherCustomConsents]:i.D,[n.Iv.publisherCustomLegitimateInterests]:i.D}}},3722:(e,t,s)=>{"use strict";s.d(t,{D:()=>i});var n=s(9250),o=s(3411),r=s(6026);class i{static encode(e,t){let s="";for(let o=1;o<=t;o++)s+=n.t.encode(e.has(o));return s}static decode(e,t){if(e.length!==t)throw new o.LB("bitfield encoding length mismatch");const s=new r.OW;for(let o=1;o<=t;o++)n.t.decode(e[o-1])&&s.set(o);return s.bitLength=e.length,s}}},1485:(e,t,s)=>{"use strict";s.d(t,{i:()=>o});var n=s(3411);class o{static encode(e,t){let s;if("string"==typeof e&&(e=parseInt(e,10)),s=e.toString(2),s.length>t||e<0)throw new n.wj(`${e} too large to encode into ${t}`);return s.length<t&&(s="0".repeat(t-s.length)+s),s}static decode(e,t){if(t!==e.length)throw new n.LB("invalid bit length");return parseInt(e,2)}}},3802:(e,t,s)=>{"use strict";s.d(t,{_:()=>r});var n=s(1485),o=s(3411);class r{static encode(e,t){const s=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(s<0||s>25||r<0||r>25)throw new o.wj(`invalid language code: ${e}`);if(t%2==1)throw new o.wj(`numBits must be even, ${t} is not valid`);t/=2;return n.i.encode(s,t)+n.i.encode(r,t)}static decode(e,t){let s;if(t!==e.length||e.length%2)throw new o.LB("invalid bit length for language");{const t=65,o=e.length/2,r=n.i.decode(e.slice(0,o),o)+t,i=n.i.decode(e.slice(o),o)+t;s=String.fromCharCode(r)+String.fromCharCode(i)}return s}}},8139:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var n=s(9482),o=s(9250),r=s(3411),i=s(1485),a=s(6026);class c{static encode(e){let t=i.i.encode(e.numRestrictions,n._.numRestrictions);if(!e.isEmpty()){const s=(t,s)=>{for(let n=t+1;n<=s;n++)if(e.gvl.vendorIds.has(n))return n;return t};e.getRestrictions().forEach((r=>{t+=i.i.encode(r.purposeId,n._.purposeId),t+=i.i.encode(r.restrictionType,n._.restrictionType);const a=e.getVendors(r),c=a.length;let l=0,u=0,d="";for(let e=0;e<c;e++){const t=a[e];if(0===u&&(l++,u=t),e===c-1||a[e+1]>s(t,a[c-1])){const e=!(t===u);d+=o.t.encode(e),d+=i.i.encode(u,n._.vendorId),e&&(d+=i.i.encode(t,n._.vendorId)),u=0}}t+=i.i.encode(l,n._.numEntries),t+=d}))}return t}static decode(e){let t=0;const s=new a.S3,c=i.i.decode(e.substr(t,n._.numRestrictions),n._.numRestrictions);t+=n._.numRestrictions;for(let l=0;l<c;l++){const c=i.i.decode(e.substr(t,n._.purposeId),n._.purposeId);t+=n._.purposeId;const l=i.i.decode(e.substr(t,n._.restrictionType),n._.restrictionType);t+=n._.restrictionType;const u=new a.yO(c,l),d=i.i.decode(e.substr(t,n._.numEntries),n._.numEntries);t+=n._.numEntries;for(let a=0;a<d;a++){const a=o.t.decode(e.substr(t,n._.anyBoolean));t+=n._.anyBoolean;const c=i.i.decode(e.substr(t,n._.vendorId),n._.vendorId);if(t+=n._.vendorId,a){const o=i.i.decode(e.substr(t,n._.vendorId),n._.vendorId);if(t+=n._.vendorId,o<c)throw new r.LB(`Invalid RangeEntry: endVendorId ${o} is less than ${c}`);for(let e=c;e<=o;e++)s.add(e,u)}else s.add(c,u)}}return s.bitLength=t,s}}},8566:(e,t,s)=>{"use strict";var n;s.d(t,{V:()=>n}),function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(n||(n={}))},7191:(e,t,s)=>{"use strict";s.d(t,{N:()=>u});var n=s(6026),o=s(6323),r=s(1485),i=s(9250),a=s(3722),c=s(8566),l=s(3411);class u{static encode(e){const t=[];let s,n=[],a=r.i.encode(e.maxId,o._V.maxId),l="";const u=o._V.maxId+o._V.encodingType,d=u+e.maxId,h=2*o._V.vendorId+o._V.singleOrRange+o._V.numEntries;let p=u+o._V.numEntries;return e.forEach(((r,a)=>{if(l+=i.t.encode(r),s=e.maxId>h&&p<d,s&&r){e.has(a+1)?0===n.length&&(n.push(a),p+=o._V.singleOrRange,p+=o._V.vendorId):(n.push(a),p+=o._V.vendorId,t.push(n),n=[])}})),s?(a+=String(c.V.RANGE),a+=this.buildRangeEncoding(t)):(a+=String(c.V.FIELD),a+=l),a}static decode(e,t){let s,u=0;const d=r.i.decode(e.substr(u,o._V.maxId),o._V.maxId);u+=o._V.maxId;const h=r.i.decode(e.charAt(u),o._V.encodingType);if(u+=o._V.encodingType,h===c.V.RANGE){if(s=new n.OW,1===t){if("1"===e.substr(u,1))throw new l.LB("Unable to decode default consent=1");u++}const a=r.i.decode(e.substr(u,o._V.numEntries),o._V.numEntries);u+=o._V.numEntries;for(let t=0;t<a;t++){const t=i.t.decode(e.charAt(u));u+=o._V.singleOrRange;const n=r.i.decode(e.substr(u,o._V.vendorId),o._V.vendorId);if(u+=o._V.vendorId,t){const t=r.i.decode(e.substr(u,o._V.vendorId),o._V.vendorId);u+=o._V.vendorId;for(let e=n;e<=t;e++)s.set(e)}else s.set(n)}}else{const t=e.substr(u,d);u+=d,s=a.D.decode(t,d)}return s.bitLength=u,s}static buildRangeEncoding(e){const t=e.length;let s=r.i.encode(t,o._V.numEntries);return e.forEach((e=>{const t=1===e.length;s+=i.t.encode(!t),s+=r.i.encode(e[0],o._V.vendorId),t||(s+=r.i.encode(e[1],o._V.vendorId))})),s}}},7893:(e,t,s)=>{"use strict";s.d(t,{BE:()=>n.B,N7:()=>r.N,iV:()=>o.i});s(8285);var n=s(4375),o=(s(3722),s(1485)),r=(s(3802),s(8139),s(8566),s(7191))},6323:(e,t,s)=>{"use strict";s.d(t,{O0:()=>n.O,YU:()=>a.Y,_V:()=>o._,em:()=>i.e,nT:()=>r.n});var n=s(7581),o=s(9482),r=s(2878),i=s(8146),a=(s(7893),s(1045))},5114:(e,t,s)=>{"use strict";s.d(t,{M:()=>o});var n=s(6026);class o{1={[n.XX.CORE]:[n.Iv.version,n.Iv.created,n.Iv.lastUpdated,n.Iv.cmpId,n.Iv.cmpVersion,n.Iv.consentScreen,n.Iv.consentLanguage,n.Iv.vendorListVersion,n.Iv.purposeConsents,n.Iv.vendorConsents]};2={[n.XX.CORE]:[n.Iv.version,n.Iv.created,n.Iv.lastUpdated,n.Iv.cmpId,n.Iv.cmpVersion,n.Iv.consentScreen,n.Iv.consentLanguage,n.Iv.vendorListVersion,n.Iv.policyVersion,n.Iv.isServiceSpecific,n.Iv.useNonStandardTexts,n.Iv.specialFeatureOptins,n.Iv.purposeConsents,n.Iv.purposeLegitimateInterests,n.Iv.purposeOneTreatment,n.Iv.publisherCountryCode,n.Iv.vendorConsents,n.Iv.vendorLegitimateInterests,n.Iv.publisherRestrictions],[n.XX.PUBLISHER_TC]:[n.Iv.publisherConsents,n.Iv.publisherLegitimateInterests,n.Iv.numCustomPurposes,n.Iv.publisherCustomConsents,n.Iv.publisherCustomLegitimateInterests],[n.XX.VENDORS_ALLOWED]:[n.Iv.vendorsAllowed],[n.XX.VENDORS_DISCLOSED]:[n.Iv.vendorsDisclosed]}}},9073:(e,t,s)=>{"use strict";s.d(t,{Y:()=>o});var n=s(6026);class o{1=[n.XX.CORE];2=[n.XX.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(n.XX.PUBLISHER_TC);else{const s=!(!t||!t.isForVendors);s&&!0!==e[n.Iv.supportOOB]||this[2].push(n.XX.VENDORS_DISCLOSED),s&&(e[n.Iv.supportOOB]&&e[n.Iv.vendorsAllowed].size>0&&this[2].push(n.XX.VENDORS_ALLOWED),this[2].push(n.XX.PUBLISHER_TC))}}}},1045:(e,t,s)=>{"use strict";s.d(t,{M:()=>n.M,Y:()=>o.Y});var n=s(5114),o=s(9073)},1488:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});class n extends Error{constructor(e){super(e),this.name="DecodingError"}}},4728:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});class n extends Error{constructor(e){super(e),this.name="EncodingError"}}},639:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});class n extends Error{constructor(e){super(e),this.name="GVLError"}}},3486:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});class n extends Error{constructor(e,t){super(`invalid value ${t} passed for ${e} ${arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}`),this.name="TCModelError"}}},3411:(e,t,s)=>{"use strict";s.d(t,{LB:()=>n.L,Xr:()=>r.X,vP:()=>i.v,wj:()=>o.w});var n=s(1488),o=s(4728),r=s(639),i=s(3486)},1364:(e,t,s)=>{"use strict";s.d(t,{E9:()=>i.E,Ew:()=>o.E,cQ:()=>n.cQ,gI:()=>r.g,yO:()=>n.yO});s(6323),s(3411);var n=s(6026),o=s(5476),r=s(932),i=s(6345)},9335:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});class n{static langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HI","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH","ZH-HANT"]);has(e){return n.langSet.has(e)}parseLanguage(e){const t=(e=e.toUpperCase()).split("-")[0];if(e.length>=2&&2==t.length){if(n.langSet.has(e))return e;if(n.langSet.has(t))return t;const s=t+"-"+t;if(n.langSet.has(s))return s;for(const s of n.langSet)if(-1!==s.indexOf(e)||-1!==s.indexOf(t))return s}throw new Error(`unsupported language ${e}`)}forEach(e){n.langSet.forEach(e)}get size(){return n.langSet.size}}},3522:(e,t,s)=>{"use strict";var n;!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(n||(n={}))},5721:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});class n{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardTexts="useNonStandardTexts";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}},3470:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var n=s(2638),o=s(3411),r=s(29);class i extends n.F{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),s=new i;if(2!==t.length)throw new o.vP("hash",e);return s.purposeId=parseInt(t[0],10),s.restrictionType=parseInt(t[1],10),s}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${i.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===r.c.NOT_ALLOWED||this.restrictionType===r.c.REQUIRE_CONSENT||this.restrictionType===r.c.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}},6115:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var n=s(3470),o=s(29),r=s(2638);class i extends r.F{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,s){var n;let r=!0;if(null!==(n=this.gvl)&&void 0!==n&&n.vendors){const n=this.gvl.vendors[s];if(n)if(e===o.c.NOT_ALLOWED)r=n.legIntPurposes.includes(t)||n.purposes.includes(t);else if(n.flexiblePurposes.length)switch(e){case o.c.REQUIRE_CONSENT:r=n.flexiblePurposes.includes(t)&&n.legIntPurposes.includes(t);break;case o.c.REQUIRE_LI:r=n.flexiblePurposes.includes(t)&&n.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const s=t.hash;this.has(s)||(this.map.set(s,new Set),this.bitLength=0),this.map.get(s).add(e)}}restrictPurposeToLegalBasis(e){const t=Array.from(this.gvl.vendorIds),s=e.hash,n=t[t.length-1],o=[...Array(n).keys()].map((e=>e+1));if(this.has(s))for(let e=1;e<=n;e++)this.map.get(s).add(e);else this.map.set(s,new Set(o)),this.bitLength=0}getVendors(e){let t=[];if(e){const s=e.hash;this.has(s)&&(t=Array.from(this.map.get(s)))}else{const e=new Set;this.map.forEach((t=>{t.forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t.sort(((e,t)=>e-t))}getRestrictionType(e,t){let s;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===s||s>e.restrictionType)&&(s=e.restrictionType)})),s}vendorHasRestriction(e,t){let s=!1;const n=this.getRestrictions(e);for(let e=0;e<n.length&&!s;e++)s=t.isSameAs(n[e]);return s}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(Array.from(t)[t.size-1],e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((s,o)=>{e?s.has(e)&&t.push(n.y.unHash(o)):t.push(n.y.unHash(o))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,s)=>{e.add(n.y.unHash(s).purposeId)})),Array.from(e)}remove(e,t){const s=t.hash,n=this.map.get(s);n&&(n.delete(e),0==n.size&&(this.map.delete(s),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const s=n.y.unHash(t);Array.from(e).forEach((t=>{this.isOkToHave(s.restrictionType,s.purposeId,t)||e.delete(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}},29:(e,t,s)=>{"use strict";var n;s.d(t,{c:()=>n}),function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(n||(n={}))},6703:(e,t,s)=>{"use strict";var n;s.d(t,{X:()=>n}),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(n||(n={}))},3293:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var n=s(6703);class o{static ID_TO_KEY=[n.X.CORE,n.X.VENDORS_DISCLOSED,n.X.VENDORS_ALLOWED,n.X.PUBLISHER_TC];static KEY_TO_ID={[n.X.CORE]:0,[n.X.VENDORS_DISCLOSED]:1,[n.X.VENDORS_ALLOWED]:2,[n.X.PUBLISHER_TC]:3}}},9031:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});var n=s(2638),o=s(3411);class r extends n.F{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let s=Number.isInteger(parseInt(t,10));return s=s&&this.isValidNumber(e[t].id),s=s&&void 0!==e[t].name,s})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new o.vP("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set,this.maxId_=0}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}},6026:(e,t,s)=>{"use strict";s.d(t,{Iv:()=>o.I,OW:()=>u.O,Rs:()=>n.R,S3:()=>i.S,XX:()=>c.X,cQ:()=>a.c,hK:()=>l.h,yO:()=>r.y});var n=s(9335),o=s(5721),r=s(3470),i=s(6115),a=(s(3522),s(29)),c=s(6703),l=s(3293),u=s(9031)},142:e=>{let t=window.crypto?window.crypto:window.msCrypto;if(void 0===t)throw new Error("No crypto built-in found");let s=e=>t.getRandomValues(new Uint8Array(e)),n=(e,t,s)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i="";for(;;){let t=s(o),a=o;for(;a--;)if(i+=e[t[a]&n]||"",i.length===r)return i}}};e.exports={nanoid:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return t.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},customAlphabet:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return n(e,t,s)},customRandom:n,random:s}},2299:(e,t,s)=>{const n=s(4751).J,o=s(142).customAlphabet("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",20);let r,i="";t.$={track:function(e){const t={...e,ud:i,type:e.type,tte:e.tte,domain:e.domain,amp:e.amp?1:0,pr:e.pr,vrnts:e.vrnts};void 0!==e.uc&&(t.uc=e.uc);try{return new n("impression",t).promise}catch(e){return Promise.resolve()}},init:function(){try{r=window.localStorage;const e=localStorage.getItem("opencmp_a");e?i=e:(i=o(),r.setItem("opencmp_a",i))}catch(e){}},eventTypes:{cmpDownloaded:"cd",popup:"pu",popupSettings:"ps",selectAll:"sa",selectSelection:"ss",selectModified:"sm",reselect:"rs",settingsContinued:"sc",pageImpressionsConsented:"pc",freechoicePageimpression:"fc",paywallImpression:"pw",paywallSubscribe:"sb",paywallLogin:"lb",rejectAll:"ra",debug:"dbg"}},window.opencmpAnalytics=t.$},4751:(e,t)=>{t.J=class{constructor(e,t){this.params=[],this.event=e,this.optional=t,this.buildParams(),this.promise=this.send()}buildParams(){const e=this.getAttribute();for(const t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}extend(e,t){return Object.keys(t).forEach((function(s){e[s]=JSON.stringify(t[s])})),e}appendLeadingZeroes(e){return e<=9?"0"+e:e}getAttribute(){const e=new Date,t=e.getHours(),s=e.getFullYear()+"-"+this.appendLeadingZeroes(e.getMonth()+1)+"-"+this.appendLeadingZeroes(e.getDate()),n=e.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",second:"2-digit"});let o="",r="";try{o=encodeURIComponent(window.location.href),r=(e=>{let t;return t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t=t.split("?")[0],t})(window.location.href)}catch(e){}let i={v:"1",sr:window.screen.width+"x"+window.screen.height,vp:window.innerWidth+"x"+window.innerHeight,cd:window.screen.colorDepth,md:"ontouchstart"in document,h:t,t:n,d:s,u:o,do:r};return"impression"===this.event&&(i=this.extend(i,this.optional)),i}setParam(e,t){var s;null!=(s=t)&&""!==s?this.params.push(`${e}=${encodeURIComponent(t)}`):this.params.push(`${e}=`)}send(){return new Promise(((e,t)=>{this.img=document.createElement("img"),this.img.style.display="none",this.img.width="1",this.img.height="1",this.img.onload=()=>{e()},this.img.onerror=t,this.img.src=this.getSourceUrl(),document.getElementsByTagName("body")[0].appendChild(this.img)}))}getSourceUrl(){return`https://d2wu036mkcz52n.cloudfront.net/i?${this.params.join("&")}`}}},1925:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(1364);class o{static isStackEnabled(e,t){for(let s of e.purposes)if(!1===t.purposeConsents.has(s))return!1;for(let s of e.specialFeatures)if(!1===t.specialFeatureOptins.has(s))return!1;return!0}}var r=s(9464),i=s(2469);class a{specVersion="2";disclosedVendors=new Set;constructor(){this.vendors=new Set,this.purposes=new Set}updateFromString(e,t){if(this.vendors=new Set,this.purposes=new Set,t.purposeConsents.has(1)&&this.purposes.add(1),null==e)return;let s=e.split("~");if(!(s.length<2)){if(s[1].length>0)for(let e of s[1].split(".")){let t=parseInt(e);Number.isNaN(t)||this.vendors.add(t)}if(s.length>=3&&s[2].startsWith("dv.")){let e=s[2].substring(3).split(".");if(e.length>=1)for(let t of e){let e=parseInt(t);Number.isNaN(e)||this.disclosedVendors.add(e)}}}}hasVendor(e){return this.vendors.has(e)}setVendor(e){this.vendors.add(e)}unsetVendor(e){this.vendors.delete(e)}setPurpose(e){this.purposes.add(e)}unsetPurpose(e){this.purposes.delete(e)}unsetAllPurposes(){this.purposes.clear()}unsetAllVendors(){this.vendors.clear()}unsetAllDisclosures(){this.disclosedVendors.clear()}setDisclosed(e){this.disclosedVendors.add(e)}toString(){let e=new Set;this.purposes.has(1)&&(e=this.vendors);let t=Array.from(this.disclosedVendors).filter((t=>!1===e.has(t)));return`${this.specVersion}~${Array.from(e).join(".")}~dv.${t.join(".")}`}}var c=s(7628);s(4610),s(7479),s(7116);class l extends r.Z{static VendorTypes={iab:"iab",custom:"custom"};constructor(e,t,s){super(),this.vendorList=s,this.enabledStacks=new Set,this.config=e,this.tcModel=new n.gI,this.tcModel.cmpId=e.cmpId,this.tcModel.cmpVersion=e.cmpVersion,this.tcModel.isServiceSpecific=!0,this.tcModel.publisherCountryCode="DE",this.tcCustomModel=new n.gI,this.tcCustomModel.cmpId=e.cmpId,this.tcCustomModel.cmpVersion=e.cmpVersion,this.tcCustomModel.isServiceSpecific=!0,this.googleModel=new a,this.isBasicContent=!1,this.isAllConsent=!1,this.activeConsentString=new i.Z,this.logger=new c.Z,this.snapshot=null,this.consentLastUpdatedValue=null,this.consentDvlVersion=-1}async loadVendorListOnce(){await this.vendorList.update()}async _setGvlOnModels(){let e=await this.vendorList.raw();this.tcModel.gvl=e,this.tcCustomModel.gvl={...e,vendors:e.customVendors}}async _setPublisherRestriction(){await this.loadVendorListOnce();let e=this.config.settings.publisherRestriction;if(-1!==e)for(let t of Object.values(this.vendorList.get().purposes)){let s=new n.yO;s.purposeId=t.id,s.restrictionType=e;let o=new n.yO;o.purposeId=t.id,o.restrictionType=n.cQ.NOT_ALLOWED;for(let o of Object.values(this.vendorList.get().vendors))o.flexiblePurposes.includes(t.id)?this.tcModel.publisherRestrictions.add(o.id,s):e===n.cQ.REQUIRE_CONSENT&&o.legIntPurposes.includes(t.id)||e===n.cQ.REQUIRE_LI&&o.purposes.includes(t.id)}}async addBasicConsent(){await this._setPublisherRestriction(),1!==this.config.settings.publisherRestriction&&await this._setLegitimateInterests(),this.isBasicContent=!0}async _setLegitimateInterests(){await this.loadVendorListOnce();for(let e of this.legIntPurposes)this.tcModel.purposeLegitimateInterests.set(e.id);for(let e of this.vendorsWithLegitimateInterests)this.tcModel.vendorLegitimateInterests.set(e.id);for(let e of this.customVendorsWithLegitimateInterests)this.tcCustomModel.vendorLegitimateInterests.set(e.id)}async activateConsentString(){let e=await this.vendorList.raw();await this._setGvlOnModels();try{this.activeConsentString=new i.Z(n.E9.encode(this.tcModel),n.E9.encode(this.tcCustomModel),this.googleModel.toString(),{dvlVersion:e.dvlVersion})}catch(e){}}async addDisclosedVendors(){await this.loadVendorListOnce();for(let e of this.googleVendors)this.googleModel.setDisclosed(e.googleId)}async generateEmptyConsentString(){let e=await this.vendorList.raw(),t=new n.gI;return t.cmpId=this.tcModel.cmpId,t.cmpVersion=this.tcModel.cmpVersion,t.isServiceSpecific=!0,t.publisherCountryCode=this.tcModel.publisherCountryCode,t.gvl=e,n.E9.encode(t)}get vendorListVersion(){return this.tcModel.vendorListVersion}get stacks(){return this.vendorList.get().stacks}get purposes(){return this.vendorList.get().purposes}get enabledPurposes(){return this.tcModel.purposeConsents}get enabledSpecialFeatures(){return this.tcModel.specialFeatureOptins}get specialPurposes(){return this.vendorList.get().specialPurposes}get features(){return this.vendorList.get().features}get specialFeatures(){return this.vendorList.get().specialFeatures}get dataCategories(){return this.vendorList.get().dataCategories}get vendors(){return this.vendorList.get().vendors}get customVendorsWithLegitimateInterests(){return Object.values(this.vendorList.get().customVendors).filter((e=>e.legIntPurposes.length>0))}get vendorsWithLegitimateInterests(){return Object.values(this.vendorList.get().vendors).filter((e=>e.legIntPurposes.length>0))}getVendorList(){return this.vendorList}get customVendors(){var e;return null===(e=this.vendorList.get())||void 0===e?void 0:e.customVendors}get googleVendors(){var e,t;return Object.values((null===(e=this.vendorList)||void 0===e||null===(t=e.get())||void 0===t?void 0:t.customVendors)??{}).filter((e=>e.googleId>0))}vendorWithLegitimateInterestEnabled(e){return this.tcModel.vendorLegitimateInterests.has(e)}toggleVendorWithLegitimateInterests(e,t){this.tcModel.vendorsDisclosed.set(e),t?this.tcModel.vendorLegitimateInterests.set(e):this.tcModel.vendorLegitimateInterests.unset(e),this.notify()}customVendorWithLegitimateInterestEnabled(e){return this.tcCustomModel.vendorLegitimateInterests.has(e)}toggleCustomVendorWithLegitimateInterests(e,t){this.tcCustomModel.vendorsDisclosed.set(e),t?this.tcCustomModel.vendorLegitimateInterests.set(e):this.tcCustomModel.vendorLegitimateInterests.unset(e),this.notify()}get vendorsWithSpecials(){return Object.values(this.vendorList.get().vendors).filter((e=>e.specialPurposes.length>0))}featuresByVendors(e){let t=new Set;for(let s of e)s.features.forEach((e=>t.add(e)));return[...t].map((e=>this.vendorList.get().features[e.toString()]))}get legIntPurposes(){let e=new Set,t=[...Object.values(this.vendorList.get().vendors),...Object.values(this.vendorList.get().customVendors)];for(let s of t){for(let t of s.legIntPurposes)e.add(t);for(let t of s.flexiblePurposes)e.add(t)}return Array.from(e).map((e=>this.vendorList.get().purposes[e.toString()]))}isNew(){return null===this.consentLastUpdated}refreshCreatedTime(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.tcModel.lastUpdated=e,this.tcModel.created=e,this.consentLastUpdated=e,this.tcCustomModel.lastUpdated=e,this.tcCustomModel.created=e}set consentLastUpdated(e){this.consentLastUpdatedValue=e}get consentLastUpdated(){return this.consentLastUpdatedValue}getHasConsent(){return this.activeConsentString.hasConsent()}getActiveConsentString(){return this.activeConsentString}async updateByConsentString(e){if(this.activeConsentString=e,null!==e.tcf&&(this.tcModel=n.E9.decode(e.tcf),this.logger.debug("this.tcModel.lastUpdated",this.tcModel.lastUpdated),this.consentLastUpdated=this.tcModel.lastUpdated,this.consentDvlVersion=e.meta.dvlVersion),null!==e.custom&&(this.tcCustomModel=n.E9.decode(e.custom)),null!=e.google){this.googleModel.updateFromString(e.google,this.tcModel),await this.loadVendorListOnce();let t=this.googleVendors;for(let e of t)this.googleModel.hasVendor(e.googleId)&&this.tcCustomModel.vendorConsents.set(e.id)}await this._setGvlOnModels();for(let[,e]of Object.entries(await this.vendorList.get().stacks))o.isStackEnabled(e,this.tcModel)&&this.enabledStacks.add(e.id)}vendorEnabled(e){return this.tcModel.vendorConsents.has(e)}customVendorEnabled(e){return this.tcCustomModel.vendorConsents.has(e)}toggleCustomVendor(e,t){this._toggleCustomVendor(e,t),this.notify()}_toggleCustomVendor(e,t){let s=this.vendorList.get().customVendors[e.toString()];void 0!==s&&(this.tcCustomModel.vendorsDisclosed.set(e),t?(this.tcCustomModel.vendorConsents.set(e),s.googleId&&this.googleModel.setVendor(s.googleId)):(this.tcCustomModel.vendorConsents.unset(e),s.googleId&&this.googleModel.unsetVendor(s.googleId)))}toggleVendor(e,t){this._toggleVendor(e,t),this.notify()}_toggleVendor(e,t){this.tcModel.vendorsDisclosed.set(e),t?this.tcModel.vendorConsents.set(e):this.tcModel.vendorConsents.unset(e)}toggleVendorLegInt(e,t){t?this.tcModel.vendorLegitimateInterests.set(e):this.tcModel.vendorLegitimateInterests.unset(e),this.notify()}vendorLegintEnabled(e){return this.tcModel.vendorLegitimateInterests.has(e)}specialFeatureEnabled(e){return this.tcModel.specialFeatureOptins.has(e)}createSnapshot(){this.snapshot={tcModel:this.tcModel.clone(),tcCustomModel:this.tcCustomModel.clone()}}restoreSnapshot(e){let t=this.snapshot;l._copyModel(t.tcModel,this.tcModel),l._copyModel(t.tcCustomModel,this.tcCustomModel),this.notify()}static _copyModel(e,t){t.vendorConsents.empty();for(let s of e.vendorConsents.values())t.vendorConsents.set(s)}_enableVendorsBySpecialFeature(e){Object.values(this.vendorList.get().vendors).forEach((t=>{t.specialFeatures.includes(e)&&this.tcModel.vendorConsents.set(t.id)})),Object.values(this.vendorList.get().customVendors).forEach((t=>{t.specialFeatures.includes(e)&&this.tcCustomModel.vendorConsents.set(t.id)}))}toggleSpecialFeature(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableVendors:!0};t?(this.tcModel.specialFeatureOptins.set(e),!0===s.enableVendors&&this._enableVendorsBySpecialFeature(e)):this.tcModel.specialFeatureOptins.unset(e),this.notify()}purposeEnabled(e){return this.tcModel.purposeConsents.has(e)}getVendorsByPurpose(e){let t=[];return Object.values(this.vendorList.get().vendors).forEach((s=>{(s.purposes.includes(e)||s.flexiblePurposes.includes(e))&&t.push(s)})),t}getVendorsByLegIntPurpose(e){let t=[];return Object.values(this.vendorList.get().vendors).forEach((s=>{(s.legIntPurposes.includes(e)||s.flexiblePurposes.includes(e))&&t.push(s)})),t}getCustomVendorsByPurpose(e){let t=[];return Object.values(this.vendorList.get().customVendors).forEach((s=>{(s.purposes.includes(e)||s.flexiblePurposes.includes(e))&&t.push(s)})),t}getCustomVendorsByLegIntPurpose(e){let t=[];return Object.values(this.vendorList.get().customVendors).forEach((s=>{(s.legIntPurposes.includes(e)||s.flexiblePurposes.includes(e))&&t.push(s)})),t}_enableCustomVendors(e){for(let t of e)this._toggleCustomVendor(t.id,!0)}_enableVendors(e){for(let t of e)this._toggleVendor(t.id,!0)}_enableVendorsByPurpose(e){let t=this.getVendorsByPurpose(e);this._enableVendors(t);let s=this.getCustomVendorsByPurpose(e);this._enableCustomVendors(s)}_enableVendorsByLegIntPurpose(e){let t=this.getVendorsByLegIntPurpose(e);this._enableVendors(t);let s=this.getCustomVendorsByLegIntPurpose(e);this._enableCustomVendors(s)}togglePurpose(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableVendors:!0};t?(this.tcModel.purposeConsents.set(e),this.googleModel.setPurpose(e),!0===s.enableVendors&&this._enableVendorsByPurpose(e)):(this.tcModel.purposeConsents.unset(e),this.googleModel.unsetPurpose(e)),this.notify()}legIntPurposeEnabled(e){return this.tcModel.purposeLegitimateInterests.has(e)}toggleLegIntPurpose(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableVendors:!1};t?(this.tcModel.purposeLegitimateInterests.set(e),s.enableVendors):this.tcModel.purposeLegitimateInterests.unset(e),this.notify()}stackEnabled(e){let t=this.vendorList.get().stacks[e.toString()];return o.isStackEnabled(t,this.tcModel)}toggleStack(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableVendors:!0};t?this.enableStack(e,s):this.disableStack(e),this.notify()}async rejectEverything(){this.tcModel.purposeConsents.empty(),this.tcModel.vendorConsents.empty(),this.tcModel.unsetAllPurposeConsents(),this.tcModel.unsetAllVendorConsents(),this.tcModel.unsetAllPurposeLegitimateInterests(),this.tcModel.unsetAllVendorLegitimateInterests(),this.tcModel.unsetAllSpecialFeatureOptins(),this.tcCustomModel.unsetAllVendorConsents(),this.googleModel.unsetAllVendors(),this.googleModel.unsetAllPurposes(),this.googleModel.unsetAllDisclosures(),this.isAllConsent=!1,this.isBasicContent=!1}async disableDeletedVendors(){let e=(await this.vendorList.raw()).removedVendors;for(let t of Object.keys(e))this.tcModel.vendorConsents.unset(t)}async allowEverything(){await this.addBasicConsent();let e=await this.vendorList.raw();for(let t of Object.values(e.purposes))this.tcModel.purposeConsents.set(t.id),1!==t.id&&2!==t.id||this.googleModel.setPurpose(t.id);for(let t of Object.values(e.specialFeatures))this.tcModel.specialFeatureOptins.set(t.id);for(let t of Object.values(e.vendors))this._toggleVendor(t.id,!0);for(let t of Object.values(e.customVendors))!0!==t.mandatory&&this._toggleCustomVendor(t.id,!0);if(1!==this.config.settings.publisherRestriction){for(let e of this.vendorsWithLegitimateInterests)this.toggleVendorWithLegitimateInterests(e.id,!0);for(let e of this.customVendorsWithLegitimateInterests)this.toggleCustomVendorWithLegitimateInterests(e.id,!0)}this.isAllConsent=!0,this.isBasicContent=!1}enableStack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.enabledStacks.add(e);let s=this.vendorList.get().stacks[e.toString()];s.specialFeatures.forEach((e=>{this.tcModel.specialFeatureOptins.set(e),!0===t.enableVendors&&this._enableVendorsBySpecialFeature(e)})),s.purposes.forEach((e=>{this.tcModel.purposeConsents.set(e),!0===t.enableVendors&&this._enableVendorsByPurpose(e)})),this.notify()}disableStack(e){this.enabledStacks.delete(e);let t=this.vendorList.get().stacks[e.toString()];t.specialFeatures.forEach((e=>this.tcModel.specialFeatureOptins.unset(e))),t.purposes.forEach((e=>this.tcModel.purposeConsents.unset(e)))}_getPurposeIdsWithoutStack(){let e=this._getPurposesIdsWithStack();this.logger.debug("idsWithStacks",e);let t=this._getAllPurposeIds();this.logger.debug("allIds",t);let s=t.filter((t=>!1===e.includes(t)));return this.logger.debug("result",s),s}_getSpecialFeatureIdsWithoutStack(){let e=this._getSpecialFeatureIdsWithStack();return this._getAllSpecialFeatureIds().filter((t=>!1===e.includes(t)))}getPurposesWithoutStack(){return this._getPurposeIdsWithoutStack().map((e=>this.vendorList.get().purposes[e.toString()]))}getSpecialFeaturesWithoutStack(){return this._getSpecialFeatureIdsWithoutStack().map((e=>this.vendorList.get().specialFeatures[e.toString()]))}_getAllPurposeIds(){return Object.values(this.vendorList.get().purposes).map((e=>e.id))}_getAllSpecialFeatureIds(){return Object.values(this.vendorList.get().specialFeatures).map((e=>e.id))}_getPurposesIdsWithStack(){let e=this.vendorList.get().stacks,t={};this.logger.debug("Object.values(stacks)",Object.values(e));for(let s of Object.values(e))for(let e of s.purposes)this.logger.debug("\t\t",e),t[e]=!0;return Array.from(Object.keys(t)).map((e=>parseInt(e)))}_getSpecialFeatureIdsWithStack(){let e=this.vendorList.get().stacks,t=new Set;for(let s of Object.values(e))for(let e of s.specialFeatures)t.add(e);return Array.from(t)}get mandatoryCustomVendors(){return Object.values(this.vendorList.get().customVendors).filter((e=>e.mandatory))}get nonMandatoryCustomVendors(){return Object.values(this.vendorList.get().customVendors).filter((e=>1!=e.mandatory))}notify(){this.isBasicContent=!1,this.isAllConsent=!1,super.notify()}isAllAllowed(){return this.isAllConsent}isBasicConsentAllowed(){return this.isBasicContent}async addFullConsentForVendor(e,t){if(void 0===l.VendorTypes[t])throw new Error("Invalid vendorType");let s=("iab"===t?await this.vendorList.vendors():await this.vendorList.customVendors())[e];if(!s)throw new Error(`Vendor with ID ${e} not found.`);"iab"===t?this.tcModel.vendorConsents.set(e):this.tcCustomModel.vendorConsents.set(e);const n=s.purposes??[];for(let e of n)this.tcModel.purposeConsents.set(e);await this.activateConsentString()}}},7116:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class n{static LegalBasis={Consent:1,LegitimateInterest:2}}},7479:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(1364),o=s(7882);class r extends o.Z{constructor(e){r._prepareForAMP(e),super(e)}static _prepareForAMP(e){for(let[t,s]of Object.entries(e.customVendors))null==s.googleId&&delete e.customVendors[t]}}class i{constructor(e,t,s){this.resourceManager=e,this.appConfig=t,this.language=s,this.vendorList=null,this.vendorListPromise=null}async raw(){return await this.update(),this.vendorList}get(){return this.vendorList}async update(){return null==this.vendorListPromise&&(this.vendorListPromise=new Promise((async(e,t)=>{let s=await this.resourceManager.downloadVendorlist(this.appConfig.settingLocation,this.language,this.appConfig.settings.additionalAssetParams);const i=e=>!e||"object"!=typeof e||0===Object.keys(e).length;(!s||i(s.vendors)&&i(s.customVendors))&&t(new Error("No Vendorlist found"));let a=null;n.Ew.DEFAULT_LANGUAGE=this.language.toUpperCase(),a="amp"===this.appConfig.platform.type?new r(s):new o.Z(s),a.lang_=this.language.toUpperCase(),await a.readyPromise,this.vendorList=a,e()}))),this.vendorListPromise}async vendors(){return await this.update(),this.vendorList.vendors}async purposes(){return await this.update(),this.vendorList.purposes}async customVendors(){return await this.update(),this.vendorList.customVendors}async dvlVersion(){return await this.update(),this.vendorList.purposes}async stacks(){return await this.update(),this.vendorList.purposes}async specialPurposes(){return await this.update(),this.vendorList.purposes}async features(){return await this.update(),this.vendorList.purposes}async specialFeatures(){return await this.update(),this.vendorList.purposes}async getStats(){await this.update();let e={vendorCountWithoutMandatory:0,vendorCountConsentWithoutMandatory:0,vendorCountLegIntWithoutMandatory:0};function t(t){for(let s of Object.values(t))!0!==s.mandatory&&(e.vendorCountWithoutMandatory++,Array.isArray(s.purposes)&&s.purposes.length>0&&e.vendorCountConsentWithoutMandatory++,Array.isArray(s.legIntPurposes)&&s.legIntPurposes.length>0&&e.vendorCountLegIntWithoutMandatory++)}return t(this.vendorList.vendors),t(this.vendorList.customVendors),e}static isVendorDeleted(e){return null!=e.deletedDate}}},4610:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(2136);class o{static isAMP(e){try{let t=JSON.parse(e.name);return"object"==typeof t&&"object"==typeof t.clientConfig}catch(e){return!1}}static getConfig(e){try{return JSON.parse(e.name)}catch(e){return null}}static getDomain(e){return o.getConfig(e).clientConfig.domain}static getActivationKey(e){return o.getConfig(e).clientConfig.activationKey}}class r{type;os=null;isApp=!1;version=null;constructor(){}}var i=s(458);class a{static Google={AdsVendorId:755};constructor(e){void 0===e&&(e={}),this.cmpId=21,this.cmpVersion=2,this.platformBaseUrl=e.platformBaseUrl,this.configuredDomain=this._getDomain(e.domain),this.localDomain=window.location.hostname,this.activationKey=this._getActivationKey(e.activationKey),this.settingLocation=this._getAssetBase(e.settings),this.languages=["en"],this.pauseUiDays=0,this.isAMP=o.isAMP(window),this.isDevMode=this._isDevMode(e.dev),this.isProductionMode=!0===e.productionMode,this.showSpecialPurposes=!0,this.showConfirmButton=e.showConfirmButton,this.isApp=this._isApp(),this.uiHeight=this._getUiHeight(),this.consent=e.consent,this.settings={publisherRestriction:-1,additionalAssetParams:e.additionalAssetParams,checkGdprApplies:e.checkGdprApplies,paywallEnabled:e.paywallEnabled,paywall:e.paywall,publisherName:e.publisherName,openerVisible:!1!==e.openerVisible,rejectButtonVisibility:!0===e.rejectButtonVisibility,showAccessibilityToggle:!0===e.showAccessibilityToggle,silent:!0===e.silent},this.resourceLoader=e.resourceLoader||"fetch"}getSettings(){return this.settings}get paywallEnabled(){return!0===this.settings.paywallEnabled&&null!=this.settings.paywall}get paywallConfig(){return this.settings.paywall}getResourceLoader(){return this.resourceLoader}get platform(){return this._getPlatform()}get domain(){return this.configuredDomain}get dev(){return!0===this.isDevMode&&!0!==this.isProductionMode}set dev(e){this.isDevMode=e}_getPlatform(){let e=new r;if(void 0!==window.opencmpInAppProxy)e.type="android",e.os="android",e.isApp=!0;else if(window.navigator&&/flutter-ios/i.test(window.navigator.userAgent))e.type="flutter",e.os="ios",e.isApp=!0;else if(window.navigator&&/flutter-android/i.test(window.navigator.userAgent))e.type="flutter",e.os="android",e.isApp=!0;else if(window.navigator&&/flutter/i.test(window.navigator.userAgent))e.type="flutter",e.os=null,e.isApp=!0;else if(window.navigator&&/ios2/i.test(window.navigator.userAgent))e.type="ios",e.os="ios",e.version=2,e.isApp=!0;else if(void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.getConsent)e.type="ios",e.os="ios",e.version=1,e.isApp=!0;else{"appview"in n.Z.getQuery()?(e.type="inappbrowser",e.os=null):o.isAMP(window)?(e.type="amp",e.os=null):(e.type="browser",e.os=null)}return e}_getUiHeight(){let e=n.Z.getQuery();return"cmp-height"in e?parseInt(e["cmp-height"]):this._isApp()?480:null}_isApp(){return"appview"in n.Z.getQuery()}_isSilent(){return this.settings.silent}_isDevMode(e){if(o.isAMP(window))return!1;if(!0!==e)return!1;return!("cmp-mode-production"in n.Z.getQuery())}hasOwnCookie(){return!0===this.ownCookie}get supportedLanguages(){return this.languages}update(e){for(let[t,s]of Object.entries(e))if("publisherRestriction"===t)void 0!==s&&(this.settings.publisherRestriction=s);else if("additionalAssetParams"===t)this.settings.additionalAssetParams=s;else if("resourceLoader"===t)this.resourceLoader=s;else if("logoSize"===t)this.settings.logoSize=s;else if("checkGdprApplies"===t)null==this.settings.checkGdprApplies&&(this.settings.checkGdprApplies=s);else if("paywallEnabled"===t)null==this.settings.paywallEnabled&&(this.settings.paywallEnabled=s);else if("paywall"===t)null==this.settings.paywall&&(this.settings.paywall=s);else if("publisherName"===t)this._setIfPropertyEmpty(this.settings,t,s);else if("openerVisible"===t)this.settings.openerVisible=Boolean(s);else if("showConfirmButton"===t)this._setIfPropertyEmpty(this,t,s);else if("google"===t)this.settings.google=s;else try{this[t]=s}catch(e){}this.dev=this._isDevMode(e.dev)}_setIfPropertyEmpty(e,t,s){null==e[t]&&(e[t]=s)}_getAssetBase(e){return void 0!==e?e:this._getDomainSettingsLocation()}get localTopDomain(){return this._getLocalDomain()}_getLocalDomain(){return i.Z.getTld(window.location.hostname)}getAmpConfig(){return o.getConfig(window).clientConfig}_getActivationKey(e){return o.isAMP(window)?o.getActivationKey(window):e}_getDomain(e){return o.isAMP(window)?o.getDomain(window):void 0!==e?e:this._getLocalDomain()}checkGdprApplies(){return!0===this.settings.checkGdprApplies}static getRootSettingsLocation(){return"https://cdn.opencmp.net/publisher"}static getGlobalAssetsLocation(){return a.getRootSettingsLocation()+"/global"}static getDvlLocation(){return a.getRootSettingsLocation()+"/dvl"}_getDomainSettingsLocation(){return void 0===this.activationKey?"{root}/{domain}".replace("{root}",a.getDvlLocation()).replace("{domain}",this.configuredDomain):"{root}/custom/{domain}-{activationKey}".replace("{root}",a.getDvlLocation()).replace("{domain}",this.configuredDomain).replace("{activationKey}",this.activationKey)}getSettings(){return this.settings}}},2469:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s(7882);var n=s(1364);class o{constructor(e,t,s,n){this.tcf=this._nullIfUndefined(e),this.custom=this._nullIfUndefined(t),this.google=this._nullIfUndefined(s),this.meta=n}_nullIfUndefined(e){return null==e?null:e}static createByObject(e){return new o(e.tcf||null,e.custom||null,e.google||null,e.meta||null)}hasConsent(){return null!==this.tcf}isExpired(){if(!1===this.hasConsent())throw new Error("No consent");let e=n.E9.decode(this.tcf).lastUpdated;return null!=e&&(new Date-e)/1e3/60/60/24>365}}},7882:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(1364);class o extends n.Ew{constructor(e){super(e),this.forceReconsent=!0===e.forceReconsent,this.dvlVersion=e.dvlVersion,this.customVendors={},this.isVendorList(e)&&(this.customVendors=e.customVendors)}isForceReconsent(){return this.forceReconsent}static _addFlexiblePurposesHack(e){for(let t of Object.values(e.vendors))o._addVendorFlexiblePurposesHack(t)}static _addVendorFlexiblePurposesHack(e){let t=new Set([...e.purposes,...e.flexiblePurposes]),s=new Set([...e.legIntPurposes,...e.flexiblePurposes]);e.purposes=Array.from(t),e.legIntPurposes=Array.from(s)}get removedVendors(){let e={},t=super.vendors;for(let[s,n]of Object.entries(t))!0===n.removed&&(e[s]=n);return e}get vendors(){let e=super.vendors;for(let[t,s]of Object.entries(e))!0===s.removed&&delete e[t];return e}}},6627:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class n{static prependStaticCss(e,t){let s=e.ownerDocument.createElement("style");s.appendChild(document.createTextNode(t)),e.insertBefore(s,e.firstChild)}static documentReady(){return new Promise((e=>{"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",(()=>{e()}))}))}static cloneScriptTagRunnable(e){let t=e.ownerDocument.createElement("script"),s=e.getAttribute("src");"string"==typeof s&&s.length>0&&(t.src=e.src),t.type="text/javascript",t.innerHTML=e.innerHTML;const n=new Set(["type","src","data-cmp-script"]);for(let s=0;s<e.attributes.length;s++){let o=e.attributes[s];1==o.specified&&(n.has(o.name)||t.setAttribute(o.name,o.value))}return t}}},8226:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class n{static setItem(e,t){try{window.localStorage.setItem(e,t)}catch(e){}}static getItem(e){try{return window.localStorage.getItem(e)}catch(e){return null}}static removeItem(e){try{window.localStorage.removeItem(e)}catch(e){}}}},2136:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class n{static getQuery(){let e,t=/\+/g,s=/([^&=]+)=?([^&]*)/g,n=function(e){return decodeURIComponent(e.replace(t," "))},o=window.location.search.substring(1),r={};for(;e=s.exec(o);)r[n(e[1])]=n(e[2]);return r}}},7628:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(8226);class o{static instances=new Map;static MainCss="background-color:black;color:white";static Label2Css={root:"background-color:black;color:white;padding:2px;font-weight:bold;border:solid 1px black",default:"background-color:#FFFF99;color:black;padding:2px;font-weight:bold;border:solid 1px black"};static enabled=!1;static#e=(()=>{try{null!=n.Z.getItem("opencmp-debug")?this.enabled=!0:null!=new URLSearchParams(window.location.search).get("cmp-debug-permanent")&&(n.Z.setItem("opencmp-debug","1"),this.enabled=!0)}catch(e){}})();constructor(e){this.label=e}static get(e){let t=this.instances.get(e);return null==t&&(t=new o(e),this.instances.set(e,t)),t}notify(){if(!0===o.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];console.log(`%cOpencmp%c${this.label}`,o.Label2Css.root,o.Label2Css[this.label]||o.Label2Css.default,...t)}}debug(){}}},9464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class n{constructor(){this.listeners=new Set}subscribe(e){this.listeners.add(e)}unsubcribeAll(){this.listeners.clear()}notify(){this.listeners.forEach((e=>e()))}}},458:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(2136);class o{static PublicSuffixes=[".com.br"];static getTld(e){for(let t of this.PublicSuffixes){if(!1===e.endsWith(t))continue;let s=e.substring(0,e.length-t.length).split(".");return s[s.length-1]+t}var t=e.split(".");return t.length>2&&t.splice(0,t.length-2),t.join(".")}static addParam(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=e.split("#"),o=n[0],r=n.length>=2?"#"+n[1]:"";return-1===o.indexOf("?")&&(o+="?"),o+="&"+t,null!=s&&(o+="="+encodeURIComponent(s)),o+r}static passUrlParams(e,t){e.isApp&&(t=o.addParam(t,"appview"));let s=n.Z.getQuery();return"cmp-mode-production"in s&&(t=o.addParam(t,"cmp-mode-production")),"cmp-height"in s&&(t=o.addParam(t,"cmp-height",s["cmp-height"].toString())),t}static objectToUrlQuery(e){let t=[];for(let[s,n]of Object.entries(e))t.push(`${encodeURIComponent(s)}=${encodeURIComponent(n)}`);return t.join("&")}}},5089:(e,t,s)=>{var n=s(930),o=s(9268),r=TypeError;e.exports=function(e){if(n(e))return e;throw r(o(e)+" is not a function")}},1378:(e,t,s)=>{var n=s(930),o=String,r=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw r("Can't set "+o(e)+" as a prototype")}},1855:(e,t,s)=>{var n=s(5516),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},6112:(e,t,s)=>{var n=s(8759),o=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw r(o(e)+" is not an object")}},6198:(e,t,s)=>{var n=s(4088),o=s(7740),r=s(2871),i=function(e){return function(t,s,i){var a,c=n(t),l=r(c),u=o(i,l);if(e&&s!=s){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===s)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},4710:(e,t,s)=>{"use strict";var n=s(5283),o=s(6526),r=TypeError,i=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!i(e,"length").writable)throw r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},745:(e,t,s)=>{var n=s(8240);e.exports=n([].slice)},2306:(e,t,s)=>{var n=s(8240),o=n({}.toString),r=n("".slice);e.exports=function(e){return r(o(e),8,-1)}},375:(e,t,s)=>{var n=s(2371),o=s(930),r=s(2306),i=s(211)("toStringTag"),a=Object,c="Arguments"==r(function(){return arguments}());e.exports=n?r:function(e){var t,s,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t]}catch(e){}}(t=a(e),i))?s:c?r(t):"Object"==(n=r(t))&&o(t.callee)?"Arguments":n}},8474:(e,t,s)=>{var n=s(9606),o=s(6095),r=s(4399),i=s(7826);e.exports=function(e,t,s){for(var a=o(t),c=i.f,l=r.f,u=0;u<a.length;u++){var d=a[u];n(e,d)||s&&n(s,d)||c(e,d,l(t,d))}}},2585:(e,t,s)=>{var n=s(5283),o=s(7826),r=s(5736);e.exports=n?function(e,t,s){return o.f(e,t,r(1,s))}:function(e,t,s){return e[t]=s,e}},5736:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9720:(e,t,s)=>{"use strict";var n=s(2258),o=s(7826),r=s(5736);e.exports=function(e,t,s){var i=n(t);i in e?o.f(e,i,r(0,s)):e[i]=s}},8371:(e,t,s)=>{var n=s(3712),o=s(7826);e.exports=function(e,t,s){return s.get&&n(s.get,t,{getter:!0}),s.set&&n(s.set,t,{setter:!0}),o.f(e,t,s)}},1343:(e,t,s)=>{var n=s(930),o=s(7826),r=s(3712),i=s(9444);e.exports=function(e,t,s,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(n(s)&&r(s,l,a),a.global)c?e[t]=s:i(t,s);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=s:o.f(e,t,{value:s,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9444:(e,t,s)=>{var n=s(2086),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(s){n[e]=t}return t}},8685:(e,t,s)=>{"use strict";var n=s(9268),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},5283:(e,t,s)=>{var n=s(3677);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7886:e=>{var t="object"==typeof document&&document.all,s=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:s}},821:(e,t,s)=>{var n=s(2086),o=s(8759),r=n.document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},7620:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3621:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},172:(e,t,s)=>{var n=s(1767),o=s(1801);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},1767:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},4344:(e,t,s)=>{var n=s(4999);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},1801:(e,t,s)=>{var n=s(2306),o=s(2086);e.exports="process"==n(o.process)},4999:(e,t,s)=>{var n=s(563);e.exports=n("navigator","userAgent")||""},1448:(e,t,s)=>{var n,o,r=s(2086),i=s(4999),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(o=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},8684:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},79:(e,t,s)=>{var n=s(8240),o=Error,r=n("".replace),i=String(o("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=r(e,a,"");return e}},2114:(e,t,s)=>{var n=s(3677),o=s(5736);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},1695:(e,t,s)=>{var n=s(2086),o=s(4399).f,r=s(2585),i=s(1343),a=s(9444),c=s(8474),l=s(7189);e.exports=function(e,t){var s,u,d,h,p,g=e.target,f=e.global,m=e.stat;if(s=f?n:m?n[g]||a(g,{}):(n[g]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=o(s,u))&&p.value:s[u],!l(f?u:g+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&r(h,"sham",!0),i(s,u,h,e)}}},3677:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7258:(e,t,s)=>{var n=s(6059),o=Function.prototype,r=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)})},8516:(e,t,s)=>{var n=s(8240),o=s(5089),r=s(6059),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:r?i(e,t):function(){return e.apply(t,arguments)}}},6059:(e,t,s)=>{var n=s(3677);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9413:(e,t,s)=>{var n=s(6059),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},4398:(e,t,s)=>{var n=s(5283),o=s(9606),r=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,a=o(r,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&i(r,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},8240:(e,t,s)=>{var n=s(6059),o=Function.prototype,r=o.bind,i=o.call,a=n&&r.bind(i,i);e.exports=n?function(e){return e&&a(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},563:(e,t,s)=>{var n=s(2086),o=s(930),r=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(n[e]):n[e]&&n[e][t]}},1667:(e,t,s)=>{var n=s(375),o=s(2964),r=s(1858),i=s(7719),a=s(211)("iterator");e.exports=function(e){if(!r(e))return o(e,a)||o(e,"@@iterator")||i[n(e)]}},3546:(e,t,s)=>{var n=s(9413),o=s(5089),r=s(6112),i=s(9268),a=s(1667),c=TypeError;e.exports=function(e,t){var s=arguments.length<2?a(e):t;if(o(s))return r(n(s,e));throw c(i(e)+" is not iterable")}},2964:(e,t,s)=>{var n=s(5089),o=s(1858);e.exports=function(e,t){var s=e[t];return o(s)?void 0:n(s)}},2086:(e,t,s)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof s.g&&s.g)||function(){return this}()||Function("return this")()},9606:(e,t,s)=>{var n=s(8240),o=s(3060),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(o(e),t)}},7153:e=>{e.exports={}},5963:(e,t,s)=>{var n=s(563);e.exports=n("document","documentElement")},6761:(e,t,s)=>{var n=s(5283),o=s(3677),r=s(821);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},5974:(e,t,s)=>{var n=s(8240),o=s(3677),r=s(2306),i=Object,a=n("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a(e,""):i(e)}:i},5070:(e,t,s)=>{var n=s(930),o=s(8759),r=s(7530);e.exports=function(e,t,s){var i,a;return r&&n(i=t.constructor)&&i!==s&&o(a=i.prototype)&&a!==s.prototype&&r(e,a),e}},9277:(e,t,s)=>{var n=s(8240),o=s(930),r=s(4489),i=n(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return i(e)}),e.exports=r.inspectSource},3278:(e,t,s)=>{var n,o,r,i=s(640),a=s(2086),c=s(8240),l=s(8759),u=s(2585),d=s(9606),h=s(4489),p=s(8944),g=s(7153),f="Object already initialized",m=a.TypeError,y=a.WeakMap;if(i||h.state){var v=h.state||(h.state=new y),w=c(v.get),b=c(v.has),C=c(v.set);n=function(e,t){if(b(v,e))throw m(f);return t.facade=e,C(v,e,t),t},o=function(e){return w(v,e)||{}},r=function(e){return b(v,e)}}else{var I=p("state");g[I]=!0,n=function(e,t){if(d(e,I))throw m(f);return t.facade=e,u(e,I,t),t},o=function(e){return d(e,I)?e[I]:{}},r=function(e){return d(e,I)}}e.exports={set:n,get:o,has:r,enforce:function(e){return r(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var s;if(!l(t)||(s=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return s}}}},2814:(e,t,s)=>{var n=s(211),o=s(7719),r=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},6526:(e,t,s)=>{var n=s(2306);e.exports=Array.isArray||function(e){return"Array"==n(e)}},930:(e,t,s)=>{var n=s(7886),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},1956:(e,t,s)=>{var n=s(8240),o=s(3677),r=s(930),i=s(375),a=s(563),c=s(9277),l=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),g=!h.exec(l),f=function(e){if(!r(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},m=function(e){if(!r(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(h,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||o((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?m:f},7189:(e,t,s)=>{var n=s(3677),o=s(930),r=/#|\.prototype\./,i=function(e,t){var s=c[a(e)];return s==u||s!=l&&(o(t)?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},1858:e=>{e.exports=function(e){return null==e}},8759:(e,t,s)=>{var n=s(930),o=s(7886),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===r}:function(e){return"object"==typeof e?null!==e:n(e)}},3296:e=>{e.exports=!1},2071:(e,t,s)=>{var n=s(563),o=s(930),r=s(5516),i=s(1876),a=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&r(t.prototype,a(e))}},4722:(e,t,s)=>{var n=s(8516),o=s(9413),r=s(6112),i=s(9268),a=s(2814),c=s(2871),l=s(5516),u=s(3546),d=s(1667),h=s(6737),p=TypeError,g=function(e,t){this.stopped=e,this.result=t},f=g.prototype;e.exports=function(e,t,s){var m,y,v,w,b,C,I,S=s&&s.that,E=!(!s||!s.AS_ENTRIES),L=!(!s||!s.IS_RECORD),A=!(!s||!s.IS_ITERATOR),_=!(!s||!s.INTERRUPTED),V=n(t,S),P=function(e){return m&&h(m,"normal",e),new g(!0,e)},O=function(e){return E?(r(e),_?V(e[0],e[1],P):V(e[0],e[1])):_?V(e,P):V(e)};if(L)m=e.iterator;else if(A)m=e;else{if(!(y=d(e)))throw p(i(e)+" is not iterable");if(a(y)){for(v=0,w=c(e);w>v;v++)if((b=O(e[v]))&&l(f,b))return b;return new g(!1)}m=u(e,y)}for(C=L?e.next:m.next;!(I=o(C,m)).done;){try{b=O(I.value)}catch(e){h(m,"throw",e)}if("object"==typeof b&&b&&l(f,b))return b}return new g(!1)}},6737:(e,t,s)=>{var n=s(9413),o=s(6112),r=s(2964);e.exports=function(e,t,s){var i,a;o(e);try{if(!(i=r(e,"return"))){if("throw"===t)throw s;return s}i=n(i,e)}catch(e){a=!0,i=e}if("throw"===t)throw s;if(a)throw i;return o(i),s}},7719:e=>{e.exports={}},2871:(e,t,s)=>{var n=s(4005);e.exports=function(e){return n(e.length)}},3712:(e,t,s)=>{var n=s(3677),o=s(930),r=s(9606),i=s(5283),a=s(4398).CONFIGURABLE,c=s(9277),l=s(3278),u=l.enforce,d=l.get,h=Object.defineProperty,p=i&&!n((function(){return 8!==h((function(){}),"length",{value:8}).length})),g=String(String).split("String"),f=e.exports=function(e,t,s){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(t="get "+t),s&&s.setter&&(t="set "+t),(!r(e,"name")||a&&e.name!==t)&&(i?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&s&&r(s,"arity")&&e.length!==s.arity&&h(e,"length",{value:s.arity});try{s&&r(s,"constructor")&&s.constructor?i&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return r(n,"source")||(n.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return o(this)&&d(this).source||c(this)}),"toString")},5681:e=>{var t=Math.ceil,s=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?s:t)(n)}},1879:(e,t,s)=>{var n=s(4059);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},7826:(e,t,s)=>{var n=s(5283),o=s(6761),r=s(8202),i=s(6112),a=s(2258),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=n?r?function(e,t,s){if(i(e),t=a(t),i(s),"function"==typeof e&&"prototype"===t&&"value"in s&&p in s&&!s.writable){var n=u(e,t);n&&n.writable&&(e[t]=s.value,s={configurable:h in s?s.configurable:n.configurable,enumerable:d in s?s.enumerable:n.enumerable,writable:!1})}return l(e,t,s)}:l:function(e,t,s){if(i(e),t=a(t),i(s),o)try{return l(e,t,s)}catch(e){}if("get"in s||"set"in s)throw c("Accessors not supported");return"value"in s&&(e[t]=s.value),e}},4399:(e,t,s)=>{var n=s(5283),o=s(9413),r=s(7446),i=s(5736),a=s(4088),c=s(2258),l=s(9606),u=s(6761),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return i(!o(r.f,e,t),e[t])}},62:(e,t,s)=>{var n=s(1352),o=s(8684).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},6952:(e,t)=>{t.f=Object.getOwnPropertySymbols},5516:(e,t,s)=>{var n=s(8240);e.exports=n({}.isPrototypeOf)},1352:(e,t,s)=>{var n=s(8240),o=s(9606),r=s(4088),i=s(6198).indexOf,a=s(7153),c=n([].push);e.exports=function(e,t){var s,n=r(e),l=0,u=[];for(s in n)!o(a,s)&&o(n,s)&&c(u,s);for(;t.length>l;)o(n,s=t[l++])&&(~i(u,s)||c(u,s));return u}},7446:(e,t)=>{"use strict";var s={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!s.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:s},7530:(e,t,s)=>{var n=s(8240),o=s(6112),r=s(1378);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,s={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),t=s instanceof Array}catch(e){}return function(s,n){return o(s),r(n),t?e(s,n):s.__proto__=n,s}}():void 0)},7999:(e,t,s)=>{var n=s(9413),o=s(930),r=s(8759),i=TypeError;e.exports=function(e,t){var s,a;if("string"===t&&o(s=e.toString)&&!r(a=n(s,e)))return a;if(o(s=e.valueOf)&&!r(a=n(s,e)))return a;if("string"!==t&&o(s=e.toString)&&!r(a=n(s,e)))return a;throw i("Can't convert object to primitive value")}},6095:(e,t,s)=>{var n=s(563),o=s(8240),r=s(62),i=s(6952),a=s(6112),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(a(e)),s=i.f;return s?c(t,s(e)):t}},4276:(e,t,s)=>{"use strict";var n=s(6112);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},9028:(e,t,s)=>{var n=s(9413),o=s(9606),r=s(5516),i=s(4276),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!r(a,e)?t:n(i,e)}},9586:(e,t,s)=>{var n=s(1858),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},8944:(e,t,s)=>{var n=s(9197),o=s(5422),r=n("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},4489:(e,t,s)=>{var n=s(2086),o=s(9444),r="__core-js_shared__",i=n[r]||o(r,{});e.exports=i},9197:(e,t,s)=>{var n=s(3296),o=s(4489);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.3",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.3/LICENSE",source:"https://github.com/zloirock/core-js"})},5558:(e,t,s)=>{var n=s(1448),o=s(3677);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4953:(e,t,s)=>{var n,o,r,i,a=s(2086),c=s(7258),l=s(8516),u=s(930),d=s(9606),h=s(3677),p=s(5963),g=s(745),f=s(821),m=s(1635),y=s(4344),v=s(1801),w=a.setImmediate,b=a.clearImmediate,C=a.process,I=a.Dispatch,S=a.Function,E=a.MessageChannel,L=a.String,A=0,_={},V="onreadystatechange";try{n=a.location}catch(e){}var P=function(e){if(d(_,e)){var t=_[e];delete _[e],t()}},O=function(e){return function(){P(e)}},T=function(e){P(e.data)},x=function(e){a.postMessage(L(e),n.protocol+"//"+n.host)};w&&b||(w=function(e){m(arguments.length,1);var t=u(e)?e:S(e),s=g(arguments,1);return _[++A]=function(){c(t,void 0,s)},o(A),A},b=function(e){delete _[e]},v?o=function(e){C.nextTick(O(e))}:I&&I.now?o=function(e){I.now(O(e))}:E&&!y?(i=(r=new E).port2,r.port1.onmessage=T,o=l(i.postMessage,i)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!h(x)?(o=x,a.addEventListener("message",T,!1)):o=V in f("script")?function(e){p.appendChild(f("script")).onreadystatechange=function(){p.removeChild(this),P(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:w,clear:b}},7740:(e,t,s)=>{var n=s(9502),o=Math.max,r=Math.min;e.exports=function(e,t){var s=n(e);return s<0?o(s+t,0):r(s,t)}},4088:(e,t,s)=>{var n=s(5974),o=s(9586);e.exports=function(e){return n(o(e))}},9502:(e,t,s)=>{var n=s(5681);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4005:(e,t,s)=>{var n=s(9502),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},3060:(e,t,s)=>{var n=s(9586),o=Object;e.exports=function(e){return o(n(e))}},1288:(e,t,s)=>{var n=s(9413),o=s(8759),r=s(2071),i=s(2964),a=s(7999),c=s(211),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!o(e)||r(e))return e;var s,c=i(e,u);if(c){if(void 0===t&&(t="default"),s=n(c,e,t),!o(s)||r(s))return s;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2258:(e,t,s)=>{var n=s(1288),o=s(2071);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},2371:(e,t,s)=>{var n={};n[s(211)("toStringTag")]="z",e.exports="[object z]"===String(n)},4059:(e,t,s)=>{var n=s(375),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9268:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},5422:(e,t,s)=>{var n=s(8240),o=0,r=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+r,36)}},1876:(e,t,s)=>{var n=s(5558);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8202:(e,t,s)=>{var n=s(5283),o=s(3677);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1635:e=>{var t=TypeError;e.exports=function(e,s){if(e<s)throw t("Not enough arguments");return e}},640:(e,t,s)=>{var n=s(2086),o=s(930),r=n.WeakMap;e.exports=o(r)&&/native code/.test(String(r))},211:(e,t,s)=>{var n=s(2086),o=s(9197),r=s(9606),i=s(5422),a=s(5558),c=s(1876),l=o("wks"),u=n.Symbol,d=u&&u.for,h=c?u:u&&u.withoutSetter||i;e.exports=function(e){if(!r(l,e)||!a&&"string"!=typeof l[e]){var t="Symbol."+e;a&&r(u,e)?l[e]=u[e]:l[e]=c&&d?d(t):h(t)}return l[e]}},5988:(e,t,s)=>{"use strict";var n=s(1695),o=s(3060),r=s(2871),i=s(4710),a=s(7620),c=s(3677)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||l},{push:function(e){var t=o(this),s=r(t),n=arguments.length;a(s+n);for(var c=0;c<n;c++)t[s]=arguments[c],s++;return i(t,s),s}})},6438:(e,t,s)=>{"use strict";var n=s(1695),o=s(3060),r=s(2871),i=s(4710),a=s(8685),c=s(7620),l=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:l||u},{unshift:function(e){var t=o(this),s=r(t),n=arguments.length;if(n){c(s+n);for(var l=s;l--;){var u=l+n;l in t?t[u]=t[l]:a(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return i(t,s+n)}})},7774:(e,t,s)=>{var n=s(2086),o=s(5283),r=s(8371),i=s(4276),a=s(3677),c=n.RegExp,l=c.prototype;o&&a((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},s="",n=e?"dgimsy":"gimsy",o=function(e,n){Object.defineProperty(t,e,{get:function(){return s+=n,!0}})},r={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(r.hasIndices="d"),r)o(i,r[i]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==n||s!==n}))&&r(l,"flags",{configurable:!0,get:i})},1570:(e,t,s)=>{var n=s(1695),o=s(2086),r=s(4953).clear;n({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==r},{clearImmediate:r})},5719:(e,t,s)=>{"use strict";var n=s(1695),o=s(2086),r=s(563),i=s(5736),a=s(7826).f,c=s(9606),l=s(1855),u=s(5070),d=s(1879),h=s(3621),p=s(79),g=s(5283),f=s(3296),m="DOMException",y=r("Error"),v=r(m),w=function(){l(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),s=d(e<2?void 0:arguments[1],"Error"),n=new v(t,s),o=y(t);return o.name=m,a(n,"stack",i(1,p(o.stack,1))),u(n,this,w),n},b=w.prototype=v.prototype,C="stack"in y(m),I="stack"in new v(1,2),S=v&&g&&Object.getOwnPropertyDescriptor(o,m),E=!(!S||S.writable&&S.configurable),L=C&&!E&&!I;n({global:!0,constructor:!0,forced:f||L},{DOMException:L?w:v});var A=r(m),_=A.prototype;if(_.constructor!==A)for(var V in f||a(_,"constructor",i(1,A)),h)if(c(h,V)){var P=h[V],O=P.s;c(A,O)||a(A,O,i(6,P.c))}},6282:(e,t,s)=>{s(1570),s(1427)},1427:(e,t,s)=>{var n=s(1695),o=s(2086),r=s(4953).set;n({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==r},{setImmediate:r})},6923:(e,t,s)=>{var n,o=s(3296),r=s(1695),i=s(2086),a=s(563),c=s(8240),l=s(3677),u=s(5422),d=s(930),h=s(1956),p=s(1858),g=s(8759),f=s(2071),m=s(4722),y=s(6112),v=s(375),w=s(9606),b=s(9720),C=s(2585),I=s(2871),S=s(1635),E=s(9028),L=s(2114),A=s(1448),_=s(172),V=s(1767),P=s(1801),O=i.Object,T=i.Date,x=i.Error,M=i.EvalError,R=i.RangeError,k=i.ReferenceError,D=i.SyntaxError,U=i.TypeError,N=i.URIError,F=i.PerformanceMark,B=i.WebAssembly,j=B&&B.CompileError||x,G=B&&B.LinkError||x,H=B&&B.RuntimeError||x,W=a("DOMException"),$=a("Set"),Z=a("Map"),Q=Z.prototype,X=c(Q.has),z=c(Q.get),J=c(Q.set),K=c($.prototype.add),q=a("Object","keys"),Y=c([].push),ee=c((!0).valueOf),te=c(1..valueOf),se=c("".valueOf),ne=c(T.prototype.getTime),oe=u("structuredClone"),re="DataCloneError",ie="Transferring",ae=function(e){return!l((function(){var t=new i.Set([7]),s=e(t),n=e(O(7));return s==t||!s.has(7)||"object"!=typeof n||7!=n}))&&e},ce=function(e,t){return!l((function(){var s=new t,n=e({a:s,b:s});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===s.stack)}))},le=i.structuredClone,ue=o||!ce(le,x)||!ce(le,W)||(n=le,!!l((function(){var e=n(new i.AggregateError([1],oe,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=oe||3!=e.cause}))),de=!le&&ae((function(e){return new F(oe,{detail:e}).detail})),he=ae(le)||de,pe=function(e){throw new W("Uncloneable type: "+e,re)},ge=function(e,t){throw new W((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",re)},fe=function(e,t){if(f(e)&&pe("Symbol"),!g(e))return e;if(t){if(X(t,e))return z(t,e)}else t=new Z;var s,n,o,r,c,l,u,h,p,m,y=v(e),S=!1;switch(y){case"Array":o=[],S=!0;break;case"Object":o={},S=!0;break;case"Map":o=new Z,S=!0;break;case"Set":o=new $,S=!0;break;case"RegExp":o=new RegExp(e.source,E(e));break;case"Error":switch(n=e.name){case"AggregateError":o=a("AggregateError")([]);break;case"EvalError":o=M();break;case"RangeError":o=R();break;case"ReferenceError":o=k();break;case"SyntaxError":o=D();break;case"TypeError":o=U();break;case"URIError":o=N();break;case"CompileError":o=j();break;case"LinkError":o=G();break;case"RuntimeError":o=H();break;default:o=x()}S=!0;break;case"DOMException":o=new W(e.message,e.name),S=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=i[y],g(s)||ge(y),o=new s(fe(e.buffer,t),e.byteOffset,"DataView"===y?e.byteLength:e.length);break;case"DOMQuad":try{o=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(t){he?o=he(e):ge(y)}break;case"FileList":if(r=function(){var e;try{e=new i.DataTransfer}catch(t){try{e=new i.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(c=0,l=I(e);c<l;c++)r.items.add(fe(e[c],t));o=r.files}else he?o=he(e):ge(y);break;case"ImageData":try{o=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){he?o=he(e):ge(y)}break;default:if(he)o=he(e);else switch(y){case"BigInt":o=O(e.valueOf());break;case"Boolean":o=O(ee(e));break;case"Number":o=O(te(e));break;case"String":o=O(se(e));break;case"Date":o=new T(ne(e));break;case"ArrayBuffer":(s=i.DataView)||"function"==typeof e.slice||ge(y);try{if("function"==typeof e.slice)o=e.slice(0);else for(l=e.byteLength,o=new ArrayBuffer(l),p=new s(e),m=new s(o),c=0;c<l;c++)m.setUint8(c,p.getUint8(c))}catch(e){throw new W("ArrayBuffer is detached",re)}break;case"SharedArrayBuffer":o=e;break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(e){ge(y)}break;case"DOMPoint":case"DOMPointReadOnly":s=i[y];try{o=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch(e){ge(y)}break;case"DOMRect":case"DOMRectReadOnly":s=i[y];try{o=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch(e){ge(y)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=i[y];try{o=s.fromMatrix?s.fromMatrix(e):new s(e)}catch(e){ge(y)}break;case"AudioData":case"VideoFrame":d(e.clone)||ge(y);try{o=e.clone()}catch(e){pe(y)}break;case"File":try{o=new File([e],e.name,e)}catch(e){ge(y)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ge(y);default:pe(y)}}if(J(t,e,o),S)switch(y){case"Array":case"Object":for(u=q(e),c=0,l=I(u);c<l;c++)h=u[c],b(o,h,fe(e[h],t));break;case"Map":e.forEach((function(e,s){J(o,fe(s,t),fe(e,t))}));break;case"Set":e.forEach((function(e){K(o,fe(e,t))}));break;case"Error":C(o,"message",fe(e.message,t)),w(e,"cause")&&C(o,"cause",fe(e.cause,t)),"AggregateError"==n&&(o.errors=fe(e.errors,t));case"DOMException":L&&C(o,"stack",fe(e.stack,t))}return o},me=le&&!l((function(){if(V&&A>92||P&&A>94||_&&A>97)return!1;var e=new ArrayBuffer(8),t=le(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength})),ye=function(e,t){if(!g(e))throw U("Transfer option cannot be converted to a sequence");var s=[];m(e,(function(e){Y(s,y(e))}));var n,o,r,a,c,l,u=0,p=I(s);if(me)for(a=le(s,{transfer:s});u<p;)J(t,s[u],a[u++]);else for(;u<p;){if(n=s[u++],X(t,n))throw new W("Duplicate transferable",re);switch(o=v(n)){case"ImageBitmap":r=i.OffscreenCanvas,h(r)||ge(o,ie);try{(l=new r(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),c=l.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":d(n.clone)&&d(n.close)||ge(o,ie);try{c=n.clone(),n.close()}catch(e){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ge(o,ie)}if(void 0===c)throw new W("This object cannot be transferred: "+o,re);J(t,n,c)}};r({global:!0,enumerable:!0,sham:!me,forced:ue},{structuredClone:function(e){var t,s=S(arguments.length,1)>1&&!p(arguments[1])?y(arguments[1]):void 0,n=s?s.transfer:void 0;return void 0!==n&&(t=new Z,ye(n,t)),fe(e,t)}})}},s={};function n(e){var o=s[e];if(void 0!==o)return o.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>"ui.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},n.l=(t,s,o,r)=>{if(e[t])e[t].push(s);else{var i,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==t){i=u;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.src=t),e[t]=[s];var d=(s,n)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),s)return s(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),a&&document.head.appendChild(i)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{var e={200:0};n.f.j=(t,s)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var r=new Promise(((s,n)=>o=e[t]=[s,n]));s.push(o[2]=r);var i=n.p+n.u(t),a=new Error;n.l(i,(s=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}}),"chunk-"+t,t)}};var t=(t,s)=>{var o,r,[i,a,c]=s,l=0;if(i.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)c(n)}for(t&&t(s);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},s=self.webpackChunk=self.webpackChunk||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";n(5988),n(6438),n(7774),n(5719),n(6282),n(6923);var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e,t="URLSearchParams"in e,s="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,s){e.onload=function(){t(e.result)},e.onerror=function(){s(e.error)}}))}function f(e){var t=new FileReader,s=g(t);return t.readAsArrayBuffer(e),s}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var s;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&((s=e)&&DataView.prototype.isPrototypeOf(s))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(f)}),this.text=function(){var e,t,s,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,s=g(t),t.readAsText(e),s;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),s=new Array(t.length),n=0;n<t.length;n++)s[n]=String.fromCharCode(t[n]);return s.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=l(e),t=u(t);var s=this.map[e];this.map[e]=s?s+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=u(t)},h.prototype.forEach=function(e,t){for(var s in this.map)this.map.hasOwnProperty(s)&&e.call(t,this.map[s],s,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,s){e.push(s)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,s){e.push([s,t])})),d(e)},s&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var s,n,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(s=t.method||this.method||"GET",n=s.toUpperCase(),v.indexOf(n)>-1?n:s),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var s=e.split("="),n=s.shift().replace(/\+/g," "),o=s.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];C.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})};var S=e.DOMException;try{new S}catch(e){(S=function(e,t){this.message=e,this.name=t;var s=Error(e);this.stack=s.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function E(t,s){return new Promise((function(n,r){var a=new w(t,s);if(a.signal&&a.signal.aborted)return r(new S("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}c.onload=function(){var e,t,s={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var s=e.split(":"),n=s.shift().trim();if(n){var o=s.join(":").trim();t.append(n,o)}})),t)};s.url="responseURL"in c?c.responseURL:s.headers.get("X-Request-URL");var o="response"in c?c.response:c.responseText;setTimeout((function(){n(new C(o,s))}),0)},c.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){r(new S("Aborted","AbortError"))}),0)},c.open(a.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":i&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!s||"object"!=typeof s.headers||s.headers instanceof h?a.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(s.headers).forEach((function(e){c.setRequestHeader(e,u(s.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",l)}),c.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=h,e.Request=w,e.Response=C);var L=n(4610),A=n(2299);const _=JSON.parse('{"ny":"https://freechoice-landingpage.traffective.workers.dev","iR":"https://freechoice.club"}');var V=function(e,t,s,n){return new(s||(s=Promise))((function(o,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},P=function(e,t){var s,n,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{s=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};const O=function(){function e(){this.apiBaseUrl=_.ny}return e.prototype.hasSubscription=function(e){return V(this,void 0,void 0,(function(){var t,s,n;return P(this,(function(o){switch(o.label){case 0:return null==(t=e.user)?[2,null]:(s={method:"post",body:JSON.stringify({user:t}),headers:{"content-type":"application/json;charset=UTF-8"}},[4,fetch(this.apiBaseUrl+"/has-subscription",s)]);case 1:return[4,o.sent().json()];case 2:return null==(n=o.sent())?[2,null]:[2,n]}}))}))},e.prototype.getSubscriptionUrl=function(){return new URL(_.iR).toString()},e}();class T{constructor(e){this.context=e}async init(){}async hasSubscription(){throw new Error("Has to be implemented by child class")}async gotoSubscribe(){await this.context.tracker.onPaywallSubscribe(this.context.config.provider)}async gotoLogin(){await this.context.tracker.onPaywallLogin(this.context.config.provider)}trackSubscription(){}}function x(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)e[n]=s[n]}return e}var M=function e(t,s){function n(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=x({},s,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var i in o)o[i]&&(r+="; "+i,!0!==o[i]&&(r+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+r}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],n={},o=0;o<s.length;o++){var r=s[o].split("="),i=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(n[a]=t.read(i,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",x({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,x({},this.attributes,t))},withConverter:function(t){return e(x({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const R=M;var k=n(8226);class D extends T{static CookieName="fcu";static UrlParamName="fcu";trf_languages_spain=new Set(["es","ca","gl","eu"]);constructor(e){super(e),this.api=null}async init(){this.api=new O}getHtmlLanguage(){let e=window.document.documentElement.lang;return e=e.length>2?e.slice(0,2):e,"de"===e?"":this.trf_languages_spain.has(e)?"es":"en"}cacheUser(e){if(this.context.hasOwnCookie)k.Z.setItem(D.CookieName,e);else{let t="."+this.context.localTopDomain;R.set(D.CookieName,e,{expires:365,path:"/",SameSite:"None",secure:!0,domain:t})}}getCachedUser(){return this.context.hasOwnCookie?k.Z.getItem(D.CookieName):R.get(D.CookieName)}async getCookieAndCache(){let e=k.Z.getItem("opemcmp-param-fcu");return null!=e?(this.cacheUser(e),k.Z.removeItem("opemcmp-param-fcu"),e):this.getCachedUser()}clearCachedUser(){if(this.context.hasOwnCookie)return void k.Z.removeItem(D.CookieName);let e="."+this.context.localTopDomain;R.remove(D.CookieName,{domain:e,path:"/"})}async hasSubscription(){let e,t=await this.getCookieAndCache();try{e=await this.api.hasSubscription({user:t})}catch(e){return null}return null==e?null:(null==e.hasSubscription&&this.clearCachedUser(),e.hasSubscription)}async gotoSubscribe(){await super.gotoSubscribe();let e=this.api.getSubscriptionUrl(window.location.href);window.location.href=`${e}/${this.getHtmlLanguage()}`}async gotoLogin(){await super.gotoLogin();let e=this.api.getSubscriptionUrl(window.location.href);window.location.href=`${e}/${this.getHtmlLanguage()}`}trackSubscription(){this.context.tracker.onValidPaywallSubscriptionImpression()}}class U{provide(e){return U.providers[e]}}U.providers={freechoice:D,custom:class extends T{constructor(e){super(e)}async init(){}async hasSubscription(){try{return"function"==typeof window.opencmpHasSubscription&&!0===await window.opencmpHasSubscription()}catch(e){return!1}}async gotoSubscribe(){await super.gotoSubscribe(),window.location.href=this.context.config.customUrl}async gotoLogin(){await super.gotoLogin(),window.location.href=this.context.config.customLoginUrl}}};class N{tracker;config;hasOwnCookie;localTopDomain}class F{static TrackingTimeout=500;static TrackingTimeoutDebugging=1e3;static AppPlatforms=new Set(["android","ios","flutter"]);static DebuggedDomains=new Set(["elindependiente.com","opencmp.net"]);#t=[];constructor(e){this.config=e,A.$.init(),this.analytics=A.$,this.resetInitialTime()}resetInitialTime(){this.initialTime=new Date}onConsentwallImpression(){this.track({type:A.$.eventTypes.popup})}onSettingsImpression(){this.track({type:A.$.eventTypes.popupSettings})}onCmpDownloaded(){this.track({type:A.$.eventTypes.cmpDownloaded})}async onAllowAll(e,t){e&&t?await this.track({type:A.$.eventTypes.selectAll}):await this.track({type:A.$.eventTypes.settingsContinued})}async onRejectAll(){await this.track({type:A.$.eventTypes.rejectAll})}async onAllowPartial(e,t){!1!==t?e?await this.track({type:A.$.eventTypes.selectSelection}):await this.track({type:A.$.eventTypes.selectModified}):await this.track({type:A.$.eventTypes.reselect})}onValidConsentImpressions(){this.track({type:A.$.eventTypes.pageImpressionsConsented})}onValidPaywallSubscriptionImpression(){this.track({type:A.$.eventTypes.freechoicePageimpression})}onPaywallImpressions(){this.track({type:A.$.eventTypes.paywallImpression})}async onPaywallSubscribe(e){await this.track({type:A.$.eventTypes.paywallSubscribe,provider:e})}async onPaywallLogin(e){await this.track({type:A.$.eventTypes.paywallLogin,provider:e})}#s(){const e=navigator&&(navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.languages&&navigator.languages[0]||"en-us");let[t,s]=e.split("-");return null==s&&(s=t),s.toUpperCase()}track(e){if(this.config.dev)return Promise.resolve();let t=F.DebuggedDomains.has(this.config.domain)?F.TrackingTimeoutDebugging:F.TrackingTimeout,s=new Promise((e=>setTimeout(e,t))),n=new Promise((t=>{let s=(new Date-this.initialTime)/1e3,n=this.config.platform,o={...e,pr:this.config.settings.publisherRestriction,tte:s,app:F.AppPlatforms.has(n.type),platform:this.config.platform.type,domain:this.config.configuredDomain,amp:"amp"===n.type,uc:this.#s()};this.#t.push(o),this.analytics.track(o).then(t).catch(t)}));return Promise.any([s,n]).catch((()=>Promise.resolve()))}}var B=n(7628),j=n(2469);class G{static removeAllCookiesByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";this._deleteCookie(e,t);const s=this._getParentDomains(window.location.hostname);for(const n of s)this._deleteCookie(e,t,n)}static _deleteCookie(e,t,s){let n=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${t};`;s&&(n+=` domain=.${s};`),document.cookie=n}static _getParentDomains(e){const t=e.split(".");return Array.from({length:t.length-1},((e,s)=>t.slice(s).join(".")))}static getAllCookiesByName(e){return document.cookie.split("; ").filter((t=>t.startsWith(`${e}=`))).map((e=>{const[,t]=e.split(/=(.*)/);try{return decodeURIComponent(t)}catch{return null}})).filter((e=>null!==e))}}class H{constructor(e){this.config=e}_getCookieDomain(){return this.config.hasOwnCookie(),this.config.localDomain}_setLocalStorage(e){window.localStorage.setItem(H.cookieName,e.tcf),window.localStorage.setItem(H.customCookieName,e.custom),null==e.google?window.localStorage.removeItem(H.googleCookieName):window.localStorage.setItem(H.googleCookieName,e.google);let t=JSON.stringify({dv:e.meta.dvlVersion});window.localStorage.setItem(H.metaCookieName,t)}_clearLocalStorage(){window.localStorage.removeItem(H.cookieName),window.localStorage.removeItem(H.customCookieName),window.localStorage.removeItem(H.googleCookieName),window.localStorage.removeItem(H.metaCookieName)}_setCookie(e){let t="."+this.config.localTopDomain;this._clearCookie();let s=JSON.stringify({dv:e.meta.dvlVersion});R.set(H.cookieName,e.tcf,{expires:365,path:"/",SameSite:"None",secure:!0,domain:t}),R.set(H.customCookieName,e.custom,{expires:365,path:"/",SameSite:"None",secure:!0,domain:t}),null==e.google?R.remove(H.googleCookieName,{path:"/",SameSite:"None",secure:!0,domain:t}):R.set(H.googleCookieName,e.google,{expires:365,path:"/",SameSite:"None",secure:!0,domain:t}),R.set(H.metaCookieName,s,{expires:365,path:"/",SameSite:"None",secure:!0,domain:t})}_clearCookie(){let e="."+this.config.localTopDomain;G.removeAllCookiesByName(H.cookieName),R.remove(H.customCookieName,{path:"/",domain:e}),R.remove(H.googleCookieName,{path:"/",domain:e}),R.remove(H.metaCookieName,{path:"/",domain:e})}clear(e){this.config.hasOwnCookie()?this._clearLocalStorage():this._clearCookie()}set(e){this.config.hasOwnCookie()?this._setLocalStorage(e):this._setCookie(e)}_getLocalStorage(){let e=new j.Z(null,null,null);e.tcf=window.localStorage.getItem(H.cookieName),e.custom=window.localStorage.getItem(H.customCookieName),e.google=window.localStorage.getItem(H.googleCookieName);let t={dv:0};try{Object.assign(t,JSON.parse(window.localStorage.getItem(H.metaCookieName)))}catch(e){}return e.meta={dvlVersion:t.dv},null==e.tcf&&(e.tcf=null),null==e.custom&&(e.custom=null),null==e.google&&(e.google=null),e}_getUniqueConsentCookieOrDeleteAll(){let e=G.getAllCookiesByName(H.cookieName);return 0===e.length?null:e.length>1?(this._clearCookie(),null):e[0]}_getCookie(){let e=new j.Z(null,null,null);e.tcf=this._getUniqueConsentCookieOrDeleteAll(),e.custom=R.get(H.customCookieName),e.google=R.get(H.googleCookieName);let t={dv:0};try{Object.assign(t,JSON.parse(R.get(H.metaCookieName)))}catch(e){}return e.meta={dvlVersion:t.dv},void 0===e.tcf&&(e.tcf=null),void 0===e.custom&&(e.custom=null),void 0===e.google&&(e.google=null),e}async get(){if("function"==typeof __getSharedConsent){const e=await __getSharedConsent();e&&e.tcf&&this.set(e)}return this.config.hasOwnCookie()?this._getLocalStorage():this._getCookie()}}H.cookieName="euconsent-v2",H.customCookieName="trf-euconsent-v2",H.googleCookieName="google-euconsent-v2",H.metaCookieName="trf-euconsent-meta";class W{constructor(e){}set(e){window.parent.postMessage({type:"consent-response",info:e.tcf,action:"accept",consentMetadata:{consentStringType:2,gdprApplies:!0,additionalConsent:e.google}},"*")}get(){let e=null;try{e=JSON.parse(window.name)}catch(e){}let t=new j.Z(null,null,null);return t.meta={dvlVersion:0},void 0!==e&&(void 0!==e.consentString&&(t.tcf=e.consentString),void 0!==e.consentMetadata&&null!=e.consentMetadata.additionalConsent&&(t.google=e.consentMetadata.additionalConsent)),t}}var $=n(1364);class Z{constructor(){this.promises={},window.trfCmpResolvePromise=this.resolvePromise.bind(this)}generateUUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:11).toString(16)}))}runWithPromise(e){let t=this.generateUUID();return new Promise(((s,n)=>{this.promises[t]={resolve:s,reject:n},e(t)}))}resolvePromise(e,t,s){let n=this.promises[e];void 0!==n&&(delete this.promises[e],s?n.reject(t):n.resolve(t))}static getInstance(){return null===Z.instance&&(Z.instance=new Z),Z.instance}}Z.instance=null;const Q=Z;class X{constructor(e){this.domain=e,this.nativeInterface=Q.getInstance()}consentToPreferences(e){let t={dv:e.meta.dvlVersion},s=$.E9.decode(e.tcf),n={IABTCF_CmpSdkID:s.cmpId,IABTCF_CmpSdkVersion:s.cmpVersion,IABTCF_PolicyVersion:s.policyVersion,IABTCF_gdprApplies:1,IABTCF_PublisherCC:s.publisherCountryCode,IABTCF_UseNonStandardStacks:s.useNonStandardStacks?1:0,IABTCF_VendorConsents:this.toBinaryString(s.vendorConsents),IABTCF_VendorLegitimateInterests:this.toBinaryString(s.vendorLegitimateInterests),IABTCF_PurposeConsents:this.toBinaryString(s.purposeConsents),IABTCF_PurposeLegitimateInterests:this.toBinaryString(s.purposeLegitimateInterests),IABTCF_SpecialFeaturesOptIns:this.toBinaryString(s.specialFeatureOptins),IABTCF_PublisherConsent:this.toBinaryString(s.publisherConsents),IABTCF_PublisherLegitimateInterests:this.toBinaryString(s.publisherLegitimateInterests),IABTCF_PublisherCustomPurposesConsents:this.toBinaryString(s.publisherCustomConsents),IABTCF_PublisherCustomPurposesLegitimateInterests:this.toBinaryString(s.publisherCustomLegitimateInterests)},o=$.E9.decode(e.custom);return n.IABTCF_CustomVendorConsents=this.toBinaryString(o.vendorConsents),n.IABTCF_CustomVendorLegitimateInterests=this.toBinaryString(o.vendorLegitimateInterests),{tcf:e.tcf,custom:e.custom,google:e.google,meta:t,preferences:n}}toBinaryString(e){let t=new Array(e.maxId);for(let s=0;s<t.length;s++)e.has(s+1)?t[s]="1":t[s]="0";return t.join("")}preferencesToConsent(e){let t=e,s={dv:0};try{Object.assign(s,t.meta)}catch(e){}let n=new j.Z(t.tcf,t.custom,t.google);return n.meta={dvlVersion:s.dv},n}}class z extends X{async set(e){let t=this.consentToPreferences(e);window.opencmpInAppProxy.setConsent(JSON.stringify(t))}async get(){return this.nativeInterface.runWithPromise((e=>{window.opencmpInAppProxy.getConsent(e)})).then((e=>this.preferencesToConsent(e)))}}class J extends X{constructor(e,t){super(e),this.platform=t}async set(e){let t=this.consentToPreferences(e);window.webkit.messageHandlers.setConsent.postMessage(JSON.stringify(t))}async getV1(){return this.nativeInterface.runWithPromise((e=>{window.webkit.messageHandlers.getConsent.postMessage(e)})).then((e=>this.preferencesToConsent(e)))}async getV2(){return this.nativeInterface.runWithPromise((e=>{window.webkit.messageHandlers.getConsent.postMessage(e)})).then((e=>this.preferencesToConsent(JSON.parse(e))))}async get(){if(1===this.platform.version)return await this.getV1();if(2===this.platform.version)return await this.getV2();throw new Error("Platform IOS version "+this.platform.version+" not supported")}}const K=()=>window.flutter_inappwebview&&"function"==typeof window.flutter_inappwebview.callHandler;async function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:45e3;return K()?window.flutter_inappwebview:new Promise(((t,s)=>{let n=!1;const o=()=>{n||(n=!0,r(),t(window.flutter_inappwebview))},r=()=>{clearTimeout(a),clearInterval(i),window.removeEventListener("flutterInAppWebViewPlatformReady",o)};window.addEventListener("flutterInAppWebViewPlatformReady",o);const i=setInterval((()=>{K()&&o()}),1e3),a=setTimeout((()=>{n||(n=!0,r(),s(new Error(`Failed to initialize flutter_inappwebview within ${e}ms.`)))}),e)}))}async function Y(e){const t=await q();for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return t.callHandler(e,...n)}class ee extends X{async set(e){let t=this.consentToPreferences(e);await Y("setConsent",JSON.stringify(t))}async get(){return this.nativeInterface.runWithPromise((async e=>{await Y("getConsent",e)})).then((e=>this.preferencesToConsent(JSON.parse(e))))}}class te{constructor(e,t,s,n){this.platform=s,this.localProxy=new H(n),this.ampProxy=new W(t),this.androidProxy=new z(t),this.iosProxy=new J(t,s),this.flutterProxy=new ee(t)}async clear(){return this.platform.type,"flutter"===this.platform.type?await this.flutterProxy.clear():"android"===this.platform.type?await this.androidProxy.clear():"ios"===this.platform.type?await this.iosProxy.clear():await this.localProxy.clear()}async get(){var e;const t=null===(e=this.platform)||void 0===e?void 0:e.type,s={amp:this.ampProxy,flutter:this.flutterProxy,android:this.androidProxy,ios:this.iosProxy,default:this.localProxy},n=s[t]||s.default;if(!n||"function"!=typeof n.get)return j.Z.createByObject({});try{return await n.get()}catch(e){return j.Z.createByObject({})}}async set(e){if("amp"===this.platform.type)await this.ampProxy.set(e);else{if("flutter"===this.platform.type)return await this.flutterProxy.set(e);if("android"===this.platform.type)return await this.androidProxy.set(e);if("ios"===this.platform.type)return await this.iosProxy.set(e);await this.localProxy.set(e)}}}var se=n(458);class ne{async init(){}isInitialized(){return!0}async loadJson(e){throw new Error("Not implemented")}async loadCss(e){throw new Error("Not implemented")}}class oe extends ne{constructor(){super()}async loadJson(e){return await fetch(e).then((e=>e.json())).catch((()=>null))}async loadCss(e){return await fetch(e).then((e=>e.text())).catch((()=>null))}}const re=class extends ne{constructor(e){super(),this.iframe=null,this.onReadyResolver=null,this.lastMessageId=1,this.responsePromises={},this.iframeLocation=e,this.initialized=!1}isInitialized(){return this.initialized}async init(){window.addEventListener("message",this.onMessage.bind(this));let e=document.createElement("iframe");return e.src=this.iframeLocation,e.style.display="none",this.iframe=document.body.appendChild(e),new Promise((e=>{this.onReadyResolver=e}))}onMessage(e){let t=e.data;if("trfCmpResourceLoader"===t.source)switch(t.type){case"ready":this.onReady();break;case"response":let e=t.messageId,s=this.responsePromises[e];delete this.responsePromises[e],s(t.payload)}}onReady(){this.initialized=!0,this.onReadyResolver()}async loadJson(e){let t=await this.post({type:"loadJson",location:e});return JSON.parse(t)}async loadCss(e){return await this.post({type:"loadCss",location:e})}async post(e){let t=(++this.lastMessageId).toString();return e.messageId=t,this.iframe.contentWindow.postMessage(e,"*"),new Promise((e=>{this.responsePromises[t]=e}))}};class ie{constructor(){this.loaders={fetch:new oe,iframe:new re}}setLoader(e,t){this.loaders[e]=t}async get(e){let t=this.loaders[e];return!1===t.isInitialized()&&await t.init(),t}}class ae{constructor(e){this.config=e,this.resourceLoaderFactory=new ie,this.resourceLoaderFactory.setLoader("fetch",new oe),this.resourceLoaderFactory.setLoader("iframe",new re(this.config.platformBaseUrl+"/cmp-resource-loader.html"))}async getLoader(){let e=this.config.getResourceLoader();return await this.resourceLoaderFactory.get(e)}async getCss(e){let t=await this.getLoader();return await t.loadCss(e)}async downloadVendorlist(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=`{root}/vendor-list-{language}.json?${se.Z.objectToUrlQuery(s)}`.replace("{root}",e).replace("{language}",t),o=await this.getLoader();return await o.loadJson(n).catch((()=>null))}async downloadTranslation(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=`{root}/translation-{language}.json?${se.Z.objectToUrlQuery(s)}`.replace("{root}",e).replace("{language}",t),o=await this.getLoader();return await o.loadJson(n).catch((()=>null))}async downloadSettings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=`{root}/settings.json?${se.Z.objectToUrlQuery(t)}`.replace("{root}",e),n=await this.getLoader();return await n.loadJson(s).catch((()=>null))}async downloadJson(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=`{location}?${se.Z.objectToUrlQuery(t)}`.replace("{location}",e),n=await this.getLoader();return await n.loadJson(s).catch((()=>null))}}var ce=n(6627);class le{static async isEUUser(){let e;try{e=await le.getGeoLocation()}catch(e){return!0}return!!le.isEuropeanUnion(e)||"CH"===e}static async getGeoLocation(){const e="trf_c";let t=k.Z.getItem(e);if(null!==t)return t;const s=new XMLHttpRequest;return s.open("GET","https://cdntrf.com/api/country/",!0),new Promise(((n,o)=>{s.onload=function(){return this.status>=200&&this.status<400?(k.Z.setItem(e,this.response),t=this.response):o("The country couldnt be determined","e",this.status),n(t)},s.onerror=function(e){o("The country could not be determined","e",e)},s.send()}))}static isEuropeanUnion(e){return le.EuropeanCountryCodes.has(e)}}le.EuropeanCountryCodes=new Set(["BE","EL","LT","PT","BG","ES","LU","RO","CZ","FR","HU","SI","DK","HR","MT","SK","DE","IT","NL","FI","EE","CY","AT","SE","IE","LV","PL","GR","GB"]);const ue=le;var de=n(1925),he=n(9464);class pe extends he.Z{constructor(e,t,s,n,o,r,i,a){super(),this.uiRouterHistory=a,a.listen(this._uiRouterListener.bind(this)),this.flowContext=r,this.logger=o,this.tracker=n,this.vendorList=this.flowContext.vendorList,this.consentModel=s,this.consentProxy=e,this.config=t,this.api=i}async _uiRouterListener(e){let t=e.state;var s;e.pathname.startsWith("/paywall")||e.pathname.startsWith("/consentwall")?(await this.flowContext.onUiChanged(!0),void 0!==(null===(s=e.state)||void 0===s?void 0:s.trigger)&&this.tracker.resetInitialTime()):await this.flowContext.onUiChanged(!1,!0===(null==t?void 0:t.dontUpdateApi))}async setGdprDoesNotApply(){this.api.setGdprDoesNotApply(),await this.flowContext.onGdprDoesNotApply()}async updateApi(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];await this.api.setModel(this.consentModel,e)}setHasPaywallSubscription(){this.api.setConsentType("paywall"),this.api.setUnused()}async setEmptyConsent(e){await this.api.setEmptyConsent(e)}async save(){await this.consentModel.disableDeletedVendors();this.consentModel.isNew();this.consentModel.refreshCreatedTime(),await this.consentModel.activateConsentString();let e=this.consentModel.getActiveConsentString();this.logger.debug("Activated Consent:",e),await this.consentProxy.set(e),await this.updateApi()}}class ge{static Logger=B.Z.get("Reconsent");async decide(e,t,s){let n=await this.#n(e,t,s);return n?ge.Logger.notify("Reconsent necessary."):ge.Logger.notify("Reconsent not necessary."),n}async#n(e,t,s){if("amp"===s.platform.type)return!0;if(!1===t.getHasConsent())return ge.Logger.notify("No consent found."),!0;if(ge.Logger.notify("Consent found."),t.activeConsentString.isExpired())return ge.Logger.notify("Consent has expired."),!0;ge.Logger.notify("Consent has not expired yet.");let n=await e.raw();return(!1!==this._hasPauseTimePassed(t,s)||(ge.Logger.notify("Pause time still active."),!0===n.isForceReconsent()))&&(ge.Logger.notify("Pause time has expired."),this._isNewVendorlistVersion(n,t)?(ge.Logger.notify("New Vendorlist version found."),!0):(ge.Logger.notify("Vendorlist version has not changed."),!1))}_hasPauseTimePassed(e,t){let s=t.pauseUiDays;if(void 0===s)return!0;let n=e.consentLastUpdated;return null===n||(new Date-n)/1e3/60/60/24>s}_isNewVendorlistVersion(e,t){let s=e.dvlVersion,n=t.consentDvlVersion;if(null==s)throw new Error("DVL version is not set in GVL.");if(null==n)throw new Error("Vendor list version is not set in consent.");return s>n}}class fe{constructor(e){this.translations=e,this.map=new Map,this._flatten(null,e,this.map)}_flatten(e,t,s){for(let n of Object.keys(t)){let o=t[n];"object"==typeof o?this._flatten(fe.combineKey(e,n),o,s):null===e?s.set(n,o):s.set(fe.combineKey(e,n),o)}}static combineKey(e,t){return null!==e?e+"."+t:t}get(e){return this.map.get(e)}has(e){return this.map.has(e)}}var me,ye,ve,we,be=n(7479);class Ce{async start(e){}async onUiChanged(e){}async onRequestOpenSettings(){}async clearConsent(){}async allowAllAndSave(){}async onRejectAllAndSave(){}async onSaveConsent(){}async onProcessConsent(){}async onGdprDoesNotApply(){}async onConsentUpdated(){}async onConsentDeleted(){}}!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(me||(me={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(ye||(ye={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(ve||(ve={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(we||(we={}));class Ie{listenerId;callback;next;param;success=!0;constructor(e,t,s,n){Object.assign(this,{callback:e,listenerId:s,param:t,next:n});try{this.respond()}catch(e){this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class Se extends Ie{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Ve(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class Ee{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new Se(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class Le{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new Ee;static cmpStatus=ye.LOADING;static disabled=!1;static displayStatus=ve.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=ye.LOADING,this.disabled=!1,this.displayStatus=ve.HIDDEN,this.eventQueue.clear()}}class Ae{cmpId=Le.cmpId;cmpVersion=Le.cmpVersion;gdprApplies=Le.gdprApplies;tcfPolicyVersion=Le.tcfPolicyVersion}class _e extends Ae{cmpStatus=ye.ERROR}class Ve extends Ae{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardTexts;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=Le.eventStatus,this.cmpStatus=Le.cmpStatus,this.listenerId=t,Le.gdprApplies){const t=Le.tcModel;this.tcString=Le.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardTexts=t.useNonStandardTexts,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const s=e.getMaxVendorId();for(let n=1;n<=s;n++){const s=n.toString();e.getRestrictions(n).forEach((e=>{const n=e.purposeId.toString();t[n]||(t[n]={}),t[n][s]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,s)=>(t[String(s)]=e.has(Number(s)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class Pe extends Ve{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+=t[1]?"1":"0"),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const s=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(s)}));for(let n=0;n<s;n++){const s=n+1;e.getRestrictions(s).forEach((e=>{const s=e.restrictionType.toString(),o=e.purposeId.toString(),r=t[o].substr(0,n),i=t[o].substr(n+1);t[o]=r+s+i}))}}return t}}class Oe extends Ae{cmpLoaded=!0;cmpStatus=Le.cmpStatus;displayStatus=Le.displayStatus;apiVersion=String(Le.apiVersion);gvlVersion;constructor(){super(),Le.tcModel&&Le.tcModel.vendorListVersion&&(this.gvlVersion=+Le.tcModel.vendorListVersion)}}class Te extends Ie{respond(){this.invokeCallback(new Oe)}}class xe extends Se{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Pe(this.param))}}class Me extends Ie{respond(){const e=Le.tcModel,t=e.vendorListVersion;let s;void 0===this.param&&(this.param=t),s=this.param===t&&e.gvl?e.gvl:new $.Ew(this.param),s.readyPromise.then((()=>{this.invokeCallback(s.getJson())}))}}class Re extends Se{respond(){this.listenerId=Le.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ke extends Ie{respond(){this.invokeCallback(Le.eventQueue.remove(this.param))}}class De{static[me.PING]=Te;static[me.GET_TC_DATA]=Se;static[me.GET_IN_APP_TC_DATA]=xe;static[me.GET_VENDOR_LIST]=Me;static[me.ADD_EVENT_LISTENER]=Re;static[me.REMOVE_EVENT_LISTENER]=ke}class Ue{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}class Ne{callQueue;customCommands;constructor(e){if(e){let t=me.ADD_EVENT_LISTENER;if(null!=e&&e[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${me.GET_TC_DATA} instead`);if(t=me.REMOVE_EVENT_LISTENER,null!=e&&e[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);null!=e&&e[me.GET_TC_DATA]&&(e[me.ADD_EVENT_LISTENER]=e[me.GET_TC_DATA],e[me.REMOVE_EVENT_LISTENER]=e[me.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window.__tcfapi()||[]}catch(e){this.callQueue=[]}finally{window.__tcfapi=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s){for(var n=arguments.length,o=new Array(n>3?n-3:0),r=3;r<n;r++)o[r-3]=arguments[r];if("string"!=typeof e)s(null,!1);else if(Ue.has(t)){if("function"!=typeof s)throw new Error("invalid callback function");Le.disabled?s(new _e,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](s,...o):e===me.PING?this.isCustomCommand(e)?new De[e](this.customCommands[e],o[0],null,s):new De[e](s,o[0]):void 0===Le.tcModel?this.callQueue.push([e,t,s,...o]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new De[e](this.customCommands[e],o[0],null,s):new De[e](s,o[0]):s(null,!1)}else s(null,!1)}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window.__tcfapi(...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==De[e]}}class Fe{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),Le.cmpId=e,Le.cmpVersion=t,Le.tcfPolicyVersion=5,this.isServiceSpecific=!!s,this.callResponder=new Ne(n)}throwIfInvalidInt(e,t,s){if(!("number"==typeof e&&Number.isInteger(e)&&e>=s))throw new Error(`Invalid ${t}: ${e}`)}update(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Le.disabled)throw new Error("CmpApi Disabled");Le.cmpStatus=ye.LOADED,t?(Le.displayStatus=ve.VISIBLE,Le.eventStatus=we.CMP_UI_SHOWN):void 0===Le.tcModel?(Le.displayStatus=ve.DISABLED,Le.eventStatus=we.TC_LOADED):(Le.displayStatus=ve.HIDDEN,Le.eventStatus=we.USER_ACTION_COMPLETE),Le.gdprApplies=null!==e,Le.gdprApplies?(""===e?(Le.tcModel=new $.gI,Le.tcModel.cmpId=Le.cmpId,Le.tcModel.cmpVersion=Le.cmpVersion):Le.tcModel=$.E9.decode(e),Le.tcModel.isServiceSpecific=this.isServiceSpecific,Le.tcfPolicyVersion=Number(Le.tcModel.policyVersion),Le.tcString=e):Le.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():Le.eventQueue.exec(),this.numUpdates++}disable(){Le.disabled=!0,Le.cmpStatus=ye.ERROR}}class Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];null==t&&(t=Array.from(new Set([...Array.from(e.vendorConsents.values()),...Array.from(e.vendorLegitimateInterests.values())]))),this.vendor={consents:this.createVectorField(e.vendorConsents.clone(),t),legitimateInterests:this.createVectorField(e.vendorLegitimateInterests.clone(),t)}}toJson(){return{vendor:this.vendor}}createVectorField(e,t){return t.reduce(((t,s)=>(t[s+""]=e.has(+s),t)),{})}}class je{constructor(e,t,s,n,o,r,i){this.logger=o,this.noSignals=s.dev,this.consentModel=n,this.latestConsentString={consent:null,uiVisible:null},this.config=s,this.cmpId=e,this.cmpVersion=t,this.flowContext=r,this.googleTag=i,this.consentType=null}install(){var e=this;this.tcfApi=new Fe(this.cmpId,this.cmpVersion,!0,{showUi:async e=>{this.config.dev?e(!1):(await this.flowContext.openSettings(),e(!0))},openPage:async(e,t)=>{let{page:s}=t;const n=["default","settings"].includes(s);this.config.dev||!n?e(!1):(await this.flowContext.openSettings({page:s}),e(!0))},getCustomData:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];null!=s&&0!==s.length||(s=null),e.getCustomDataCommand(t,s)},getTCData:(e,t,s)=>{"boolean"!=typeof t?!1!==t&&null!==t&&(t.opencmp={consentType:this.consentType,googleConsent:this.googleTag.getLatestConsent()},!1===this.config.dev&&(t.addtlConsent=this.consentModel.activeConsentString.google,t.customVendors=this._getCustomVendors().toJson().vendor),this._runCallback((()=>e(t,s)))):e(t,s)},debug:(e,t)=>{t?R.set("opencmp-debug","1",{expires:365,path:"/",SameSite:"None",secure:!0}):R.set("opencmp-debug","0",{expires:365,path:"/",SameSite:"None",secure:!0}),e()},setConsentString:async(e,t)=>{let s=j.Z.createByObject({tcf:t,meta:{dvlVersion:0}});await this.consentModel.updateByConsentString(s),await this.setModel(this.consentModel,!1),e()},processConsent:async e=>{"string"==typeof this.latestConsentString.consent&&this.latestConsentString.consent.length>0&&await this.flowContext.processConsent(),e()},addFullConsentForVendor:async(e,t)=>{if(null==t||null==t.vendorId||void 0===de.Z.VendorTypes[t.vendorType])return e({success:!1,message:"Invalid arguments"});if(!1!==this.latestConsentString.uiVisible)return e({success:!1,message:"addFullConsentForVendor API cannot be called while the consent UI is displayed."});try{await this.consentModel.addFullConsentForVendor(t.vendorId,t.vendorType),await this.setModel(this.consentModel,!1);let s="Consent granted temporarily";const n=this.flowContext.isPaywallEnabled();n&&this.flowContext.paywallHasSubscription?this.flowContext.processConsent():(await this.flowContext.saveConsent(),s="Consent granted permanently"),e({success:!0,message:s})}catch(t){e({success:!1,message:t.message})}},exportConsentData:async e=>{const t=await this.flowContext.getConsent();return this._runCallback((()=>e(t,!0)))},importConsentData:async(e,t)=>(await this.consentModel.updateByConsentString(t),await this.setModel(this.consentModel,!1),await this.flowContext.saveConsent(),this._runCallback((()=>e(t,!0))))}),this.config.dev?this._tryUpdate(null,!1):this.tcfApi.update(this.latestConsentString.consent,this.latestConsentString.uiVisible)}_runCallback(e){try{e()}catch(e){this.logger.debug("API: ERROR in callback")}}getCustomDataCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=!1,n=null;try{n=new Be(this.consentModel.tcCustomModel,t),s=!0}catch(e){s=!1}try{e(n,s)}catch(e){window.console.error("Callback for getCustomData threw error: ",e)}}_getCustomVendors(){return new Be(this.consentModel.tcCustomModel,null)}_tryUpdate(e,t){return(this.latestConsentString.consent!==e||this.latestConsentString.uiVisible!==t)&&(null!=this.tcfApi&&this.tcfApi.update(e,t),this.latestConsentString.consent=e,this.latestConsentString.uiVisible=t,!0)}setGdprDoesNotApply(){this.consentType="tcf",this._tryUpdate(null,!1)}setUnused(){this._tryUpdate("",!1)}async setEmptyConsent(e){this.consentType=null;let t=await this.consentModel.generateEmptyConsentString();this._tryUpdate(t,e)}setUiVisibility(e){this._tryUpdate(this.latestConsentString.consent||"",e)}setConsentType(e){this.consentType=e}async setModel(e,t){if(!0===this.noSignals)return;let s=e.getActiveConsentString();!1===t&&(this.consentType="tcf"),this._tryUpdate(s.tcf||"",t)}}class Ge{constructor(e){this.flow=e,this.impressumUrl=void 0,this.privacyUrl=void 0,this.domain=void 0,this.paywall=void 0,this.language=void 0,this.fallbackLanguage=void 0,this.paywallHasSubscription=void 0,this.vendorList=void 0,this.openerVisible=null,this.isUiVisible=!1,this.platform=null,this.hasConsent=null}async clearConsent(){await this.flow.clearConsent(),this.hasConsent=!1}isPaywallEnabled(){return null!=this.paywall}async onGdprDoesNotApply(){await this.flow.onGdprDoesNotApply()}async openSettings(e){await this.flow.onRequestOpenSettings(e)}async onUiChanged(e,t){this.isUiVisible!==e&&(this.isUiVisible=e,await this.flow.onUiChanged(e,t))}async getStats(){return await this.vendorList.getStats()}async onRejectAllAndSave(){await this.flow.onRejectAllAndSave()}async allowAllAndSave(){await this.flow.allowAllAndSave()}async saveConsent(){await this.flow.onSaveConsent()}async processConsent(){await this.flow.onProcessConsent()}async getConsent(){return await this.flow._getConsent()}}var He,We=n(7116);class $e{static Logger=B.Z.get("Scripts");constructor(e){this.config=e}runOnConsentOnce(e){if(null==e)throw new Error("gdprApplies not set");let t=window.document.querySelectorAll("script[type='text/plain'][data-cmp-script][data-cmp-on-consent-once]");for(let e of t)this._activateOnce(e)}async activateGoogleConsentModeScript(){let e=this.config.getSettings().google;if(!0===(null==e?void 0:e.enableConsentMode)){let e=window.document.querySelectorAll("script[type='text/plain'][data-cmp-script][data-cmp-google-consent-mode]");for(let t of e)this._activateOnce(t)}}async activateAll(e,t){if(null==e)throw new Error("gdprApplies not set");let s=window.document.querySelectorAll("script[type='text/plain'][data-cmp-script]");for(let n of s){if(!1===e){this._activateOnce(n);continue}let s=parseInt(n.getAttribute("data-cmp-vendor"));if(!1===Number.isNaN(s)&&await this.#o(s,t)){this._activateOnce(n);continue}let o=parseInt(n.getAttribute("data-cmp-custom-vendor"));!1===Number.isNaN(o)&&await this.#r(o,t)&&this._activateOnce(n)}}async#r(e,t){let s=(await t.getVendorList().raw()).customVendors[e.toString()];return null==s?($e.Logger.notify(`Custom vendor ${e} is not in the vendor list.`),!1):await this.#i(s,t.tcCustomModel,t.tcModel,We.Z.LegalBasis.Consent)}async#o(e,t){let s=(await t.getVendorList().raw()).vendors[e.toString()];return null==s?($e.Logger.notify(`IAB vendor ${e} is not in the vendor list.`),!1):await this.#i(s,t.tcModel,t.tcModel,We.Z.LegalBasis.Consent)}async#i(e,t,s,n){return!1!==await this.#a(e,t,n)&&await this.#c(e,s,n)}async#a(e,t,s){if(s===We.Z.LegalBasis.Consent)return t.vendorConsents.has(e.id);if(s===We.Z.LegalBasis.LegitimateInterest)return t.vendorLegitimateInterests.has(e.id);throw new Error("Legal basis not supported: "+s)}async#c(e,t,s){let n;if(s===We.Z.LegalBasis.Consent)n=new Set([...e.purposes,...e.flexiblePurposes]);else{if(s!==We.Z.LegalBasis.LegitimateInterest)throw new Error(`Legal basis not supported: ${s}`);n=new Set([...e.legIntPurposes,...e.flexiblePurposes])}for(let o of n)if(s===We.Z.LegalBasis.Consent){if(!t.purposeConsents.has(o))return $e.Logger.notify(`Validation failed for Vendor ${e.name} (${e.id}) with reason: purposeConsents ${o} not accepted`),!1}else if(s===We.Z.LegalBasis.LegitimateInterest&&!t.purposeLegitimateInterests.has(o))return $e.Logger.notify(`Validation failed for Vendor ${e.name} (${e.id}) with reason: purposeLegitimateInterests ${o} not accepted`),!1;return!0}_activateOnce(e){try{let t=e.getAttributeNames().map((t=>`${t}=${e.getAttribute(t).toString()}`));$e.Logger.notify("Running script",`"${t.join(" ")}"`)}catch(e){}let t=e.parentNode,s=ce.Z.cloneScriptTagRunnable(e);t.insertBefore(s,e),t.removeChild(e)}}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ze.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(He||(He={}));var Qe=function(e){return e};function Xe(e,t,s){return Math.min(Math.max(e,t),s)}function ze(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Je(){return Math.random().toString(36).substr(2,8)}function Ke(e){var t=e.pathname,s=void 0===t?"/":t,n=e.search,o=void 0===n?"":n,r=e.hash,i=void 0===r?"":r;return o&&"?"!==o&&(s+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(s+="#"===i.charAt(0)?i:"#"+i),s}function qe(e){var t={};if(e){var s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}class Ye{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.wrapped=function(e){void 0===e&&(e={});var t=e,s=t.initialEntries,n=void 0===s?["/"]:s,o=t.initialIndex,r=n.map((function(e){return Qe(Ze({pathname:"/",search:"",hash:"",state:null,key:Je()},"string"==typeof e?qe(e):e))})),i=Xe(null==o?r.length-1:o,0,r.length-1),a=He.Pop,c=r[i],l=ze(),u=ze();function d(e,t){return void 0===t&&(t=null),Qe(Ze({pathname:c.pathname,search:"",hash:""},"string"==typeof e?qe(e):e,{state:t,key:Je()}))}function h(e,t,s){return!u.length||(u.call({action:e,location:t,retry:s}),!1)}function p(e,t){a=e,c=t,l.call({action:a,location:c})}function g(e){var t=Xe(i+e,0,r.length-1),s=He.Pop,n=r[t];h(s,n,(function(){g(e)}))&&(i=t,p(s,n))}return{get index(){return i},get action(){return a},get location(){return c},createHref:function(e){return"string"==typeof e?e:Ke(e)},push:function e(t,s){var n=He.Push,o=d(t,s);h(n,o,(function(){e(t,s)}))&&(i+=1,r.splice(i,r.length,o),p(n,o))},replace:function e(t,s){var n=He.Replace,o=d(t,s);h(n,o,(function(){e(t,s)}))&&(r[i]=o,p(n,o))},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return l.push(e)},block:function(e){return u.push(e)}}}({initialEntries:e}),this.path=[]}get location(){return this.wrapped.location}listen(e){return this.wrapped.listen((t=>e(t.location)))}push(e,t){this.wrapped.push(e,t),this.path.push(this.location)}replace(e,t){this.wrapped.replace(e,t),this.path[this.path.length-1]=this.location}hasPrevious(){return this.wrapped.index>1}getBackLocation(){return this.path.length<2?null:this.path[this.path.length-2]}back(){this.wrapped.back(),this.path.splice(this.path.length-1,1)}clearAndPush(e,t){this.push(e,t)}}class et{static DefaultConsent={analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"};static ConsentFields=["ad_storage","ad_user_data","ad_personalization","analytics_storage"];static Logger=B.Z.get("Google Tag");#l=null;constructor(e){this.config=e}isEnabled(){var e;return!0===(null===(e=this.config.getSettings().google)||void 0===e?void 0:e.enableConsentMode)}setDefaultIfNotSet(e){if(!1===this.isEnabled())return;this.#u();let t=this.#d().find((e=>e instanceof Object&&e.length>=3&&"consent"===e[0]&&"default"===e[1]));null==t?(this.#h(e,!0),et.Logger.notify("Default consent set to",e)):et.Logger.notify("Default consent has already been set externally:",t)}#h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.#u(),this.#p("consent",t?"default":"update",e),this.#g(e)}#g(e){this.#l={};for(let t of et.ConsentFields)this.#l[t]="granted"===e[t]?"granted":"denied"}getConsentAllGranted(){return{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}}updateGrantAll(){!1!==this.isEnabled()&&(this.#h(this.getConsentAllGranted()),et.Logger.notify("All consent has been granted"))}getConsentByModel(e){var t;let s=this.#f(e,1,1),n=this.#f(e,3,1),o=this.#f(e,4,1),r=this.#f(e,7,3),i={...et.DefaultConsent};s&&(i.ad_storage="granted"),n&&o&&(i.ad_personalization="granted"),n&&r&&(i.ad_user_data="granted");let a=null===(t=this.config.getSettings().google)||void 0===t?void 0:t.analyticsVendor,c=e.tcModel.purposeConsents.has(1);return null!=a&&e.tcCustomModel.vendorConsents.has(a)&&c&&(i.analytics_storage="granted"),i}updateUsingModel(e){if(!1===this.isEnabled())return;let t=this.getConsentByModel(e);Object.keys(t).length>0&&(this.#h(t),et.Logger.notify("Consent has been updated to",t))}#f(e,t,s){let n=L.Z.Google.AdsVendorId,o=e.tcModel;if(o.publisherRestrictions.getRestrictionType(n,t)===$.cQ.NOT_ALLOWED)return!1;if(1===s||3===s)return!1!==o.vendorConsents.has(n)&&o.purposeConsents.has(t);if(2===s||3===s)return o.vendorLegitimateInterests.has(n)&&o.purposeLegitimateInterests.has(t);throw new Error("Invalid args")}#u(){this.#d()}#d(){let e=this.#m();return null==window[e]&&(window[e]=[]),window[e]}#m(){let e=window.document.querySelector('script[src*="googletagmanager"]');if(null==e)return"dataLayer";let t=new URL(e.src).searchParams.get("l");return null==t||0===t.trim().length?"dataLayer":t.trim()}#p(){this.#d().push(arguments)}getLatestConsent(){return this.#l}}class tt extends Ce{static Logger=B.Z.get("Flow");constructor(){super(),this.context=this._createContext(),this.uiInstalled=!1}_createContext(){return new Ge(this)}_init(e){this.context.platform=e.platform,this.platform=e.platform,this.config=e,this.language="en",this.fallbackLanguage="en",this.consentModel=null,this.translations=null,this.controller=null,this.tracker=new F(this.config),this.logger=new B.Z,this.externalScriptRunner=null,this.consentProxy=new te(this.config.portalLocation,this.config.domain,this.config.platform,this.config),this.gdprApplies=!0,this.resourceManager=new ae(this.config),this.storedConsent=null,this.uiRouterHistory=new Ye}async start(e){this._init(e),this.tracker.onCmpDownloaded(),await this.onConfigReady(),await this._loadSettings(),await this.onSettingsLoaded(),this.storedConsent=await this._getConsent(),await this._determineGdprApplies(),this.guessUserLanguage(),await this.prepareConsentModel(),await this.installApi(),await this.installController(),await Promise.all([this._loadTranslations()]),await this._updateConsent(),this.prepareContext(),await this.onFlowInitialized(),await ce.Z.documentReady(),await this.onInitialisationFinished()}async installExternalScriptRunner(){this.externalScriptRunner=new $e(this.config)}async installApi(){this.api=new je(this.config.cmpId,this.config.cmpVersion,this.config,this.consentModel,this.logger,this.context,this.googleTag)}prepareContext(){this.context.domain=this.config.domain;let e=this.config.impressumUrl,t=this.config.dataPolicyUrl;e&&(e=se.Z.passUrlParams(this.config,e),!0!==this.config.impressumUrlShowCmp&&(e=se.Z.addParam(e,"cmp-silent",1))),this.context.impressumUrl=e,t&&(t=se.Z.passUrlParams(this.config,t),!0!==this.config.dataPolicyUrlShowCmp&&(t=se.Z.addParam(t,"cmp-silent",1))),this.context.privacyUrl=t,this.context.openerVisible=!0===this.config.getSettings().openerVisible}async _determineGdprApplies(){if(!0!==this.config.checkGdprApplies())this.gdprApplies=!0;else if(this.storedConsent.hasConsent()&&!1===this.storedConsent.isExpired())this.gdprApplies=!0;else try{let e=await ue.isEUUser();this.gdprApplies=!0===e}catch(e){this.gdprApplies=!0}}async _loadSettings(){let e=await this.resourceManager.downloadSettings(this.config.settingLocation,this.config.settings.additionalAssetParams);if(null==e||0===Object.keys(e).length)throw new Error("Could not download settings. Please edit und save this domain's settings and try again.");this.config.update(e)}async _getConsent(){let e=j.Z.createByObject({});return void 0!==this.config.consent&&(e=j.Z.createByObject(this.config.consent)),!1===e.hasConsent()&&(e=await this.consentProxy.get()),e}async _updateConsent(){let e=this.storedConsent;e.hasConsent()&&await this.consentModel.updateByConsentString(e)}async _installUiOnce(){if(!0===this.uiInstalled)return;this.uiInstalled=!0;const{default:e}=await n.e(522).then(n.bind(n,4178));let t={controller:this.controller,translations:this.translations,config:this.config,context:this.context,tracker:this.tracker,resourceManager:this.resourceManager,routerHistory:this.uiRouterHistory};await new e(this.config,this.resourceManager).build(t)}async _loadTranslations(){let e=await this.resourceManager.downloadTranslation(this.config.settingLocation,this.language,this.config.settings.additionalAssetParams);if(null===e)throw new Error("No UI translation found");this.translations=new fe(e)}async onRequestOpenSettings(){await this.consentModel.addDisclosedVendors(),this.uiRouterHistory.clearAndPush("/consentwall/settings",{trigger:"opener"}),this.tracker.onSettingsImpression()}prepareConsentModel(){this.context.vendorList=new be.Z(this.resourceManager,this.config,this.language),this.consentModel=new de.Z(this.config,this.language,this.context.vendorList)}installController(){this.controller=new pe(this.consentProxy,this.config,this.consentModel,this.tracker,this.logger,this.context,this.api,this.uiRouterHistory)}guessUserLanguage(){let e=(navigator&&(navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.languages&&navigator.languages[0]||"en-us")).substr(0,2).toLowerCase();!1===this.config.supportedLanguages.includes(e)&&(e=this.fallbackLanguage),this.language=e,this.context.language=e,this.context.fallbackLanguage=this.fallbackLanguage}async allowAllAndSave(){this.tracker.onAllowAll("/consentwall/stacks"===this.uiRouterHistory.location.pathname),await this.consentModel.allowEverything(),await this.controller.save(),await this.onConsentUpdated(),this.uiRouterHistory.replace("/consent-initialized")}async onFlowInitialized(){}async onSettingsLoaded(){await this.installExternalScriptRunner()}async onConfigReady(){this.googleTag=new et(this.config),tt.Logger.notify("Flow type",this.constructor.name)}async googleTagFunction(){}async setBasicConsent(){await this.consentModel.addBasicConsent(),await this.consentModel.addDisclosedVendors()}async onMissingConsent(){await this.consentModel.addBasicConsent(),await this.consentModel.addDisclosedVendors(),this.uiRouterHistory.clearAndPush("/consentwall/stacks",{trigger:"consent"}),this.tracker.onConsentwallImpression()}async onValidConsent(){this.tracker.onValidConsentImpressions(),await this.controller.updateApi(!1),this.uiRouterHistory.push("/consent-initialized")}async onUiChanged(e){this.api.setUiVisibility(!0===e),!0===e?(await this._installUiOnce(),await this.showUi()):await this.hideUi()}async showUi(){}async hideUi(){}async clearConsent(){await this.consentProxy.clear(),this.context.hasConsent=!1}async onConsentUpdated(){}async onConsentDeleted(){}async onSaveConsent(){this.tracker.onAllowPartial(this.consentModel.isBasicConsentAllowed(),this.consentModel.isNew()),await this.controller.save(),await this.onConsentUpdated(),this.uiRouterHistory.replace("/consent-initialized")}async onRejectAllAndSave(){!0===this.config.paywallEnabled?(await this.consentModel.rejectEverything(),await this.context.clearConsent(),await this.api.setEmptyConsent(!0),await this.consentModel.addBasicConsent(),this.uiRouterHistory.push("/paywall",{consentWasRejected:!0})):(this.tracker.onRejectAll(),await this.consentModel.rejectEverything(),await this.controller.save(),this.uiRouterHistory.replace("/consent-initialized")),await this.onConsentDeleted()}async onInitialisationFinished(){if(!1===this.gdprApplies)await this.controller.setGdprDoesNotApply(),await this.onGdprDoesNotApply();else{let e=new ge;!0!==this.config.settings.silent&&await e.decide(this.context.vendorList,this.consentModel,this.config)?await this.onMissingConsent():await this.onValidConsent(),!1===this.config.dev&&await this._installUiOnce()}this.api.install()}}class st extends Ge{constructor(e){super(e)}async loginToPaywall(){await this.flow.loginToPaywall()}async subscribeToPaywall(){await this.flow.subscribeToPaywall()}}class nt{static CheckForNonEUUsersAndRemoveTheirConsent=!0}class ot extends tt{static SiteCss="\n        html.cmp-modal-open {\n            overflow: hidden !important;\n            // height: 100vh !important;\n            // position: absolute !important;\n        }\n        body.cmp-modal-open {\n            overflow: hidden !important;\n            // height: 100vh !important;\n            // position: absolute !important;\n        }\n    ";constructor(e){super(e),this.paywall=null}async _getConsent(){if(nt.CheckForNonEUUsersAndRemoveTheirConsent&&!0===this.config.checkGdprApplies()){!1===await ue.isEUUser()&&await this.consentProxy.clear()}return super._getConsent()}_createContext(){return new st(this)}_toggleSiteScrolling(e){let t=window,s=window.document;var n="overflow-y: hidden !important;overflow-x: hidden !important;margin-right: "+(t.innerWidth-s.documentElement.clientWidth)+"px";s.documentElement.style.cssText=e?n:""}async onFlowInitialized(){ce.Z.prependStaticCss(document.head,ot.SiteCss),null!==this.paywall&&await this.paywall.init()}async onSettingsLoaded(){await super.onSettingsLoaded(),this.googleTag.setDefaultIfNotSet({...et.DefaultConsent,wait_for_update:500}),await this.externalScriptRunner.activateGoogleConsentModeScript();let e=this.config.paywallConfig;if(!0===this.config.paywallEnabled){let t=new N;t.config=e,t.tracker=this.tracker,t.hasOwnCookie=this.config.hasOwnCookie(),t.localTopDomain=this.config.localTopDomain;let s=(new U).provide(e.provider);this.paywall=new s(t),await this.paywall.init(),this.context.paywall=this.paywall,this.context.paywallHasSubscription=await this.paywall.hasSubscription()}}async _updateConsent(){if(null!==this.context.paywall&&!0===this.context.paywallHasSubscription)return await this.consentProxy.clear(),void this.controller.setHasPaywallSubscription();await super._updateConsent()}async allowAllAndSave(){let e=this.uiRouterHistory.location.pathname;this.uiRouterHistory.replace("/consent-initialized",{dontUpdateApi:!0}),setTimeout((async()=>{this.tracker.onAllowAll("/paywall"===e&&this.config.paywallEnabled||"/consentwall/stacks"===e&&!1===this.config.paywallEnabled,this.consentModel.isNew()),await this.consentModel.allowEverything(),await this.controller.save(),await this.onConsentUpdated()}),1)}async loginToPaywall(){await this.paywall.gotoLogin()}async subscribeToPaywall(){await this.paywall.gotoSubscribe()}async onGdprDoesNotApply(){ot.Logger.notify("GDPR does not apply"),this.googleTag.updateGrantAll(),this.externalScriptRunner.runOnConsentOnce(!1),await this.externalScriptRunner.activateAll(!1,this.consentModel)}async onPaywallSubscription(){await this.context.clearConsent()}async onConsentDeleted(){ot.Logger.notify("Consent has been deleted"),this.googleTag.updateUsingModel(this.consentModel)}async onConsentUpdated(){ot.Logger.notify("Consent has been updated"),this.googleTag.updateUsingModel(this.consentModel),this.context.hasConsent=!0,this.externalScriptRunner.runOnConsentOnce(this.gdprApplies),await this.externalScriptRunner.activateAll(this.gdprApplies,this.consentModel)}async onValidConsent(){ot.Logger.notify("Consent found"),await super.onValidConsent(),this.context.hasConsent=!0,this.googleTag.updateUsingModel(this.consentModel),this.externalScriptRunner.runOnConsentOnce(this.gdprApplies),await this.externalScriptRunner.activateAll(this.gdprApplies,this.consentModel)}async onMissingConsent(){ot.Logger.notify("No consent found"),null!==this.paywall?!0!==this.context.paywallHasSubscription?(ot.Logger.notify("No Paywall subscription found"),await this.setBasicConsent(),this.uiRouterHistory.clearAndPush("/paywall",{trigger:"consent"}),this.tracker.onPaywallImpressions()):(ot.Logger.notify("Paywall subscription found"),this.controller.setHasPaywallSubscription(),this.paywall.trackSubscription(),await this.onPaywallSubscription()):(this.tracker.onConsentwallImpression(),await this.setBasicConsent(),this.uiRouterHistory.clearAndPush("/consentwall/stacks",{trigger:"consent"}))}async onRequestOpenSettings(){let{page:e="default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tracker.onSettingsImpression(),await this.consentModel.addDisclosedVendors();const t={default:null!==this.paywall?"/paywall":"/consentwall/settings",settings:"/consentwall/settings"},s=t[e]||t.default;this.uiRouterHistory.clearAndPush(s,{trigger:"opener"})}async onProcessConsent(){this.externalScriptRunner.runOnConsentOnce(this.gdprApplies),await this.externalScriptRunner.activateAll(this.gdprApplies,this.consentModel)}async onUiChanged(e){!0!==(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this.api.setUiVisibility(!0===e),!0===e?(await this._installUiOnce(),await this.showUi()):await this.hideUi(),e?document.documentElement.classList.add("cmp-modal-open"):document.documentElement.classList.remove("cmp-modal-open")}async showUi(){}async hideUi(){}#y(){null==window.dataLayer&&(window.dataLayer=[]);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];window.dataLayer.push(t)}}class rt extends tt{async onGdprDoesNotApply(){let e=this.googleTag.getConsentAllGranted();await this.setGoogleConsentIfEnabled(e)}async onConsentDeleted(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.setGoogleConsentIfEnabled(e)}async onConsentUpdated(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.setGoogleConsentIfEnabled(e)}async onValidConsent(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.setGoogleConsentIfEnabled(e)}async setGoogleConsentIfEnabled(e){throw new Error("Implement in child class")}}class it extends rt{async showUi(){window.opencmpInAppProxy.showUi()}async hideUi(){window.opencmpInAppProxy.hideUi()}async setGoogleConsentIfEnabled(e){!0===this.googleTag.isEnabled()&&null!=window.opencmpInAppProxy.updateGoogleConsent&&window.opencmpInAppProxy.updateGoogleConsent(JSON.stringify(e))}}class at extends rt{async showUi(){window.webkit.messageHandlers.showUi.postMessage("")}async hideUi(){window.webkit.messageHandlers.hideUi.postMessage("")}async setGoogleConsentIfEnabled(e){var t;!0===this.googleTag.isEnabled()&&(null===(t=window.webkit.messageHandlers.updateGoogleConsent)||void 0===t||t.postMessage(JSON.stringify(e)))}}class ct extends tt{async showUi(){"/consentwall/stacks"===this.uiRouterHistory.location.pathname?window.parent.postMessage({type:"consent-ui",action:"ready",initialHeight:"60vh"},"*"):window.parent.postMessage({type:"consent-ui",action:"enter-fullscreen"},"*")}async hideUi(){}async onRejectAllAndSave(){if(!0!==this.config.paywallEnabled)return void await super.onRejectAllAndSave();let e=this.config.getAmpConfig().paywallRedirectUrl;null!=e?(await this.tracker.onRejectAll(),window.open(e,"_top")):await super.onRejectAllAndSave()}}class lt extends tt{async showUi(){await Y("showUi")}async hideUi(){await Y("hideUi")}async onGdprDoesNotApply(){let e=this.googleTag.getConsentAllGranted();await this.#v(e)}async onConsentDeleted(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.#v(e)}async onConsentUpdated(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.#v(e)}async onValidConsent(){let e=this.googleTag.getConsentByModel(this.consentModel);await this.#v(e)}async#v(e){!0===this.googleTag.isEnabled()&&await Y("updateGoogleConsent",JSON.stringify(e))}}class ut{constructor(){this.consentFlowTypes=new Map,this.consentFlowInstances=new Map,this.consentFlowTypes.set("browser",ot),this.consentFlowTypes.set("android",it),this.consentFlowTypes.set("ios",at),this.consentFlowTypes.set("inappbrowser",tt),this.consentFlowTypes.set("amp",ct),this.consentFlowTypes.set("flutter",lt)}static getInstance(){return null==ut.instance&&(ut.instance=new ut),ut.instance}get(e){let t=this.consentFlowInstances.get(e);if(null==t){let s=this.consentFlowTypes.get(e);if(null==s)throw new Error("Platform not supported: "+e);t=new s,this.consentFlowInstances.set(e,t)}return t}}ut.instance=void 0;n.p=window.__cmpConfig.platformBaseUrl+"/",new class{constructor(e){this.config=new L.Z(e)}async run(){let e=this.config.platform,t=ut.getInstance().get(e.type);await t.start(this.config)}}(window.__cmpConfig).run()})()})();