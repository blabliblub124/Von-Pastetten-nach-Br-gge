(function(){"use strict";var z=function(){return z=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},z.apply(this,arguments)};function F(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;function Jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jt={exports:{}},qn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(qn){var Wn=new Uint8Array(16);Jt.exports=function(){return qn(Wn),Wn}}else{var Xn=new Array(16);Jt.exports=function(){for(var t=0,n;t<16;t++)t&3||(n=Math.random()*4294967296),Xn[t]=n>>>((t&3)<<3)&255;return Xn}}for(var Kn=Jt.exports,Qn=[],ht=0;ht<256;++ht)Qn[ht]=(ht+256).toString(16).substr(1);function Ri(e,t){var n=t||0,r=Qn;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var Zn=Ri,Oi=Kn,Di=Zn,er,qt,Wt=0,Xt=0;function Ni(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=e.node||er,o=e.clockseq!==void 0?e.clockseq:qt;if(a==null||o==null){var c=Oi();a==null&&(a=er=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=qt=(c[6]<<8|c[7])&16383)}var u=e.msecs!==void 0?e.msecs:new Date().getTime(),s=e.nsecs!==void 0?e.nsecs:Xt+1,f=u-Wt+(s-Xt)/1e4;if(f<0&&e.clockseq===void 0&&(o=o+1&16383),(f<0||u>Wt)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Wt=u,Xt=s,qt=o,u+=122192928e5;var v=((u&268435455)*1e4+s)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=v&255;var h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=a[w];return t||Di(i)}var Li=Ni,Mi=Kn,Ui=Zn;function Vi(e,t,n){var r=t&&n||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Mi)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||Ui(i)}var Bi=Vi,$i=Li,tr=Bi,Kt=tr;Kt.v1=$i,Kt.v4=tr;var re=Kt;/*!
 * Core functionality for Snowplow JavaScript trackers v3.24.6 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */var Hi="3.24.6";function ji(e){if(!e)return e;var t=4-e.length%4;switch(t){case 2:e+="==";break;case 3:e+="=";break}var n=e.replace(/-/g,"+").replace(/_/g,"/");return zi(n)}function Fi(e){if(!e)return e;var t=Yi(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Yi(e){var t,n,r,i,a,o,c,u,s=0,f=0,v=[];if(!e)return e;e=unescape(encodeURIComponent(e));do t=e.charCodeAt(s++),n=e.charCodeAt(s++),r=e.charCodeAt(s++),u=t<<16|n<<8|r,i=u>>18&63,a=u>>12&63,o=u>>6&63,c=u&63,v[f++]=ce.charAt(i)+ce.charAt(a)+ce.charAt(o)+ce.charAt(c);while(s<e.length);var h=v.join(""),w=e.length%3;return(w?h.slice(0,w-3):h)+"===".slice(w||3)}function zi(e){var t=function(I){return decodeURIComponent(I.split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""))},n,r,i,a,o,c,u,s,f=0,v=0,h="",w=[];if(!e)return e;e+="";do a=ce.indexOf(e.charAt(f++)),o=ce.indexOf(e.charAt(f++)),c=ce.indexOf(e.charAt(f++)),u=ce.indexOf(e.charAt(f++)),s=a<<18|o<<12|c<<6|u,n=s>>16&255,r=s>>8&255,i=s&255,c===64?w[v++]=String.fromCharCode(n):u===64?w[v++]=String.fromCharCode(n,r):w[v++]=String.fromCharCode(n,r,i);while(f<e.length);return h=w.join(""),t(h.replace(/\0+$/,""))}function Qt(){var e={},t=[],n=[],r=[],i,a=function(s,f){f!=null&&f!==""&&(e[s]=f)},o=function(s){for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&a(f,s[f])},c=function(s,f,v){if(v&&nr(v)){var h={keyIfEncoded:s,keyIfNotEncoded:f,json:v};n.push(h),t.push(h)}},u=function(s){r.push(s)};return{add:a,addDict:o,addJson:c,addContextEntity:u,getPayload:function(){return e},getJson:function(){return t},withJsonProcessor:function(s){i=s},build:function(){return i==null||i(this,n,r),e}}}function Gi(e){return function(t,n,r){for(var i=function(h,w,I){var d=JSON.stringify(h);e?t.add(w,Fi(d)):t.add(I,d)},a=function(){var h=t.getPayload();if(e?h.cx:h.co)return JSON.parse(e?ji(h.cx):h.co)},o=function(h,w){var I=h||a();return I?I.data=I.data.concat(w.data):I=w,I},c=void 0,u=0,s=n;u<s.length;u++){var f=s[u];f.keyIfEncoded==="cx"?c=o(c,f.json):i(f.json,f.keyIfEncoded,f.keyIfNotEncoded)}if(n.length=0,r.length){var v={schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:F([],r,!0)};c=o(c,v),r.length=0}c&&i(c,"cx","co")}}function nr(e){if(!rr(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function rr(e){return typeof e<"u"&&e!==null&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var mt="Snowplow: ",ie;(function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"})(ie||(ie={}));var ne=Ji();function Ji(e){e===void 0&&(e=ie.warn);function t(o){ie[o]?e=o:e=ie.warn}function n(o,c){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];if(e>=ie.error&&typeof console<"u"){var f=mt+o+`
`;c?console.error.apply(console,F([f+`
`,c],u,!1)):console.error.apply(console,F([f],u,!1))}}function r(o,c){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];if(e>=ie.warn&&typeof console<"u"){var f=mt+o;c?console.warn.apply(console,F([f+`
`,c],u,!1)):console.warn.apply(console,F([f],u,!1))}}function i(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];e>=ie.debug&&typeof console<"u"&&console.debug.apply(console,F([mt+o],c,!1))}function a(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];e>=ie.info&&typeof console<"u"&&console.info.apply(console,F([mt+o],c,!1))}return{setLogLevel:t,warn:r,error:n,debug:i,info:a}}function qi(){var e=[],t=[],n=function(r){var i=na(r),a=ra(r),o=[],c=en(e,r,a,i);o.push.apply(o,c);var u=sa(t,r,a,i);return o.push.apply(o,u),o};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(r){for(var i=[],a=[],o=0,c=r;o<c.length;o++){var u=c[o];pt(u)?i.push(u):ue(u)&&a.push(u)}e=e.concat(a),t=t.concat(i)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(r){for(var i=function(u){pt(u)?t=t.filter(function(s){return!fr(u,s)}):ue(u)&&(e=e.filter(function(s){return!fr(u,s)}))},a=0,o=r;a<o.length;a++){var c=o[a];i(c)}},getApplicableContexts:function(r){return n(r)}}}function Wi(e){return{addPluginContexts:function(t){var n=t?F([],t,!0):[];return e.forEach(function(r){try{r.contexts&&n.push.apply(n,r.contexts())}catch(i){ne.error("Error adding plugin contexts",i)}}),n}}}function Xi(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$"),n=t.exec(e);if(n!==null)return n.slice(1,6)}function Ki(e){if(e[0]==="*"||e[1]==="*")return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++){var i=r[n];if(i==="*")t=!0;else if(t)return!1}return!0}else if(e.length==2)return!0;return!1}function ir(e){var t=e.split(".");return t&&t.length>1?Ki(t):!1}function ar(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$"),n=t.exec(e);if(n!==null&&ir(n[1]))return n.slice(1,6)}function Zt(e){var t=ar(e);if(t){var n=t[0];return t.length===5&&ir(n)}return!1}function Qi(e){return Array.isArray(e)&&e.every(function(t){return typeof t=="string"})}function or(e){return Qi(e)?e.every(function(t){return Zt(t)}):typeof e=="string"?Zt(e):!1}function Xe(e){var t=e;return nr(t)&&"schema"in t&&"data"in t?typeof t.schema=="string"&&typeof t.data=="object":!1}function Zi(e){var t=e,n=0;if(e!=null&&typeof e=="object"&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept"))if(or(t.accept))n+=1;else return!1;if(Object.prototype.hasOwnProperty.call(t,"reject"))if(or(t.reject))n+=1;else return!1;return n>0&&n<=2}return!1}function gt(e){return typeof e=="function"&&e.length<=1}function ue(e){return gt(e)||Xe(e)}function sr(e){return Array.isArray(e)&&e.length===2?Array.isArray(e[1])?gt(e[0])&&e[1].every(ue):gt(e[0])&&ue(e[1]):!1}function cr(e){return Array.isArray(e)&&e.length===2&&Zi(e[0])?Array.isArray(e[1])?e[1].every(ue):ue(e[1]):!1}function pt(e){return sr(e)||cr(e)}function ea(e,t){var n=0,r=0,i=e.accept;Array.isArray(i)?e.accept.some(function(o){return wt(o,t)})&&r++:typeof i=="string"&&wt(i,t)&&r++;var a=e.reject;return Array.isArray(a)?e.reject.some(function(o){return wt(o,t)})&&n++:typeof a=="string"&&wt(a,t)&&n++,r>0&&n===0?!0:(r===0&&n>0,!1)}function wt(e,t){if(!Zt(e))return!1;var n=ar(e),r=Xi(t);if(n&&r){if(!ta(n[0],r[0]))return!1;for(var i=1;i<5;i++)if(!ur(n[i],r[i]))return!1;return!0}return!1}function ta(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var i=0;i<r.length;i++)if(!ur(n[i],r[i]))return!1;return!0}return!1}function ur(e,t){return e&&t&&e==="*"||e===t}function na(e){for(var t=e.getJson(),n=0,r=t;n<r.length;n++){var i=r[n];if(i.keyIfEncoded==="ue_px"&&typeof i.json.data=="object"){var a=i.json.data.schema;if(typeof a=="string")return a}}return""}function ra(e){var t=e.getPayload().e;return typeof t=="string"?t:""}function ia(e,t,n,r){var i=void 0;try{var a={event:t.getPayload(),eventType:n,eventSchema:r};return i=e(a),Array.isArray(i)&&i.every(Xe)||Xe(i)?i:void 0}catch{i=void 0}return i}function lr(e){return Array.isArray(e)?e:Array.of(e)}function en(e,t,n,r){var i,a=lr(e),o=function(u){var s=aa(u,t,n,r);if(s&&s.length!==0)return s},c=a.map(o);return(i=[]).concat.apply(i,c.filter(function(u){return u!=null&&u.filter(Boolean)}))}function aa(e,t,n,r){if(Xe(e))return[e];if(gt(e)){var i=ia(e,t,n,r);if(Xe(i))return[i];if(Array.isArray(i))return i}}function oa(e,t,n,r){if(sr(e)){var i=e[0],a=!1;try{var o={event:t.getPayload(),eventType:n,eventSchema:r};a=i(o)}catch{a=!1}if(a===!0)return en(e[1],t,n,r)}else if(cr(e)&&ea(e[0],r))return en(e[1],t,n,r);return[]}function yt(e,t){return typeof e=="function"?e===t:JSON.stringify(e)===JSON.stringify(t)}function fr(e,t){if(pt(e)){if(!pt(t))return!1;var n=e[0],r=e[1],i=t[0],a=t[1];return yt(n,i)?Array.isArray(r)?!Array.isArray(a)||r.length!==a.length?!1:r.reduce(function(o,c,u){return o&&yt(c,a[u])},!0):Array.isArray(a)?!1:yt(r,a):!1}else if(ue(e))return ue(t)?yt(e,t):!1;return!1}function sa(e,t,n,r){var i,a=lr(e),o=function(u){var s=oa(u,t,n,r);if(s&&s.length!==0)return s},c=a.map(o);return(i=[]).concat.apply(i,c.filter(function(u){return u!=null&&u.filter(Boolean)}))}function ca(e){return e==null?{type:"dtm",value:new Date().getTime()}:typeof e=="number"?{type:"dtm",value:e}:e.type==="ttm"?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||new Date().getTime()}}function ua(e){e===void 0&&(e={});function t(u,s,f){var v=Wi(s),h=qi(),w=u,I={};function d(m){if(m&&m.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:m}}function p(m,T){var C=h.getApplicableContexts(m),O=[];return T&&T.length&&O.push.apply(O,T),C&&C.length&&O.push.apply(O,C),O}function _(m,T,C){m.withJsonProcessor(Gi(w)),m.add("eid",re.v4()),m.addDict(I);var O=ca(C);m.add(O.type,O.value.toString());var j=p(m,v.addPluginContexts(T)),G=d(j);G!==void 0&&m.addJson("cx","co",G),s.forEach(function(B){try{B.beforeTrack&&B.beforeTrack(m)}catch(L){ne.error("Plugin beforeTrack",L)}}),typeof f=="function"&&f(m);var X=m.build();return s.forEach(function(B){try{B.afterTrack&&B.afterTrack(X)}catch(L){ne.error("Plugin afterTrack",L)}}),X}function E(m,T){I[m]=T}var S={track:_,addPayloadPair:E,getBase64Encoding:function(){return w},setBase64Encoding:function(m){w=m},addPayloadDict:function(m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(I[T]=m[T])},resetPayloadPairs:function(m){I=rr(m)?m:{}},setTrackerVersion:function(m){E("tv",m)},setTrackerNamespace:function(m){E("tna",m)},setAppId:function(m){E("aid",m)},setPlatform:function(m){E("p",m)},setUserId:function(m){E("uid",m)},setScreenResolution:function(m,T){E("res",m+"x"+T)},setViewport:function(m,T){E("vp",m+"x"+T)},setColorDepth:function(m){E("cd",m)},setTimezone:function(m){E("tz",m)},setLang:function(m){E("lang",m)},setIpAddress:function(m){E("ip",m)},setUseragent:function(m){E("ua",m)},addGlobalContexts:function(m){h.addGlobalContexts(m)},clearGlobalContexts:function(){h.clearGlobalContexts()},removeGlobalContexts:function(m){h.removeGlobalContexts(m)}};return S}var n=e.base64,r=e.corePlugins,i=e.callback,a=r??[],o=t(n??!0,a,i),c=z(z({},o),{addPlugin:function(u){var s,f,v=u.plugin;a.push(v),(s=v.logger)===null||s===void 0||s.call(v,ne),(f=v.activateCorePlugin)===null||f===void 0||f.call(v,c)}});return a==null||a.forEach(function(u){var s,f;(s=u.logger)===null||s===void 0||s.call(u,ne),(f=u.activateCorePlugin)===null||f===void 0||f.call(u,c)}),c}function la(e){var t=e.event,n=t.schema,r=t.data,i=Qt(),a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return i.add("e","ue"),i.addJson("ue_px","ue_pr",a),i}function fa(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,i=Qt();return i.add("e","pv"),i.add("url",t),i.add("page",n),i.add("refr",r),i}function da(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,i=e.minXOffset,a=e.maxXOffset,o=e.minYOffset,c=e.maxYOffset,u=Qt();return u.add("e","pp"),u.add("url",t),u.add("page",n),u.add("refr",r),i&&!isNaN(Number(i))&&u.add("pp_mix",i.toString()),a&&!isNaN(Number(a))&&u.add("pp_max",a.toString()),o&&!isNaN(Number(o))&&u.add("pp_miy",o.toString()),c&&!isNaN(Number(c))&&u.add("pp_may",c.toString()),u}var va=Hi,dr={exports:{}},vr={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],i=0,a=0;i<n.length;i++,a+=8)r[a>>>5]|=n[i]<<24-a%32;return r},wordsToBytes:function(n){for(var r=[],i=0;i<n.length*32;i+=8)r.push(n[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(n){for(var r=[],i=0;i<n.length;i++)r.push((n[i]>>>4).toString(16)),r.push((n[i]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],i=0;i<n.length;i+=2)r.push(parseInt(n.substr(i,2),16));return r},bytesToBase64:function(n){for(var r=[],i=0;i<n.length;i+=3)for(var a=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?r.push(e.charAt(a>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,a=0;i<n.length;a=++i%4)a!=0&&r.push((e.indexOf(n.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<a*2|e.indexOf(n.charAt(i))>>>6-a*2);return r}};vr.exports=t})();var ha=vr.exports,tn={utf8:{stringToBytes:function(e){return tn.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(tn.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},hr=tn;(function(){var e=ha,t=hr.utf8,n=hr.bin,r=function(a){a.constructor==String?a=t.stringToBytes(a):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString());var o=e.bytesToWords(a),c=a.length*8,u=[],s=1732584193,f=-271733879,v=-1732584194,h=271733878,w=-1009589776;o[c>>5]|=128<<24-c%32,o[(c+64>>>9<<4)+15]=c;for(var I=0;I<o.length;I+=16){for(var d=s,p=f,_=v,E=h,S=w,m=0;m<80;m++){if(m<16)u[m]=o[I+m];else{var T=u[m-3]^u[m-8]^u[m-14]^u[m-16];u[m]=T<<1|T>>>31}var C=(s<<5|s>>>27)+w+(u[m]>>>0)+(m<20?(f&v|~f&h)+1518500249:m<40?(f^v^h)+1859775393:m<60?(f&v|f&h|v&h)-1894007588:(f^v^h)-899497514);w=h,h=v,v=f<<30|f>>>2,f=s,s=C}s+=d,f+=p,v+=_,h+=E,w+=S}return[s,f,v,h,w]},i=function(a,o){var c=e.wordsToBytes(r(a));return o&&o.asBytes?c:o&&o.asString?n.bytesToString(c):e.bytesToHex(c)};i._blocksize=16,i._digestsize=20,dr.exports=i})();var ma=dr.exports;const ga=Jn(ma);/*!
 * Core functionality for Snowplow Browser trackers v3.24.6 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function pa(e){try{var t=window.localStorage,n=t.getItem(e+".expires");if(n===null||+n>Date.now())return t.getItem(e);t.removeItem(e),t.removeItem(e+".expires");return}catch{return}}function At(e,t,n){n===void 0&&(n=63072e3);try{var r=window.localStorage,i=Date.now()+n*1e3;return r.setItem("".concat(e,".expires"),i.toString()),r.setItem(e,t),!0}catch{return!1}}function mr(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch{return!1}}function gr(e){try{return window.sessionStorage.getItem(e)}catch{return}}function wa(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch{return!1}}var ya={sessionId:!0,sourceId:!0,sourcePlatform:!1,userId:!1,reason:!1};function Aa(e,t,n){var r,i,a=new Date().getTime(),o=z(z({},ya),t),c=n.domainUserId,u=n.userId,s=n.sessionId,f=n.sourceId,v=n.sourcePlatform,h=n.event,w=h.currentTarget,I=typeof o.reason=="function"?o.reason(h):(r=w==null?void 0:w.textContent)===null||r===void 0?void 0:r.trim();return e?i=[c,a,o.sessionId&&s,o.userId&&nn(u||""),o.sourceId&&nn(f||""),o.sourcePlatform&&v,o.reason&&nn(I||"")].map(function(d){return d||""}).join(".").replace(/([.]*$)/,""):i=n.domainUserId+"."+a,i}function nn(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function pr(e){return!!(e&&typeof e.valueOf()=="string")}function wr(e){return Number.isInteger&&Number.isInteger(e)||typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function yr(e){if(!pr(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&t[0]!=null&&(e=t[0].text)}return e}function rn(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e}function Ar(e){var t=e.length;return e.charAt(--t)==="."&&(e=e.slice(0,t)),e.slice(0,2)==="*."&&(e=e.slice(1)),e}function an(e){var t=window,n=Ke("referrer",t.location.href)||Ke("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch{}return document.referrer}function Ne(e,t,n,r){if(e.addEventListener)return e.addEventListener(t,n,r),!0;if(e.attachEvent)return e.attachEvent("on"+t,n);e["on"+t]=n}function Ke(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Ea(e,t,n){var r=t+"="+n,i=e.split("#"),a=i[0].split("?"),o=a.shift(),c=a.join("?");if(!c)c=r;else{for(var u=!0,s=c.split("&"),f=0;f<s.length;f++)if(s[f].substr(0,t.length+1)===t+"="){u=!1,s[f]=r,c=s.join("&");break}u&&(c=r+"&"+c)}return i[0]=o+"?"+c,i.join("#")}function Ia(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",i=r+new Date().getTime(),a="_test_value_"+new Date().getTime(),o=n.split("."),c=o.length-2;c>=0;c--){var u=o.slice(c).join(".");if(Ee(i,a,0,"/",u,e,t),Ee(i)===a){Et(i,u,e,t);for(var s=Ta(r),f=0;f<s.length;f++)Et(s[f],u,e,t);return u}}return n}function Et(e,t,n,r){Ee(e,"",-1,"/",t,n,r)}function Ta(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function Ee(e,t,n,r,i,a,o){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(t??"")+(n?"; Expires="+new Date(+new Date+n*1e3).toUTCString():"")+(r?"; Path="+r:"")+(i?"; Domain="+i:"")+(a?"; SameSite="+a:"")+(o?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Sa(){try{return!!window.localStorage}catch{return!0}}function xa(){var e="modernizr";if(!Sa())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch{return!1}}var Ca="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",_a="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",ka="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",ba="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function Pa(e,t,n,r,i,a,o,c,u,s,f,v,h,w,I,d,p,_,E,S){_===void 0&&(_=!0);var m=!1,T,C=[],O=!1;r=typeof r=="string"?r.toLowerCase():r;var j=r===!0||r==="beacon"||r==="true",G=!!(j&&window.navigator&&typeof window.navigator.sendBeacon=="function"&&!Dt(window.navigator.userAgent)),X=G&&j,B=r==="get",L=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),M=!B&&L&&(r==="post"||j),Le=M?i:"/i",de="snowplowOutQueue_".concat(e,"_").concat(M?"post2":"get");if(j&&(h={}),a=n&&xa()&&M&&a||1,n)try{var Me=window.localStorage.getItem(de);C=Me?JSON.parse(Me):[]}catch{}Array.isArray(C)||(C=[]),t.outQueues.push(C),L&&a>1&&t.bufferFlushers.push(function(y){m||K(y)});function at(y){var b="?",k={co:!0,cx:!0},x=!0;for(var D in y)y.hasOwnProperty(D)&&!k.hasOwnProperty(D)&&(x?x=!1:b+="&",b+=encodeURIComponent(D)+"="+encodeURIComponent(y[D]));for(var P in k)y.hasOwnProperty(P)&&k.hasOwnProperty(P)&&(b+="&"+P+"="+encodeURIComponent(y[P]));return b}function Ue(y){var b=Object.keys(y).map(function(k){return[k,y[k]]}).reduce(function(k,x){var D=x[0],P=x[1];return k[D]=P.toString(),k},{});return{evt:b,bytes:Ve(JSON.stringify(b))}}function Ve(y){for(var b=0,k=0;k<y.length;k++){var x=y.charCodeAt(k);x<=127?b+=1:x<=2047?b+=2:x>=55296&&x<=57343?(b+=4,k++):x<65535?b+=3:b+=4}return b}var ke=function(y){return typeof y[0]=="object"&&"evt"in y[0]};function Be(y,b){var k=he(b,!0,!1),x=je([y.evt]);k.onreadystatechange=function(){k.readyState===4&&(be(k.status)?E==null||E(x):S==null||S({status:k.status,message:k.statusText,events:x,willRetry:!1}))},k.send(He(x))}function ve(y){for(var b=0;b<y;b++)C.shift();n&&At(de,JSON.stringify(C.slice(0,s)))}function $e(y,b,k){y.onreadystatechange=function(){if(y.readyState===4)if(clearTimeout(x),be(y.status))ve(b),E==null||E(k),K();else{var D=st(y.status);D||(ne.error("Status ".concat(y.status,", will not retry.")),ve(b)),S==null||S({status:y.status,message:y.statusText,events:k,willRetry:D}),m=!1}};var x=setTimeout(function(){y.abort(),_||ve(b),S==null||S({status:0,message:"timeout",events:k,willRetry:_}),m=!1},f)}function ot(y,b){T=b+Le;var k=function(me,Pe){return ne.warn("Event ("+me+"B) too big, max is "+Pe)};if(M){var x=Ue(y);if(x.bytes>=o){k(x.bytes,o),Be(x,T);return}else C.push(x)}else{var D=at(y);if(c>0){var P=Fe(D),q=Ve(P);if(q>=c){if(k(q,c),L){var x=Ue(y),N=b+i;Be(x,N)}return}}C.push(D)}var H=!1;n&&(H=At(de,JSON.stringify(C.slice(0,s)))),!m&&(!H||C.length>=a)&&K()}function K(y){for(y===void 0&&(y=!1);C.length&&typeof C[0]!="string"&&typeof C[0]!="object";)C.shift();if(!C.length){m=!1;return}if(!pr(T))throw"No collector configured";if(m=!0,p&&!O){var b=he(p,!1,y);O=!0,b.timeout=f,b.onreadystatechange=function(){b.readyState===4&&K()},b.send();return}if(L){var k=function(pe){for(var Q=0,se=0;Q<pe.length&&(se+=pe[Q].bytes,!(se>=o));)Q+=1;return Q},x=void 0,D=void 0,P=void 0;if(ke(C)?(x=T,D=he(x,!0,y),P=k(C)):(x=Fe(C[0]),D=he(x,!1,y),P=1),!ke(C))$e(D,P,[x]),D.send();else{var q=C.slice(0,P);if(q.length>0){var N=!1,H=q.map(function(pe){return pe.evt});if(X){var me=new Blob([He(je(H))],{type:"application/json"});try{N=window.navigator.sendBeacon(x,me)}catch{N=!1}}if(N===!0)ve(P),E==null||E(q),K();else{var Pe=je(H);$e(D,P,Pe),D.send(He(Pe))}}}}else if(!v&&!ke(C)){var Re=new Image(1,1),ge=!0;Re.onload=function(){ge&&(ge=!1,C.shift(),n&&At(de,JSON.stringify(C.slice(0,s))),K())},Re.onerror=function(){ge&&(ge=!1,m=!1)},Re.src=Fe(C[0]),setTimeout(function(){ge&&m&&(ge=!1,K())},f)}else m=!1}function be(y){return y>=200&&y<300}function st(y){return be(y)||!_?!1:I.includes(y)?!0:!d.includes(y)}function he(y,b,k){var x=new XMLHttpRequest;b?(x.open("POST",y,!k),x.setRequestHeader("Content-Type","application/json; charset=UTF-8")):x.open("GET",y,!k),x.withCredentials=w,v&&x.setRequestHeader("SP-Anonymous","*");for(var D in h)Object.prototype.hasOwnProperty.call(h,D)&&x.setRequestHeader(D,h[D]);return x}function He(y){return JSON.stringify({schema:ba,data:y})}function je(y){for(var b=new Date().getTime().toString(),k=0;k<y.length;k++)y[k].stm=b;return y}function Fe(y){return u?T+y.replace("?","?stm="+new Date().getTime()+"&"):T+y}return{enqueueRequest:ot,executeQueue:function(){m||K()},setUseLocalStorage:function(y){n=y},setAnonymousTracking:function(y){v=y},setCollectorUrl:function(y){T=y+Le},setBufferSize:function(y){a=y}};function Dt(y){return b(13,y)||k(10,15,y)&&x(y);function b(P,q){var N=q.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return N&&N.length?parseInt(N[0])<=P:!1}function k(P,q,N){var H=N.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return H&&H.length?parseInt(H[0])<=P||parseInt(H[0])===P&&parseInt(H[1])<=q:!1}function x(P){return P.match("Version/.* Safari/")&&!D(P)}function D(P){return P.match("Chrom(e|ium)")}}}function Ra(e,t){var n=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)"),r=n.exec(e);return r&&(r==null?void 0:r.length)>1?Ke(t,r[1]):null}function Er(e,t,n){var r;return e==="translate.googleusercontent.com"?(n===""&&(n=t),t=(r=Ra(t,"u"))!==null&&r!==void 0?r:"",e=rn(t)):(e==="cc.bingj.com"||e==="webcache.googleusercontent.com")&&(t=document.links[0].href,e=rn(t)),[e,t,n]}var Ir=0,le=1,Oa=2,Qe=3,on=4,Tr=5,fe=6,Ie=7,Te=8,Se=9,ae=10;function Da(){var e=["1","",0,0,0,void 0,"","","",void 0,0];return e}function Na(e,t,n,r){var i=new Date,a=Math.round(i.getTime()/1e3),o;e?(o=e.split("."),o.unshift("0")):o=["1",t,a,r,a,"",n],(!o[fe]||o[fe]==="undefined")&&(o[fe]=re.v4()),(!o[Ie]||o[Ie]==="undefined")&&(o[Ie]=""),(!o[Te]||o[Te]==="undefined")&&(o[Te]=""),(!o[Se]||o[Se]==="undefined")&&(o[Se]=""),(!o[ae]||o[ae]==="undefined")&&(o[ae]=0);var c=function(f,v){var h=parseInt(f);return isNaN(h)?v:h},u=function(f){return f?c(f,void 0):void 0},s=[o[Ir],o[le],c(o[Oa],a),c(o[Qe],r),c(o[on],a),u(o[Tr]),o[fe],o[Ie],o[Te],u(o[Se]),c(o[ae],0)];return s}function La(e,t){var n;return e[le]?n=e[le]:t?(n="",e[le]=n):(n=re.v4(),e[le]=n),n}function Ze(e,t){t===void 0&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;ln(e)?(e[Ie]=e[fe],e[Tr]=e[on],e[Qe]++):e[Qe]=n;var r=re.v4();return e[fe]=r,e[ae]=0,e[Te]="",e[Se]=void 0,r}function sn(e){e[on]=Math.round(new Date().getTime()/1e3)}function Ma(e,t){if(e[ae]===0){var n=t.build();e[Te]=n.eid;var r=n.dtm||n.ttm;e[Se]=r?parseInt(r):void 0}}function Ua(e){e[ae]+=1}function Va(e,t){var n=F([],e,!0);return t&&(n[le]="",n[Ie]=""),n.shift(),n.join(".")}function Sr(e,t,n){var r=e[Se],i={userId:n?"00000000-0000-0000-0000-000000000000":e[le],sessionId:e[fe],eventIndex:e[ae],sessionIndex:e[Qe],previousSessionId:n?null:e[Ie]||null,storageMechanism:t=="localStorage"?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[Te]||null,firstEventTimestamp:r?new Date(r).toISOString():null};return i}function cn(e){return e[fe]}function Ba(e){return e[le]}function un(e){return e[Qe]}function ln(e){return e[Ir]==="0"}function $a(e){return e[ae]}function Ha(){return"ResizeObserver"in window}var xr=!1;function ja(){if(!xr&&!(!document||!document.body||!document.documentElement)){xr=!0;var e=new ResizeObserver(function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];(i.target===document.body||i.target===document.documentElement)&&(It=dn())}});e.observe(document.body),e.observe(document.documentElement)}}var It,et="x";function fn(){return Ha()?(It||(It=dn()),ja(),It):dn()}function dn(){return{viewport:vn(Fa()),documentSize:vn(Ya()),resolution:vn(za()),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:window.navigator.language||window.navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency}}function Fa(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return Math.max(0,e)+et+Math.max(0,t)}function Ya(){var e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),i=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n);return isNaN(r)||isNaN(i)?"":r+et+i}function za(){return screen.width+et+screen.height}function vn(e){return e&&e.split(et).map(function(t){return Math.floor(Number(t))}).join(et)}function Ga(e,t,n,r,i,a){a===void 0&&(a={});var o=[],c=function(f,v,h,w,I,d){var p,_,E,S,m,T,C,O,j,G,X,B,L,M,Le,de,Me,at,Ue,Ve,ke,Be,ve,$e,ot,K,be,st,he;d.eventMethod=(p=d.eventMethod)!==null&&p!==void 0?p:"post";var He=function(l){var g;return(g=l.stateStorageStrategy)!==null&&g!==void 0?g:"cookieAndLocalStorage"},je=function(l){var g,A;return typeof l.anonymousTracking=="boolean"?!1:(A=((g=l.anonymousTracking)===null||g===void 0?void 0:g.withSessionTracking)===!0)!==null&&A!==void 0?A:!1},Fe=function(l){var g,A;return typeof l.anonymousTracking=="boolean"?!1:(A=((g=l.anonymousTracking)===null||g===void 0?void 0:g.withServerAnonymisation)===!0)!==null&&A!==void 0?A:!1},Dt=function(l){return!!l.anonymousTracking},y=(E=(_=d==null?void 0:d.contexts)===null||_===void 0?void 0:_.browser)!==null&&E!==void 0?E:!1,b=(m=(S=d==null?void 0:d.contexts)===null||S===void 0?void 0:S.webPage)!==null&&m!==void 0?m:!0,k=function(l){return typeof l=="boolean"?{useExtendedCrossDomainLinker:l}:{useExtendedCrossDomainLinker:!0,collectCrossDomainAttributes:l}};o.push(vc()),b&&o.push(fc()),y&&o.push(dc()),o.push.apply(o,(T=d.plugins)!==null&&T!==void 0?T:[]);var x=ua({base64:d.encodeBase64,corePlugins:o,callback:sc}),D=document.characterSet||document.charset,P=Er(window.location.hostname,window.location.href,an()),q=Ar(P[0]),N=P[1],H=P[2],me,Pe=(C=d.platform)!==null&&C!==void 0?C:"web",Re=Ti(w),ge=(O=d.postPath)!==null&&O!==void 0?O:"/com.snowplowanalytics.snowplow/tp2",pe=(j=d.appId)!==null&&j!==void 0?j:"",Q,se=document.title,Ye,On=!1,Xs=(G=d.resetActivityTrackingOnPageView)!==null&&G!==void 0?G:!0,oi,si,Ks=(X=d.cookieName)!==null&&X!==void 0?X:"_sp_",ct=(B=d.cookieDomain)!==null&&B!==void 0?B:void 0,Dn="/",Nt=(L=d.cookieSameSite)!==null&&L!==void 0?L:"None",Lt=(M=d.cookieSecure)!==null&&M!==void 0?M:!0,ci=window.navigator.doNotTrack||window.navigator.msDoNotTrack||window.doNotTrack,ui=typeof d.respectDoNotTrack<"u"?d.respectDoNotTrack&&(ci==="yes"||ci==="1"):!1,Nn,li=(Le=d.cookieLifetime)!==null&&Le!==void 0?Le:63072e3,fi=(de=d.sessionCookieTimeout)!==null&&de!==void 0?de:1800,ze=je(d),Ln=Fe(d),ee=Dt(d),U=He(d),Mt,Mn=new Date().getTime(),Ut,Vt,Bt,$t,di,Ht,Z,te=1,we,ye=Pa(f,I,U=="localStorage"||U=="cookieAndLocalStorage",d.eventMethod,ge,(Me=d.bufferSize)!==null&&Me!==void 0?Me:1,(at=d.maxPostBytes)!==null&&at!==void 0?at:4e4,(Ue=d.maxGetBytes)!==null&&Ue!==void 0?Ue:0,(Ve=d.useStm)!==null&&Ve!==void 0?Ve:!0,(ke=d.maxLocalStorageQueueSize)!==null&&ke!==void 0?ke:1e3,(Be=d.connectionTimeout)!==null&&Be!==void 0?Be:5e3,Ln,(ve=d.customHeaders)!==null&&ve!==void 0?ve:{},($e=d.withCredentials)!==null&&$e!==void 0?$e:!0,(ot=d.retryStatusCodes)!==null&&ot!==void 0?ot:[],((K=d.dontRetryStatusCodes)!==null&&K!==void 0?K:[]).concat([400,401,403,410,422]),d.idService,d.retryFailedRequests,d.onRequestSuccess,d.onRequestFailure),Un=!1,Ge=(be=d.preservePageViewIdForUrl)!==null&&be!==void 0?be:!1,Vn=void 0,J={enabled:!1,installed:!1,configurations:{}},Qs=(he=(st=d.contexts)===null||st===void 0?void 0:st.session)!==null&&he!==void 0?he:!1,jt,Ft=d.onSessionUpdateCallback,Bn=!1,vi=k(d.useExtendedCrossDomainLinker||!1),Zs=vi.useExtendedCrossDomainLinker,ec=vi.collectCrossDomainAttributes;d.hasOwnProperty("discoverRootDomain")&&d.discoverRootDomain&&(ct=Ia(Nt,Lt));var Yt=fn(),tc=Yt.browserLanguage,nc=Yt.resolution,rc=Yt.colorDepth,ic=Yt.cookiesEnabled;x.setTrackerVersion(h),x.setTrackerNamespace(v),x.setAppId(pe),x.setPlatform(Pe),x.addPayloadPair("cookie",ic?"1":"0"),x.addPayloadPair("cs",D),x.addPayloadPair("lang",tc),x.addPayloadPair("res",nc),x.addPayloadPair("cd",rc),gi(),Ii(),d.crossDomainLinker&&hi(d.crossDomainLinker);function Oe(){P=Er(window.location.hostname,window.location.href,an()),P[1]!==N&&(H=an(N)),q=Ar(P[0]),N=P[1]}function ac(l){var g="_sp";return function(A){var R=A.currentTarget,V=Aa(l,ec,{domainUserId:Ht,userId:we||void 0,sessionId:Z,sourceId:pe,sourcePlatform:Pe,event:A});R!=null&&R.href&&(R.href=Ea(R.href,g,V))}}function hi(l){for(var g=ac(Zs),A=0;A<document.links.length;A++){var R=document.links[A];!R.spDecorationEnabled&&l(R)&&(R.addEventListener("click",g,!0),R.addEventListener("mousedown",g,!0),R.spDecorationEnabled=!0)}}function De(l){var g;return oi&&(g=new RegExp("#.*"),l=l.replace(g,"")),si&&(g=new RegExp("[{}]","g"),l=l.replace(g,"")),l}function mi(l){var g=new RegExp("^([a-z]+):"),A=g.exec(l);return A?A[1]:null}function oc(l,g){var A=mi(g),R;return A?g:g.slice(0,1)==="/"?mi(l)+"://"+rn(l)+g:(l=De(l),(R=l.indexOf("?"))>=0&&(l=l.slice(0,R)),(R=l.lastIndexOf("/"))!==l.length-1&&(l=l.slice(0,R+1)),l+g)}function sc(l){ui||jt||ye.enqueueRequest(l.build(),Re)}function Je(l){return Ks+l+"."+di}function $n(l){var g=Je(l);if(U=="localStorage")return pa(g);if(U=="cookie"||U=="cookieAndLocalStorage")return Ee(g)}function gi(){Oe(),di=ga((ct||q)+(Dn||"/")).slice(0,4)}function ut(){var l=new Date;Mt=l.getTime()}function cc(){uc(),ut()}function pi(){var l=document.documentElement;return l?[l.scrollLeft||window.pageXOffset,l.scrollTop||window.pageYOffset]:[0,0]}function wi(){var l=pi(),g=l[0];Ut=g,Vt=g;var A=l[1];Bt=A,$t=A}function uc(){var l=pi(),g=l[0];g<Ut?Ut=g:g>Vt&&(Vt=g);var A=l[1];A<Bt?Bt=A:A>$t&&($t=A)}function zt(l){return Math.round(l)}function Hn(){var l=Je("ses"),g="*";return yi(l,g,fi)}function jn(l){var g=Je("id"),A=Va(l,ee);return yi(g,A,li)}function yi(l,g,A){return ee&&!ze?!1:U=="localStorage"?At(l,g,A):U=="cookie"||U=="cookieAndLocalStorage"?(Ee(l,g,A,Dn,ct,Nt,Lt),document.cookie.indexOf("".concat(l,"="))!==-1):!1}function Ai(l){var g=Je("id"),A=Je("ses");mr(g),mr(A),Et(g,ct,Nt,Lt),Et(A,ct,Nt,Lt),l!=null&&l.preserveSession||(Z=re.v4(),te=1),l!=null&&l.preserveUser||(Ht=ee?"":re.v4(),we=null)}function Ei(l){l&&l.stateStorageStrategy&&(d.stateStorageStrategy=l.stateStorageStrategy,U=He(d)),ee=Dt(d),ze=je(d),Ln=Fe(d),ye.setUseLocalStorage(U=="localStorage"||U=="cookieAndLocalStorage"),ye.setAnonymousTracking(Ln)}function Ii(){if(!(ee&&!ze)){var l=U!="none"&&!!$n("ses"),g=lt();Ht=La(g,ee),l?Z=cn(g):Z=Ze(g),te=un(g),U!="none"&&(Hn(),sn(g),jn(g))}}function lt(){if(U=="none")return Da();var l=$n("id")||void 0;return Na(l,Ht,Z,te)}function Ti(l){return l.indexOf("http")===0?l:(document.location.protocol==="https:"?"https":"http")+"://"+l}function Si(){(!Un||I.pageViewId==null)&&(I.pageViewId=re.v4(),I.pageViewUrl=Q||N)}function ft(){return lc()&&(I.pageViewId=re.v4(),I.pageViewUrl=Q||N),I.pageViewId}function lc(){if(I.pageViewId==null)return!0;if(Un||!Ge)return!1;if(I.pageViewUrl===void 0)return!0;var l=Q||N;if(Ge===!0||Ge=="full"||!("URL"in window))return I.pageViewUrl!=l;var g=new URL(l),A=new URL(I.pageViewUrl);return Ge=="pathname"?g.pathname!=A.pathname:Ge=="pathnameAndSearch"?g.pathname!=A.pathname||g.search!=A.search:!1}function xi(){if(U==="none"||ee||!b)return null;var l="_sp_tab_id",g=gr(l);return g||(wa(l,re.v4()),g=gr(l)),g||null}function fc(){return{contexts:function(){return[{schema:Ca,data:{id:ft()}}]}}}function dc(){return{contexts:function(){return[{schema:_a,data:z(z({},fn()),{tabId:xi()})}]}}}function vc(){var l=function(A){return ee?null:A},g=function(A){return ze?A:l(A)};return{beforeTrack:function(A){var R=$n("ses"),V=lt(),Ae=$a(V)===0;if(Nn?jt=!!Ee(Nn):jt=!1,ui||jt){Ai();return}ln(V)?(!R&&U!="none"?Z=Ze(V):Z=cn(V),te=un(V)):new Date().getTime()-Mn>fi*1e3&&(te++,Z=Ze(V,{memorizedVisitCount:te})),sn(V),Ma(V,A),Ua(V);var W=fn(),qe=W.viewport,dt=W.documentSize;A.add("vp",qe),A.add("ds",dt),A.add("vid",g(te)),A.add("sid",g(Z)),A.add("duid",l(Ba(V))),A.add("uid",l(we)),Oe(),A.add("refr",De(me||H)),A.add("url",De(Q||N));var vt=Sr(V,U,ee);if(Qs&&(!ee||ze)&&hc(A,vt),U!="none"){jn(V);var Yn=Hn();(!R||Ae)&&Yn&&Ft&&!Bn&&(Ft(vt),Bn=!1)}Mn=new Date().getTime()}}}function hc(l,g){var A={schema:ka,data:g};l.addContextEntity(A)}function mc(){var l=lt();if(ln(l)?(U!="none"?Z=Ze(l):Z=cn(l),te=un(l)):(te++,Z=Ze(l,{memorizedVisitCount:te})),sn(l),U!="none"){var g=Sr(l,U,ee);jn(l);var A=Hn();A&&Ft&&(Bn=!0,Ft(g))}Mn=new Date().getTime()}function Fn(l,g){return(l||[]).concat(g?g():[])}function gc(l){var g=l.title,A=l.context,R=l.timestamp,V=l.contextCallback;Oe(),Vn&&Vn==ft()&&Si(),Vn=ft(),se=document.title,g?(Ye=g,On=!0):On&&(Ye=null);var Ae=yr(Ye||se);x.track(fa({pageUrl:De(Q||N),pageTitle:Ae,referrer:De(me||H)}),Fn(A,V),R);var W=new Date,qe=!1;if(J.enabled&&!J.installed){J.installed=!0,qe=!0;var dt={update:function(){if(typeof window<"u"&&typeof window.addEventListener=="function"){var We=!1,Gt=Object.defineProperty({},"passive",{get:function(){We=!0},set:function(){}}),bi=function(){};window.addEventListener("testPassiveEventSupport",bi,Gt),window.removeEventListener("testPassiveEventSupport",bi,Gt),dt.hasSupport=We}}};dt.update();var vt="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(dt,"hasSupport")?Ne(document,vt,ut,{passive:!0}):Ne(document,vt,ut),wi();var Yn=["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"],Ac=["resize","focus","blur"],zn=function(Ec,We){return We===void 0&&(We=ut),function(Gt){return Ne(document,Gt,We)}};Yn.forEach(zn(document)),Ac.forEach(zn(window)),zn(window,cc)("scroll")}if(J.enabled&&(Xs||qe)){Mt=W.getTime();var ki=void 0;for(ki in J.configurations){var Gn=J.configurations[ki];Gn&&(window.clearInterval(Gn.activityInterval),pc(Gn,A,V))}}}function pc(l,g,A){var R=function(W,qe){Oe(),W({context:qe,pageViewId:ft(),minXOffset:Ut,minYOffset:Bt,maxXOffset:Vt,maxYOffset:$t}),wi()},V=function(){var W=new Date;Mt+l.configMinimumVisitLength>W.getTime()&&R(l.callback,Fn(g,A)),l.activityInterval=window.setInterval(Ae,l.configHeartBeatTimer)},Ae=function(){var W=new Date;Mt+l.configHeartBeatTimer>W.getTime()&&R(l.callback,Fn(g,A))};l.configMinimumVisitLength===0?l.activityInterval=window.setInterval(Ae,l.configHeartBeatTimer):l.activityInterval=window.setTimeout(V,l.configMinimumVisitLength)}function Ci(l){var g=l.minimumVisitLength,A=l.heartbeatDelay,R=l.callback;if(wr(g)&&wr(A))return{configMinimumVisitLength:g*1e3,configHeartBeatTimer:A*1e3,callback:R};ne.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function wc(l){var g=l.context,A=l.minXOffset,R=l.minYOffset,V=l.maxXOffset,Ae=l.maxYOffset,W=document.title;W!==se&&(se=W,Ye=void 0),x.track(da({pageUrl:De(Q||N),pageTitle:yr(Ye||se),referrer:De(me||H),minXOffset:zt(A),maxXOffset:zt(V),minYOffset:zt(R),maxYOffset:zt(Ae)}),g)}function _i(l){var g=J.configurations[l];(g==null?void 0:g.configMinimumVisitLength)===0?window.clearTimeout(g==null?void 0:g.activityInterval):window.clearInterval(g==null?void 0:g.activityInterval),J.configurations[l]=void 0}var yc={getDomainSessionIndex:function(){return te},getPageViewId:ft,getTabId:xi,newSession:mc,getCookieName:function(l){return Je(l)},getUserId:function(){return we},getDomainUserId:function(){return lt()[1]},getDomainUserInfo:function(){return lt()},setReferrerUrl:function(l){me=l},setCustomUrl:function(l){Oe(),Q=oc(N,l)},setDocumentTitle:function(l){se=document.title,Ye=l,On=!1},discardHashTag:function(l){oi=l},discardBrace:function(l){si=l},setCookiePath:function(l){Dn=l,gi()},setVisitorCookieTimeout:function(l){li=l},crossDomainLinker:function(l){hi(l)},enableActivityTracking:function(l){J.configurations.pagePing||(J.enabled=!0,J.configurations.pagePing=Ci(z(z({},l),{callback:wc})))},enableActivityTrackingCallback:function(l){J.configurations.callback||(J.enabled=!0,J.configurations.callback=Ci(l))},disableActivityTracking:function(){_i("pagePing")},disableActivityTrackingCallback:function(){_i("callback")},updatePageActivity:function(){ut()},setOptOutCookie:function(l){Nn=l},setUserId:function(l){we=l},setUserIdFromLocation:function(l){Oe(),we=Ke(l,N)},setUserIdFromReferrer:function(l){Oe(),we=Ke(l,H)},setUserIdFromCookie:function(l){we=Ee(l)},setCollectorUrl:function(l){Re=Ti(l),ye.setCollectorUrl(Re)},setBufferSize:function(l){ye.setBufferSize(l)},flushBuffer:function(l){l===void 0&&(l={}),ye.executeQueue(),l.newBufferSize&&ye.setBufferSize(l.newBufferSize)},trackPageView:function(l){l===void 0&&(l={}),gc(l)},preservePageViewId:function(){Un=!0},preservePageViewIdForUrl:function(l){Ge=l},disableAnonymousTracking:function(l){d.anonymousTracking=!1,Ei(l),Ii(),ye.executeQueue()},enableAnonymousTracking:function(l){var g;d.anonymousTracking=(g=l&&(l==null?void 0:l.options))!==null&&g!==void 0?g:!0,Ei(l),ze||Si()},clearUserData:Ai};return z(z({},yc),{id:f,namespace:v,core:x,sharedState:I})},u=c(e,t,n,r,i,a),s=z(z({},u),{addPlugin:function(f){var v,h;s.core.addPlugin(f),(h=(v=f.plugin).activateBrowserPlugin)===null||h===void 0||h.call(v,s)}});return o.forEach(function(f){var v;(v=f.activateBrowserPlugin)===null||v===void 0||v.call(f,s)}),s}var tt={};function Cr(e,t){try{qa(e??Wa()).forEach(t)}catch(n){ne.error("Function failed",n)}}function Ja(e,t,n,r,i,a){return tt.hasOwnProperty(e)?null:(tt[e]=Ga(e,t,n,r,i,a),tt[e])}function qa(e){return Xa(e,tt)}function Wa(){return Object.keys(tt)}function Xa(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];t.hasOwnProperty(a)?n.push(t[a]):ne.warn(a+" not configured")}return n}var Ka=function(){function e(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]}return e}();function Qa(){var e=new Ka,t=document,n=window;function r(){t.visibilityState=="hidden"&&e.bufferFlushers.forEach(function(c){c(!1)})}function i(){e.bufferFlushers.forEach(function(c){c(!1)})}function a(){var c;if(!e.hasLoaded)for(e.hasLoaded=!0,c=0;c<e.registeredOnLoadHandlers.length;c++)e.registeredOnLoadHandlers[c]();return!0}function o(){t.addEventListener?t.addEventListener("DOMContentLoaded",function c(){t.removeEventListener("DOMContentLoaded",c,!1),a()}):t.attachEvent&&t.attachEvent("onreadystatechange",function c(){t.readyState==="complete"&&(t.detachEvent("onreadystatechange",c),a())}),Ne(n,"load",a,!1)}return t.visibilityState&&Ne(t,"visibilitychange",r,!1),Ne(n,"beforeunload",i,!1),document.readyState==="loading"?o():a(),e}/*!
 * Browser tracker for Snowplow v3.24.6 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function Za(e,t){Cr(t,function(n){n.trackPageView(e)})}function hn(e,t){Cr(t,function(n){n.core.track(la({event:e.event}),e.context,e.timestamp)})}var _r=typeof window<"u"?Qa():void 0;function eo(e,t,n){if(n===void 0&&(n={}),_r)return Ja(e,e,"js-".concat(va),t,_r,n)}function Tt(e){return{schema:"iglu:de.id.bi.audience/cms_client/jsonschema/1-0-0",data:{cid:e}}}function to(e,t){return{schema:"iglu:de.id.bi.audience/element_active_view/jsonschema/1-0-0",data:{elementId:e,elementClasses:t}}}function St(e){return{schema:"iglu:de.id.bi.audience/origin_context/jsonschema/1-0-0",data:{octx:e}}}function xt(e){return{schema:"iglu:de.id.bi.audience/online_story/jsonschema/1-0-0",data:{oid:e}}}function nt(e){return{schema:"iglu:de.id.bi.audience/page_view/jsonschema/1-0-0",data:{pvid:e.toString()}}}function mn({shn:e,sht:t,shtg:n,p:r}){return{schema:"iglu:de.id.bi.audience/shelf/jsonschema/1-0-0",data:{sht:t,shn:e,shtg:n,properties:r}}}function Ct(e){return{schema:"iglu:de.id.bi.audience/use_case/jsonschema/1-0-0",data:{useCase:e}}}function rt(e){return{schema:"iglu:de.id.bi.audience/user_agent/jsonschema/1-0-0",data:{userAgent:e}}}function it(e,t,n){return{schema:"iglu:de.id.bi.audience/user/jsonschema/1-0-0",data:{utid:e.toString(),...t&&{upid:t},...n&&{mtid:n}}}}function gn(e,t,n){return{schema:"iglu:de.id.bi.audience/user_interaction/jsonschema/1-0-0",data:{uiaid:`${e.toString()}-${t.toString()}`,...n??{}}}}const no=e=>{const t=["ONLINE_STORY","STORY_ELEMENT"];return Array.isArray(e)?e.every(n=>{const r=Object.keys(n),i=r.length===2&&r.includes("type")&&r.includes("value"),a=Object.values(t).includes(n.type);return i&&a}):!1};function kr(e){if(!e.classList)return[];const t=[];return e.classList.forEach(n=>t.push(n)),t}function pn(e,t){const n=t.getAttribute(e);let r;if(n===null)return;try{r=JSON.parse(n)}catch{return}if(typeof r!="object")return;const{shn:i}=r;if(!i||typeof i!="string")return;const{sht:a}=r;if(!a||typeof a!="string")return;let{shtg:o}=r;o&&no(o)||(o=void 0);let{p:c}=r;return(!c||typeof c!="object"||Object.keys(c).length>16)&&(c=void 0),{shn:i,sht:a,shtg:o,p:c}}class ro{constructor(t,n,r,i,a,o,c,u,s,f,v){this.trackerId=t,this.activeView=n,this.pageViewId=r,this.userTransientId=i,this.userInteraction=a,this.persistentId=o,this.mtid=c,this.useCase=u,this.onlineId=s,this.cid=f,this.originContext=v,this.activeView.addEventListener(h=>{this.handleActiveViewElement(h)})}trackElementActiveView(t){this.activeView.observe(t)}handleActiveViewElement(t){const n=t.id,r=kr(t),i=pn("data-id-av",t),a=t.getAttribute("data-id-av-trigger-event");a&&t.dispatchEvent(new Event(a,{bubbles:!0})),this.sendIndependentActiveView({elementId:n,elementClasses:r,shelfData:i})}sendIndependentActiveView({elementId:t,elementClasses:n,shelfData:r}){if(!r)return;const i=this.buildContext(r),a=to(t,n);this.userInteraction.increment(),hn({context:i,event:a},[this.trackerId])}buildContext(t){const n=[nt(this.pageViewId),mn(t),it(this.userTransientId,this.persistentId,this.mtid),gn(this.pageViewId,this.userInteraction),rt(navigator.userAgent)];return this.useCase&&n.push(Ct(this.useCase)),this.onlineId&&n.push(xt(this.onlineId)),this.cid!==void 0&&n.push(Tt(this.cid)),this.originContext&&n.push(St(this.originContext)),n}}function io(e,t,n,r,i,a,o,c){const u={metadata:{key:c},origin:{system:t,useCase:n},cmsClientId:o,pageViewId:r,payload:a,userAgent:i};fetch(`${e}/bi/dev`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(s=>s.ok?s:s.text().then(f=>{throw new Error(`Error ${s.status}: ${f}`)})).catch(s=>{console.error("Failed to track dev event:",s)})}class ao{constructor(t,n,r,i){this.endpoint=t,this.originSystem=n,this.pageViewId=r,this.cid=i}sendDevEvent(t,n,r){const{userAgent:i}=navigator;io(this.endpoint,this.originSystem,t,this.pageViewId.toString(),i,n,this.cid??0,r)}}function oo(e,t){return{schema:"iglu:de.id.bi.audience/element_click/jsonschema/1-0-0",data:{elementId:e,elementClasses:t}}}class so{constructor(t,n,r,i,a,o){this.trackerId=t,this.pageViewId=n,this.userTransientId=r,this.userInteraction=i,this.persistentId=a,this.mtid=o}trackElementClick({htmlElement:t,shelfData:n}){t.addEventListener("click",()=>{const r=t.id,i=kr(t);this.sendIndependentElementClick({elementId:r,elementClasses:i,shelfData:n})},{once:!0})}sendIndependentElementClick({elementId:t,elementClasses:n,shelfData:r}){if(!r)return;const i=[nt(this.pageViewId),mn(r),it(this.userTransientId,this.persistentId,this.mtid),gn(this.pageViewId,this.userInteraction),rt(navigator.userAgent)],a=oo(t,n);this.userInteraction.increment(),hn({context:i,event:a},[this.trackerId])}}var wn={exports:{}},br=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(br){var Pr=new Uint8Array(16);wn.exports=function(){return br(Pr),Pr}}else{var Rr=new Array(16);wn.exports=function(){for(var t=0,n;t<16;t++)t&3||(n=Math.random()*4294967296),Rr[t]=n>>>((t&3)<<3)&255;return Rr}}for(var Or=wn.exports,Dr=[],_t=0;_t<256;++_t)Dr[_t]=(_t+256).toString(16).substr(1);function co(e,t){var n=t||0,r=Dr;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var Nr=co,uo=Or,lo=Nr,Lr,yn,An=0,En=0;function fo(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=e.node||Lr,o=e.clockseq!==void 0?e.clockseq:yn;if(a==null||o==null){var c=uo();a==null&&(a=Lr=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=yn=(c[6]<<8|c[7])&16383)}var u=e.msecs!==void 0?e.msecs:new Date().getTime(),s=e.nsecs!==void 0?e.nsecs:En+1,f=u-An+(s-En)/1e4;if(f<0&&e.clockseq===void 0&&(o=o+1&16383),(f<0||u>An)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");An=u,En=s,yn=o,u+=122192928e5;var v=((u&268435455)*1e4+s)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=v&255;var h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=a[w];return t||lo(i)}var vo=fo,ho=Or,mo=Nr;function go(e,t,n){var r=t&&n||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||ho)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||mo(i)}var po=go,wo=vo,Mr=po,Ur=Mr;Ur.v1=wo,Ur.v4=Mr;/*!
 * Core functionality for Snowplow JavaScript trackers v3.24.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function yo(){var e={},t=[],n=[],r=[],i,a=function(s,f){f!=null&&f!==""&&(e[s]=f)},o=function(s){for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&a(f,s[f])},c=function(s,f,v){if(v&&Ao(v)){var h={keyIfEncoded:s,keyIfNotEncoded:f,json:v};n.push(h),t.push(h)}},u=function(s){r.push(s)};return{add:a,addDict:o,addJson:c,addContextEntity:u,getPayload:function(){return e},getJson:function(){return t},withJsonProcessor:function(s){i=s},build:function(){return i==null||i(this,n,r),e}}}function Ao(e){if(!Eo(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function Eo(e){return typeof e<"u"&&e!==null&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var kt="Snowplow: ",oe;(function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"})(oe||(oe={})),Io();function Io(e){e===void 0&&(e=oe.warn);function t(o){oe[o]?e=o:e=oe.warn}function n(o,c){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];if(e>=oe.error&&typeof console<"u"){var f=kt+o+`
`;c?console.error.apply(console,F([f+`
`,c],u,!1)):console.error.apply(console,F([f],u,!1))}}function r(o,c){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];if(e>=oe.warn&&typeof console<"u"){var f=kt+o;c?console.warn.apply(console,F([f+`
`,c],u,!1)):console.warn.apply(console,F([f],u,!1))}}function i(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];e>=oe.debug&&typeof console<"u"&&console.debug.apply(console,F([kt+o],c,!1))}function a(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];e>=oe.info&&typeof console<"u"&&console.info.apply(console,F([kt+o],c,!1))}return{setLogLevel:t,warn:r,error:n,debug:i,info:a}}function To(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=e==null?void 0:e.map(function(i){if(typeof i=="function")try{return i.apply(void 0,n)}catch{return}else return i}).filter(Boolean))!==null&&t!==void 0?t:[]}function So(e){var t=e.event,n=t.schema,r=t.data,i=yo(),a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return i.add("e","ue"),i.addJson("ue_px","ue_pr",a),i}function xo(e){var t=e.targetUrl,n=e.elementId,r=e.elementClasses,i=e.elementTarget,a=e.elementContent,o={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:Co({targetUrl:t,elementId:n,elementClasses:r,elementTarget:i,elementContent:a})};return So({event:o})}function Co(e,t){t===void 0&&(t={});var n={};for(var r in e)(t[r]||e[r]!==null&&typeof e[r]<"u")&&(n[r]=e[r]);return n}var In={exports:{}},Vr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Vr){var Br=new Uint8Array(16);In.exports=function(){return Vr(Br),Br}}else{var $r=new Array(16);In.exports=function(){for(var t=0,n;t<16;t++)t&3||(n=Math.random()*4294967296),$r[t]=n>>>((t&3)<<3)&255;return $r}}for(var Hr=In.exports,jr=[],bt=0;bt<256;++bt)jr[bt]=(bt+256).toString(16).substr(1);function _o(e,t){var n=t||0,r=jr;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var Fr=_o,ko=Hr,bo=Fr,Yr,Tn,Sn=0,xn=0;function Po(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=e.node||Yr,o=e.clockseq!==void 0?e.clockseq:Tn;if(a==null||o==null){var c=ko();a==null&&(a=Yr=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=Tn=(c[6]<<8|c[7])&16383)}var u=e.msecs!==void 0?e.msecs:new Date().getTime(),s=e.nsecs!==void 0?e.nsecs:xn+1,f=u-Sn+(s-xn)/1e4;if(f<0&&e.clockseq===void 0&&(o=o+1&16383),(f<0||u>Sn)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Sn=u,xn=s,Tn=o,u+=122192928e5;var v=((u&268435455)*1e4+s)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=v&255;var h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=a[w];return t||bo(i)}var Ro=Po,Oo=Hr,Do=Fr;function No(e,t,n){var r=t&&n||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Oo)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||Do(i)}var Lo=No,Mo=Ro,zr=Lo,Gr=zr;Gr.v1=Mo,Gr.v4=zr;/*!
 * Core functionality for Snowplow Browser trackers v3.24.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function Uo(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e}function Cn(e,t,n,r){if(e.addEventListener)return e.addEventListener(t,n,r),!0;if(e.attachEvent)return e.attachEvent("on"+t,n);e["on"+t]=n}function Vo(e){if(e==null||typeof e!="object"||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=Ho(e);return $o(e,function(r){return Bo(r,n)===t})}function Jr(e){return e.className.match(/\S+/g)||[]}function Bo(e,t){for(var n=Jr(e),r=0,i=n;r<i.length;r++){var a=i[r];if(t[a])return!0}return!1}function $o(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function Ho(e){var t={},n=e.allowlist||e.denylist;if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)t[n[r]]=!0}return t}/*!
 * Link Click tracking for Snowplow v3.24.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */var xe={},Y={};function jo(){return{activateBrowserPlugin:function(e){xe[e.id]=e}}}function Fo(e,t){e===void 0&&(e={}),t===void 0&&(t=Object.keys(xe)),t.forEach(function(n){xe[n]&&(xe[n].sharedState.hasLoaded?(Wr(e,n),Xr(n)):xe[n].sharedState.registeredOnLoadHandlers.push(function(){Wr(e,n),Xr(n)}))})}function qr(e,t,n){for(var r,i,a,o,c,u;(r=t.parentElement)!==null&&r!=null&&(i=t.tagName.toUpperCase())!=="A"&&i!=="AREA";)t=r;var s=t;if(s.href!=null){var f=s.hostname||Uo(s.href),v=f.toLowerCase(),h=s.href.replace(f,v),w=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript):","i");w.test(h)||(a=s.id,o=Jr(s),c=s.target,u=Y[e.id].linkTrackingContent?s.innerHTML:void 0,h=unescape(h),e.core.track(xo({targetUrl:h,elementId:a,elementClasses:o,elementTarget:c,elementContent:u}),To(n,t)))}}function _n(e,t){return function(n){var r,i;n=n||window.event,r=n.which||n.button,i=n.target||n.srcElement,n.type==="click"?i&&qr(xe[e],i,t):n.type==="mousedown"?(r===1||r===2)&&i?(Y[e].lastButton=r,Y[e].lastTarget=i):Y[e].lastButton=Y[e].lastTarget=null:n.type==="mouseup"&&(r===Y[e].lastButton&&i===Y[e].lastTarget&&qr(xe[e],i,t),Y[e].lastButton=Y[e].lastTarget=null)}}function Yo(e,t){Y[e].linkTrackingPseudoClicks?(Cn(t,"mouseup",_n(e,Y[e].linkTrackingContext),!1),Cn(t,"mousedown",_n(e,Y[e].linkTrackingContext),!1)):Cn(t,"click",_n(e,Y[e].linkTrackingContext),!1)}function Wr(e,t){var n=e===void 0?{}:e,r=n.options,i=n.pseudoClicks,a=n.trackContent,o=n.context;Y[t]={linkTrackingContent:a,linkTrackingContext:o,linkTrackingPseudoClicks:i,linkTrackingFilter:Vo(r)}}function Xr(e){var t,n,r=document.links,i;for(i=0;i<r.length;i++)!((n=(t=Y[e]).linkTrackingFilter)===null||n===void 0)&&n.call(t,r[i])&&!r[i][e]&&(Yo(e,r[i]),r[i][e]=!0)}const zo={shn:"link",sht:"LINK",shtg:void 0,p:{}},Go=e=>{const t=pn("data-id-ec",e);return mn(t??zo)};class Jo{constructor(t,n,r,i,a,o,c,u,s){this.pageViewId=t,this.userTransientId=n,this.userInteraction=r,this.persistentId=i,this.mtid=a,this.useCase=o,this.onlineId=c,this.cid=u,this.originContext=s}trackLinkClick(){Fo({context:[()=>nt(this.pageViewId),t=>Go(t),t=>this.getUserInteractionContext(t),()=>it(this.userTransientId,this.persistentId,this.mtid),()=>this.useCase?Ct(this.useCase):null,()=>this.onlineId?xt(this.onlineId):null,()=>this.cid!==void 0?Tt(this.cid):null,()=>this.originContext?St(this.originContext):null,rt(navigator.userAgent)]})}getUserInteractionContext(t){let n="";t.tagName.toLowerCase()==="a"&&(n=t.href);const r=gn(this.pageViewId,this.userInteraction,{targetUrl:n});return this.userInteraction.increment(),r}}class qo{constructor(t,n,r,i,a,o,c,u,s){this.trackerId=t,this.pageViewId=n,this.userTransientId=r,this.persistentId=i,this.mtid=a,this.useCase=o,this.onlineId=c,this.cid=u,this.originContext=s}trackPageView(){const t=[nt(this.pageViewId),it(this.userTransientId,this.persistentId,this.mtid),rt(navigator.userAgent)];this.useCase&&t.push(Ct(this.useCase)),this.onlineId&&t.push(xt(this.onlineId)),this.cid!==void 0&&t.push(Tt(this.cid)),this.originContext&&t.push(St(this.originContext)),Za({context:t},[this.trackerId])}}for(var $=[],kn=0;kn<256;++kn)$.push((kn+256).toString(16).slice(1));function Wo(e,t=0){return($[e[t+0]]+$[e[t+1]]+$[e[t+2]]+$[e[t+3]]+"-"+$[e[t+4]]+$[e[t+5]]+"-"+$[e[t+6]]+$[e[t+7]]+"-"+$[e[t+8]]+$[e[t+9]]+"-"+$[e[t+10]]+$[e[t+11]]+$[e[t+12]]+$[e[t+13]]+$[e[t+14]]+$[e[t+15]]).toLowerCase()}var Pt,Xo=new Uint8Array(16);function Ko(){if(!Pt&&(Pt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pt(Xo)}var Qo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Kr={randomUUID:Qo};function Rt(e,t,n){if(Kr.randomUUID&&!t&&!e)return Kr.randomUUID();e=e||{};var r=e.random||(e.rng||Ko)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Wo(r)}function Zo(e,t,n,r,i,a,o,c,u,s,f){return{schema:"iglu:de.id.bi.audience/page_scroll/jsonschema/1-0-0",data:{adRecommendationEndReached:u,adRecommendationHeight:c,adsInArticleCount:s,adsInArticleReached:f,articleCommentsBeginReached:n,articleCommentsEndReached:t,id:e,pageFooterReached:r,storyElementReachedByUser:i,timeSpentOnPage:a,totalPercentageScrollDepth:o}}}const es="article",ts="div.id-Comments",ns="div.id-Comments--targetHelper",Qr=["h1.id-StoryElement-headline","h2.id-StoryElement-chapterHeadline","h2.id-StoryElement-crosshead","p.id-StoryElement-paragraph","p.id-StoryElement-leadText","p.id-StoryElement-kicker","p.id-StoryElement-question","blockquote.id-StoryElement-quote","div.id-StoryElement-text","div.id-StoryElement-embed","div.id-StoryElement-interactiveElement","figcaption.id-StoryElement-graphic","figure.id-StoryElement-image","figure.id-StoryElement-galleryImage","table.id-StoryElement-table","ul.id-StoryElement-list","div.id-StoryElement-inArticleReco","aside.id-StoryElement-intestitialLink","section.id-StoryElement-factBox","aside.id-StoryElement-recipe","figure.id-StoryElement-recipe-image","p.id-StoryElement-recipe-interactionBar","div.id-StoryElement-summary","div.id-StoryElement-relatedStories","div.id-StoryElement-tableOfContents","blockquote.id-StoryElement-blockquote","div.id-StoryElement-answer","ol.id-DonaldBreadcrumb","p.id-Story-interactionBar","p.id-Story-authors","p.id-Story-timestamp"],rs="footer",is="div.id-Recommendation",Zr="div.id-TBeepSlot--content",bn=e=>{const t=document.querySelector(e);return t?t.getBoundingClientRect().top<=window.innerHeight:!1},as=e=>e?e.getBoundingClientRect().top<=window.innerHeight:!1,ei=e=>{let t=0;return e==null||e.forEach(n=>{as(n)&&(t+=1)}),t},os=()=>{const e=document.querySelectorAll(Zr);return e?e.length:0},ss=e=>Date.now()-e,cs=()=>window.scrollY,us=()=>{const e=document.documentElement.scrollHeight-window.innerHeight;return Math.floor(cs()/e*100/10)*10},ls=e=>{var t;return((t=document.querySelector(e))==null?void 0:t.clientHeight)??0},fs=()=>{const e=document.querySelector(es);if(!e)return null;const t=Qr?Qr.join(", "):"";return e?e.querySelectorAll(t):null};class ds{constructor(t,n,r,i,a,o,c,u,s){this.trackerId=t,this.pageViewId=n,this.userTransientId=r,this.persistentId=i,this.onlineId=a,this.mtid=o,this.cid=c,this.useCase=u,this.originContext=s,this.sections=null,this.id="",this.startTime=Date.now(),this.articleCommentsEndReached=!1,this.articleCommentsBeginReached=!1,this.pageFooterReached=!1,this.adRecommendationEndReached=!1,this.storyElementReachedByUser=0,this.timeSpentOnPage=0,this.totalPercentageScrollDepth=0,this.adRecommendationHeight=0,this.adsInArticleCount=0,this.adsInArticleReached=0,this.buildTrackingContext=()=>{const f=[nt(this.pageViewId),it(this.userTransientId,this.persistentId,this.mtid),rt(navigator.userAgent)];return this.useCase&&f.push(Ct(this.useCase)),this.cid&&f.push(Tt(this.cid)),this.originContext&&f.push(St(this.originContext)),this.onlineId&&f.push(xt(this.onlineId)),f},this.boundUpdateScrollData=this.updateScrollData.bind(this),this.initArticleTracking()}initArticleTracking(){this.id=Rt(),this.adsInArticleCount=os(),this.sections=fs(),window.addEventListener("scroll",this.boundUpdateScrollData),window.addEventListener("beforeunload",this.sendFinalScrollEvent.bind(this))}updateScrollData(){this.storyElementReachedByUser=ei(this.sections),this.adsInArticleReached=ei(document.querySelectorAll(Zr)),!this.pageFooterReached&&bn(rs)&&(this.pageFooterReached=!0),!this.articleCommentsBeginReached&&bn(ts)&&(this.articleCommentsBeginReached=!0),!this.articleCommentsEndReached&&bn(ns)&&(this.articleCommentsEndReached=!0),!this.adRecommendationEndReached&&this.articleCommentsBeginReached&&(this.adRecommendationEndReached=!0);const t=us();t>this.totalPercentageScrollDepth&&(this.totalPercentageScrollDepth=t)}sendFinalScrollEvent(){if(this.timeSpentOnPage=ss(this.startTime),this.timeSpentOnPage>18e5)return;this.adRecommendationHeight=ls(is);const n=Zo(this.id,this.articleCommentsEndReached,this.articleCommentsBeginReached,this.pageFooterReached,this.storyElementReachedByUser,this.timeSpentOnPage,this.totalPercentageScrollDepth,this.adRecommendationHeight,this.adRecommendationEndReached,this.adsInArticleCount,this.adsInArticleReached),r=this.buildTrackingContext();hn({context:r,event:n},[this.trackerId]),this.cleanupListeners()}cleanupListeners(){window.removeEventListener("scroll",this.boundUpdateScrollData),window.removeEventListener("beforeunload",this.sendFinalScrollEvent.bind(this))}}class vs{static setIdCookie(t,n){const r=new Date;r.setTime(r.getTime()+10*24*60*60*1e3);const i=`expires=${r.toUTCString()}`,a=n??t??"";a&&(document.cookie=`_id=${a};${i};path=/`)}static getCookie(t){const n=document.cookie.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`);return n?n.pop()??null:null}}class hs{constructor(t,n,r,i,a,o,c,u,s,f,v,h,w,I,d){this.scrollArticle=null,this.userTransientId=n,this.trackerId=c,this.postPath="/bi/doop/",I==="cypress"&&(this.postPath=void 0),this.pageViewModule=new qo(this.trackerId,t,n,h,d,v,f,s,w),this.linkTrackingModule=new Jo(t,n,r,h,d,v,f,s,w),this.elementClickModule=new so(this.trackerId,t,n,r,h,d),this.activeViewModule=new ro(this.trackerId,i,t,n,r,h,d,v,f,s,w),this.devEventsModule=new ao(o,a,t,s),n&&vs.setIdCookie(n.toString());const p=this.postPath?"beacon":"post";eo(c,o,{postPath:this.postPath,appId:a,discoverRootDomain:!0,cookieSameSite:"Lax",plugins:u,eventMethod:p,contexts:{webPage:!0,session:!0,browser:!0}}),this.scrollArticle=new ds(c,t,this.userTransientId,h,f,d,s)}getUserTransientId(){return this.userTransientId}sendPageView(){this.pageViewModule.trackPageView()}trackLinkClick(){this.linkTrackingModule.trackLinkClick()}trackElementClick(t){this.elementClickModule.trackElementClick(t)}trackElementActiveView(t){this.activeViewModule.trackElementActiveView(t)}sendDevEvent(t,n,r){this.devEventsModule.sendDevEvent(t,n,r)}}var ti={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,s,f){this.fn=u,this.context=s,this.once=f||!1}function a(u,s,f,v,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var w=new i(f,v||u,h),I=n?n+s:s;return u._events[I]?u._events[I].fn?u._events[I]=[u._events[I],w]:u._events[I].push(w):(u._events[I]=w,u._eventsCount++),u}function o(u,s){--u._eventsCount===0?u._events=new r:delete u._events[s]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var s=[],f,v;if(this._eventsCount===0)return s;for(v in f=this._events)t.call(f,v)&&s.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},c.prototype.listeners=function(s){var f=n?n+s:s,v=this._events[f];if(!v)return[];if(v.fn)return[v.fn];for(var h=0,w=v.length,I=new Array(w);h<w;h++)I[h]=v[h].fn;return I},c.prototype.listenerCount=function(s){var f=n?n+s:s,v=this._events[f];return v?v.fn?1:v.length:0},c.prototype.emit=function(s,f,v,h,w,I){var d=n?n+s:s;if(!this._events[d])return!1;var p=this._events[d],_=arguments.length,E,S;if(p.fn){switch(p.once&&this.removeListener(s,p.fn,void 0,!0),_){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,v),!0;case 4:return p.fn.call(p.context,f,v,h),!0;case 5:return p.fn.call(p.context,f,v,h,w),!0;case 6:return p.fn.call(p.context,f,v,h,w,I),!0}for(S=1,E=new Array(_-1);S<_;S++)E[S-1]=arguments[S];p.fn.apply(p.context,E)}else{var m=p.length,T;for(S=0;S<m;S++)switch(p[S].once&&this.removeListener(s,p[S].fn,void 0,!0),_){case 1:p[S].fn.call(p[S].context);break;case 2:p[S].fn.call(p[S].context,f);break;case 3:p[S].fn.call(p[S].context,f,v);break;case 4:p[S].fn.call(p[S].context,f,v,h);break;default:if(!E)for(T=1,E=new Array(_-1);T<_;T++)E[T-1]=arguments[T];p[S].fn.apply(p[S].context,E)}}return!0},c.prototype.on=function(s,f,v){return a(this,s,f,v,!1)},c.prototype.once=function(s,f,v){return a(this,s,f,v,!0)},c.prototype.removeListener=function(s,f,v,h){var w=n?n+s:s;if(!this._events[w])return this;if(!f)return o(this,w),this;var I=this._events[w];if(I.fn)I.fn===f&&(!h||I.once)&&(!v||I.context===v)&&o(this,w);else{for(var d=0,p=[],_=I.length;d<_;d++)(I[d].fn!==f||h&&!I[d].once||v&&I[d].context!==v)&&p.push(I[d]);p.length?this._events[w]=p.length===1?p[0]:p:o(this,w)}return this},c.prototype.removeAllListeners=function(s){var f;return s?(f=n?n+s:s,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(ti);var ms=ti.exports;const gs=Jn(ms),Ot="id-av";class ps{constructor(t=.5,n=1e3,r){this.events=new gs,this.viewTime=n,this.inner=new IntersectionObserver(i=>{i.forEach(a=>{const o=a.target;if(a.isIntersecting)o.setAttribute(Ot,setTimeout(()=>{this.trackVisibility(o)},this.viewTime).toString());else{const c=o.getAttribute(Ot);if(c===null)return;clearTimeout(parseInt(c,10)),o.removeAttribute(Ot)}})},{threshold:t,root:r})}addEventListener(t){this.events.addListener("observe",t)}trackVisibility(t){this.inner.unobserve(t),t.removeAttribute(Ot),this.events.emit("observe",t)}observe(t){this.inner.observe(t)}unobserve(t){this.inner.unobserve(t)}}function ws(){let e,t,n,r,i,a;return Array.isArray(window.dataLayer)&&window.dataLayer.forEach(o=>{e=e??o["de.ippen-digital.story.onlineId"],t=t??o["de.ippen-digital.page.pageViewId"],n=n??o["de.ippen-digital.user.transientId"],r=r??o["de.ippen-digital.cms.cid"],i=i??o["de.ippen-digital.useCase"],a=a??o["de.ippen-digital.request.xRequestedWith"]}),{oid:e,pvid:t,utid:n,cid:r,useCase:i,octx:a}}const ys=["BI_AUDIENCE_HUB","PNA","WEST","MOBILE_APP","YARP2","YARP3","NEWSLETTER","FR_PLUS_APP","SUBSCRIPTION","CIAM_SSO","E_PAPER","SERIENJUNKIES_WIKI","USER_ID"],As=["MOBILE_APP","CIAM_SSO"],Es=["epaper.hna.de","devhnaepaper.de"];function Is(e,t,n){const r=`${t}=${n}`,i=e.split("#"),a=i[0].split("?"),o=a.shift();let c=a.join("?");if(!c)c=r;else{let u=!0;const s=c.split("&");for(let f=0;f<s.length;f+=1)if(s[f].substring(0,t.length+1)===`${t}=`){u=!1,s[f]=r,c=s.join("&");break}u&&(c=`${r}&${c}`)}return i[0]=`${o}?${c}`,i.join("#")}function ni(e,t,n,r){e.addEventListener&&e.addEventListener(t,n,r),e.attachEvent&&e.attachEvent(`on${t}`,n),e[`on${t}`]=n}function Ts(e,t){const n=new Date().getTime(),r=e.currentTarget;r!=null&&r.href&&(r.href=Is(r.href,"transientId",`${t}.${n}`))}function Pn(e,t){const n=new RegExp(`^[^#]*[?&]${e}=([^&#]*)`).exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Rn(e){var r;const n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length===2)return(r=n==null?void 0:n.pop())==null?void 0:r.split(";").shift()}function ri(e,t){Array.from(document.links).forEach(r=>{const i=r;if(!i.spDecorationEnabled&&t(r)){const a=o=>Ts(o,e);ni(r,"click",a,!0),ni(r,"mousedown",a,!0),i.spDecorationEnabled=!0}})}function Ss(e,t,n){let r=e.cid??t.cid;if(r===void 0){const a=Pn("clientId",window.location.href);a&&(r=parseInt(a.split(".")[0],10),sessionStorage.setItem("hostId",r.toString()))}const i=parseInt(sessionStorage.getItem("hostId"),10);if(i&&(r=i),r===void 0&&As.includes(n))throw new Error("The Client ID (CID) must be included!");if(r&&typeof r!="number")throw new Error(`The Client ID (CID) must be a number, but it is ${typeof r}`);return r}function xs(e,t){const n=e.onlineId??t.oid;if(n&&typeof n!="number")throw new Error(`The Online ID (OID) must be a number, but it is ${typeof n}`);return n}class Ce{constructor(t){this.toString=()=>this.pvid,this.pvid=t}static generate(t){return t?new Ce(`${t}-${Math.floor(Date.now()/1e3)}-${String(1).padStart(10,"0")}`):new Ce(`${Rt()}-${Math.floor(Date.now()/1e3)}-${String(1).padStart(10,"0")}`)}}function Cs(e,t,n){if(Pn("pageViewId",window.location.href))return Ce.generate(n.toString());if(e.pageViewId)return new Ce(e.pageViewId);if(t.pvid)return new Ce(t.pvid);if(e.generatePageViewIdIfMissing===!0)return Ce.generate(n.toString());throw new Error("PageViewId not found")}var ii={exports:{}};(function(e){(function(t){var n=function(){var r="s",i={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk","Africa/Windhoek"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},a=function(d){var p=-d.getTimezoneOffset();return p!==null?p:0},o=function(){for(var d=[],p=0;p<=11;p++)for(var _=1;_<=28;_++){var E=a(new Date(i.BASELINE_YEAR,p,_));d?d&&d[d.length-1]!==E&&d.push(E):d.push()}return d},c=function(){var d=0,p=o();return p.length>1&&(d=p[0]-p[1]),p.length>3?p[0]+",1,weird":d<0?p[0]+",1":d>0?p[1]+",1,"+r:p[0]+",0"},u=function(){var d,p;if(Intl&&typeof Intl<"u"&&typeof Intl.DateTimeFormat<"u"&&(d=Intl.DateTimeFormat(),typeof d<"u"&&typeof d.resolvedOptions<"u"))return p=d.resolvedOptions().timeZone,p&&(p.indexOf("/")>-1||p==="UTC")?p:void 0},s=function(d){for(var p=new Date(d,0,1,0,0,1,0).getTime(),_=new Date(d,12,31,23,59,59).getTime(),E=p,S=new Date(E).getTimezoneOffset(),m=null,T=null;E<_-864e5;){var C=new Date(E),O=C.getTimezoneOffset();O!==S&&(O<S&&(m=C),O>S&&(T=C),S=O),E+=864e5}return!(!m||!T)&&{s:f(m).getTime(),e:f(T).getTime()}},f=function d(p,_,E){typeof _>"u"&&(_=i.DAY,E=i.HOUR);for(var S=new Date(p.getTime()-_).getTime(),m=p.getTime()+_,T=new Date(S).getTimezoneOffset(),C=S,O=null;C<m-E;){var j=new Date(C),G=j.getTimezoneOffset();if(G!==T){O=j;break}C+=E}return _===i.DAY?d(O,i.HOUR,i.MINUTE):_===i.HOUR?d(O,i.MINUTE,i.SECOND):O},v=function(d,p,_,E){if(_!=="N/A")return _;if(p==="Asia/Beirut"){if(E.name==="Africa/Cairo"&&d[6].s===13983768e5&&d[6].e===14116788e5||E.name==="Asia/Jerusalem"&&d[6].s===13959648e5&&d[6].e===14118588e5)return 0}else if(p==="America/Santiago"){if(E.name==="America/Asuncion"&&d[6].s===14124816e5&&d[6].e===1397358e6||E.name==="America/Campo_Grande"&&d[6].s===14136912e5&&d[6].e===13925196e5)return 0}else if(p==="America/Montevideo"){if(E.name==="America/Sao_Paulo"&&d[6].s===14136876e5&&d[6].e===1392516e6)return 0}else if(p==="Pacific/Auckland"&&E.name==="Pacific/Fiji"&&d[6].s===14142456e5&&d[6].e===13961016e5)return 0;return _},h=function(d,p){for(var _=function(B){for(var L=0,M=0;M<d.length;M++)if(B.rules[M]&&d[M]){if(!(d[M].s>=B.rules[M].s&&d[M].e<=B.rules[M].e)){L="N/A";break}if(L=0,L+=Math.abs(d[M].s-B.rules[M].s),L+=Math.abs(B.rules[M].e-d[M].e),L>i.MAX_SCORE){L="N/A";break}}return L=v(d,p,L,B)},E={},S=n.olson.dst_rules.zones,m=S.length,T=i.AMBIGUITIES[p],C=0;C<m;C++){var O=S[C],j=_(S[C]);j!=="N/A"&&(E[O.name]=j)}for(var G in E)if(E.hasOwnProperty(G)){for(var X=0;X<T.length;X++)if(T[X]===G)return G}return p},w=function(d){var p=function(){for(var m=[],T=0;T<n.olson.dst_rules.years.length;T++){var C=s(n.olson.dst_rules.years[T]);m.push(C)}return m},_=function(m){for(var T=0;T<m.length;T++)if(m[T]!==!1)return!0;return!1},E=p(),S=_(E);return S?h(E,d):d},I=function(d){var p=!1,_=c();return(d||typeof d>"u")&&(p=u()),p||(p=n.olson.timezones[_],typeof i.AMBIGUITIES[p]<"u"&&(p=w(p))),{name:function(){return p},using_intl:d||typeof d>"u",needle:_,offsets:o()}};return{determine:I}}();n.olson=n.olson||{},n.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","0,1,weird":"Africa/Casablanca","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,weird":"Africa/Casablanca","120,1":"Asia/Beirut","120,1,weird":"Africa/Cairo","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Calcutta","345,0":"Asia/Katmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},n.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12891204e5,s:12685608e5},{e:132057e7,s:13000104e5},{e:13520196e5,s:133146e7},{e:13834692e5,s:13629096e5},{e:14149188e5,s:13943592e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Africa/Windhoek",rules:[{e:12207492e5,s:120744e7},{e:12521988e5,s:12388896e5},{e:12836484e5,s:12703392e5},{e:1315098e6,s:13017888e5},{e:13465476e5,s:13332384e5},{e:13779972e5,s:13652928e5},{e:14100516e5,s:13967424e5}]}]},e.exports=n})()})(ii);var _s=ii.exports;/*!
 * Attaches timezone to Snowplow events v3.24.6 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function ks(){return{activateBrowserPlugin:function(e){e.core.setTimezone(_s.determine(typeof Intl<"u").name())}}}const bs=e=>{const t=e.plugins??[];return t.push(jo()),t.push(ks()),t};class _e{constructor(t){this.toString=()=>this.utid,this.utid=t??Rt()}static generate(){return new _e(Rt())}}function Ps(e,t){const n=Pn("transientId",window.location.href);if(n)return new _e(n.split(".")[0]);if(e.userTransientId)return new _e(e.userTransientId);if(t.utid)return new _e(t.utid);if(Rn("_id"))return new _e(Rn("_id"));if(e.generatePageViewIdIfMissing===!0)return _e.generate();throw new Error("UserTransientId not found")}const Rs=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):void 0}catch{return}},Os=()=>{const e=Rs("utiqPass");return!e||!e.connectId||!e.connectId.idGraph||e.connectId.idGraph.length===0||!e.connectId.idGraph[0].mtid?"":e.connectId.idGraph[0].mtid};class Ds{constructor(t){this.toString=()=>String(this.state).padStart(4,"0"),t?this.state=t:this.state=1}increment(){this.state+=1}}const Ns=()=>{const e=Rn("id_userid_pid");if(!(!e||typeof e!="string")&&/^[a-f0-9]{64}$/.test(e))return e},Ls=e=>{if(!e.originSystem)throw new Error("Invalid originSystem");if(!e.endpoint)throw new Error("Invalid endpoint");const{originSystem:t}=e;if(!ys.includes(t))throw new Error(`The origin system ${t} is not allowed. Note that the origin system is case sensitive`);return!0},Ms=e=>{if(!(!e||typeof e!="string")&&!(e.length>128)&&e===e.toLowerCase()&&/^[a-z0-9_]+$/.test(e))return e},Us="bi-audience-hub";function Vs(e){Ls(e);const{id:t,originSystem:n,endpoint:r,postPath:i,firstUserInteraction:a,activeViewThreshold:o,activeViewTime:c,activeViewRoot:u}=e,s=ws(),f=Ms(s.useCase),v=Ns(),h=s.octx,w=new Ds(a),I=new ps(o,c,u),d=Ps(e,s),p=Cs(e,s,d),_=Ss(e,s,n),E=xs(e,s),S=Os(),m=t??Us,T=bs(e);return new hs(p,d,w,I,n,r,m,T,_,E,f,v,h,i,S)}const Bs=" ",$s="pv",Hs="pvid",js="ec",Fs="av",Ys="cdt",zs="at",Gs="st";function Js(e){if(!e)return{track_pageview:!0,generate_page_view_id:!0,enable_element_click_tracking:!0,enable_active_view_tracking:!0,enable_cross_domain_tracking:!0,enable_activity_tracking:!1,enable_scroll_tracking:!0};const t=e.split(Bs).filter(n=>!!n).map(n=>n.trim());return{track_pageview:t.some(n=>n===$s),generate_page_view_id:t.some(n=>n===Hs),enable_element_click_tracking:t.some(n=>n===js),enable_active_view_tracking:t.some(n=>n===Fs),enable_activity_tracking:t.some(n=>n===zs),enable_cross_domain_tracking:t.some(n=>n===Ys),enable_scroll_tracking:t.some(n=>n===Gs)}}function qs(){const{protocol:e,hostname:t}=window.location;return t==="localhost"?"https://idcdn.de":`${e}//${t}`}function Ws(e,t,n,r){ri(e,t);{const i=document.getElementById(n);if(!i)return;new MutationObserver(()=>{ri(e,t)}).observe(i,r??{attributes:!0,childList:!0,subtree:!0})}}class ai{constructor(t,n,r){this.query=t,this.markerAttribute=n,this.onDiscover=r}refresh(){document.querySelectorAll(this.query).forEach(t=>{t.getAttribute(this.markerAttribute)===null&&(this.onDiscover(t),t.setAttribute(this.markerAttribute,"1"))})}}(()=>{const{currentScript:e}=document;if(!e)return;const t=e.getAttribute("data-id-post-path"),n=e.getAttribute("data-id-origin-system"),r=e.getAttribute("data-id-address"),i=e.getAttribute("data-id-features"),a=e.getAttribute("data-id-cid"),o=Js(i),c=r??qs();if(!n||!c)return;const u=Vs({originSystem:n,endpoint:c,generatePageViewIdIfMissing:o.generate_page_view_id,postPath:t,cid:a?Number.parseInt(a,10):void 0});if(o.track_pageview&&u.sendPageView(),u.trackLinkClick(),o.enable_element_click_tracking){const s=["a"],f=new ai("[data-id-ec]","data-id-em",v=>{if(!s.includes(v.tagName.toLowerCase())){const h=pn("data-id-ec",v);u.trackElementClick({htmlElement:v,shelfData:h})}});f.refresh(),document.addEventListener("id-refresh",()=>f.refresh())}if(o.enable_active_view_tracking){const s=new ai("[data-id-av]","data-id-am",f=>{u.trackElementActiveView(f)});s.refresh(),document.addEventListener("id-refresh",()=>s.refresh())}if(o.enable_cross_domain_tracking){const s=u.getUserTransientId().toString();Ws(s,v=>Es.some(h=>v.href.includes(h)),"cxo-widget-host",{attributes:!0,childList:!0,subtree:!0})}})()})();
//# sourceMappingURL=current-tracker.js.map
